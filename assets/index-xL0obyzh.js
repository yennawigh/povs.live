var sF=Object.defineProperty;var L8=t=>{throw TypeError(t)};var oF=(t,e,n)=>e in t?sF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var It=(t,e,n)=>oF(t,typeof e!="symbol"?e+"":e,n),aF=(t,e,n)=>e.has(t)||L8("Cannot "+n);var C8=(t,e,n)=>e.has(t)?L8("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);var s3=(t,e,n)=>(aF(t,e,"access private method"),n);function OT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function to(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ov(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var NT={exports:{}},_1={},FT={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=Symbol.for("react.element"),lF=Symbol.for("react.portal"),cF=Symbol.for("react.fragment"),uF=Symbol.for("react.strict_mode"),hF=Symbol.for("react.profiler"),dF=Symbol.for("react.provider"),fF=Symbol.for("react.context"),pF=Symbol.for("react.forward_ref"),mF=Symbol.for("react.suspense"),gF=Symbol.for("react.memo"),vF=Symbol.for("react.lazy"),k8=Symbol.iterator;function yF(t){return t===null||typeof t!="object"?null:(t=k8&&t[k8]||t["@@iterator"],typeof t=="function"?t:null)}var $T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zT=Object.assign,BT={};function hu(t,e,n){this.props=t,this.context=e,this.refs=BT,this.updater=n||$T}hu.prototype.isReactComponent={};hu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UT(){}UT.prototype=hu.prototype;function av(t,e,n){this.props=t,this.context=e,this.refs=BT,this.updater=n||$T}var lv=av.prototype=new UT;lv.constructor=av;zT(lv,hu.prototype);lv.isPureReactComponent=!0;var A8=Array.isArray,jT=Object.prototype.hasOwnProperty,cv={current:null},VT={key:!0,ref:!0,__self:!0,__source:!0};function GT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jT.call(e,r)&&!VT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qd,type:t,key:s,ref:o,props:i,_owner:cv.current}}function _F(t,e){return{$$typeof:Qd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qd}function xF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I8=/\/+/g;function om(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xF(""+t.key):e.toString(36)}function J3(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qd:case lF:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+om(o,0):r,A8(i)?(n="",t!=null&&(n=t.replace(I8,"$&/")+"/"),J3(i,e,n,"",function(c){return c})):i!=null&&(uv(i)&&(i=_F(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(I8,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",A8(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+om(s,a);o+=J3(s,e,n,l,i)}else if(l=yF(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+om(s,a++),o+=J3(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function o3(t,e,n){if(t==null)return t;var r=[],i=0;return J3(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lr={current:null},e0={transition:null},wF={ReactCurrentDispatcher:lr,ReactCurrentBatchConfig:e0,ReactCurrentOwner:cv};function HT(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:o3,forEach:function(t,e,n){o3(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return o3(t,function(){e++}),e},toArray:function(t){return o3(t,function(e){return e})||[]},only:function(t){if(!uv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=hu;Ze.Fragment=cF;Ze.Profiler=hF;Ze.PureComponent=av;Ze.StrictMode=uF;Ze.Suspense=mF;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wF;Ze.act=HT;Ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jT.call(e,l)&&!VT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qd,type:t.type,key:i,ref:s,props:r,_owner:o}};Ze.createContext=function(t){return t={$$typeof:fF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dF,_context:t},t.Consumer=t};Ze.createElement=GT;Ze.createFactory=function(t){var e=GT.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:pF,render:t}};Ze.isValidElement=uv;Ze.lazy=function(t){return{$$typeof:vF,_payload:{_status:-1,_result:t},_init:bF}};Ze.memo=function(t,e){return{$$typeof:gF,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=e0.transition;e0.transition={};try{t()}finally{e0.transition=e}};Ze.unstable_act=HT;Ze.useCallback=function(t,e){return lr.current.useCallback(t,e)};Ze.useContext=function(t){return lr.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return lr.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return lr.current.useEffect(t,e)};Ze.useId=function(){return lr.current.useId()};Ze.useImperativeHandle=function(t,e,n){return lr.current.useImperativeHandle(t,e,n)};Ze.useInsertionEffect=function(t,e){return lr.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return lr.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return lr.current.useMemo(t,e)};Ze.useReducer=function(t,e,n){return lr.current.useReducer(t,e,n)};Ze.useRef=function(t){return lr.current.useRef(t)};Ze.useState=function(t){return lr.current.useState(t)};Ze.useSyncExternalStore=function(t,e,n){return lr.current.useSyncExternalStore(t,e,n)};Ze.useTransition=function(){return lr.current.useTransition()};Ze.version="18.3.1";FT.exports=Ze;var P=FT.exports;const Cn=to(P),gg=OT({__proto__:null,default:Cn},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SF=P,EF=Symbol.for("react.element"),TF=Symbol.for("react.fragment"),LF=Object.prototype.hasOwnProperty,CF=SF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kF={key:!0,ref:!0,__self:!0,__source:!0};function WT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LF.call(e,r)&&!kF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:EF,type:t,key:s,ref:o,props:i,_owner:CF.current}}_1.Fragment=TF;_1.jsx=WT;_1.jsxs=WT;NT.exports=_1;var E=NT.exports;function Rn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var AF=typeof Symbol=="function"&&Symbol.observable||"@@observable",P8=AF,am=()=>Math.random().toString(36).substring(7).split("").join("."),IF={INIT:`@@redux/INIT${am()}`,REPLACE:`@@redux/REPLACE${am()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${am()}`},R0=IF;function hv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function KT(t,e,n){if(typeof t!="function")throw new Error(Rn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rn(1));return n(KT)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((_,x)=>{o.set(x,_)}))}function h(){if(l)throw new Error(Rn(3));return i}function d(_){if(typeof _!="function")throw new Error(Rn(4));if(l)throw new Error(Rn(5));let x=!0;c();const b=a++;return o.set(b,_),function(){if(x){if(l)throw new Error(Rn(6));x=!1,c(),o.delete(b),s=null}}}function f(_){if(!hv(_))throw new Error(Rn(7));if(typeof _.type>"u")throw new Error(Rn(8));if(typeof _.type!="string")throw new Error(Rn(17));if(l)throw new Error(Rn(9));try{l=!0,i=r(i,_)}finally{l=!1}return(s=o).forEach(b=>{b()}),_}function m(_){if(typeof _!="function")throw new Error(Rn(10));r=_,f({type:R0.REPLACE})}function g(){const _=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Rn(11));function b(){const T=x;T.next&&T.next(h())}return b(),{unsubscribe:_(b)}},[P8](){return this}}}return f({type:R0.INIT}),{dispatch:f,subscribe:d,getState:h,replaceReducer:m,[P8]:g}}function PF(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:R0.INIT})>"u")throw new Error(Rn(12));if(typeof n(void 0,{type:R0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rn(13))})}function RF(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{PF(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let h=0;h<r.length;h++){const d=r[h],f=n[d],m=o[d],g=f(m,a);if(typeof g>"u")throw a&&a.type,new Error(Rn(14));c[d]=g,l=l||g!==m}return l=l||r.length!==Object.keys(o).length,l?c:o}}function M0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function MF(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Rn(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=M0(...a)(i.dispatch),{...i,dispatch:s}}}function DF(t){return hv(t)&&"type"in t&&typeof t.type=="string"}var qT=Symbol.for("immer-nothing"),R8=Symbol.for("immer-draftable"),Dr=Symbol.for("immer-state");function wi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Nc=Object.getPrototypeOf;function el(t){return!!t&&!!t[Dr]}function Gs(t){var e;return t?YT(t)||Array.isArray(t)||!!t[R8]||!!((e=t.constructor)!=null&&e[R8])||b1(t)||w1(t):!1}var OF=Object.prototype.constructor.toString();function YT(t){if(!t||typeof t!="object")return!1;const e=Nc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===OF}function D0(t,e){x1(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function x1(t){const e=t[Dr];return e?e.type_:Array.isArray(t)?1:b1(t)?2:w1(t)?3:0}function vg(t,e){return x1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ZT(t,e,n){const r=x1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function NF(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function b1(t){return t instanceof Map}function w1(t){return t instanceof Set}function Ea(t){return t.copy_||t.base_}function yg(t,e){if(b1(t))return new Map(t);if(w1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=YT(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Dr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Nc(t),r)}else{const r=Nc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function dv(t,e=!1){return S1(t)||el(t)||!Gs(t)||(x1(t)>1&&(t.set=t.add=t.clear=t.delete=FF),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>dv(r,!0))),t}function FF(){wi(2)}function S1(t){return Object.isFrozen(t)}var $F={};function tl(t){const e=$F[t];return e||wi(0,t),e}var ad;function XT(){return ad}function zF(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function M8(t,e){e&&(tl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function _g(t){xg(t),t.drafts_.forEach(BF),t.drafts_=null}function xg(t){t===ad&&(ad=t.parent_)}function D8(t){return ad=zF(ad,t)}function BF(t){const e=t[Dr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function O8(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Dr].modified_&&(_g(e),wi(4)),Gs(t)&&(t=O0(e,t),e.parent_||N0(e,t)),e.patches_&&tl("Patches").generateReplacementPatches_(n[Dr].base_,t,e.patches_,e.inversePatches_)):t=O0(e,n,[]),_g(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==qT?t:void 0}function O0(t,e,n){if(S1(e))return e;const r=e[Dr];if(!r)return D0(e,(i,s)=>N8(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return N0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),D0(s,(a,l)=>N8(t,r,i,a,l,n,o)),N0(t,i,!1),n&&t.patches_&&tl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function N8(t,e,n,r,i,s,o){if(el(i)){const a=s&&e&&e.type_!==3&&!vg(e.assigned_,r)?s.concat(r):void 0,l=O0(t,i,a);if(ZT(n,r,l),el(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Gs(i)&&!S1(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;O0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&N0(t,i)}}function N0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&dv(e,n)}function UF(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:XT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=fv;n&&(i=[r],s=ld);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var fv={get(t,e){if(e===Dr)return t;const n=Ea(t);if(!vg(n,e))return jF(t,n,e);const r=n[e];return t.finalized_||!Gs(r)?r:r===lm(t.base_,e)?(cm(t),t.copy_[e]=wg(r,t)):r},has(t,e){return e in Ea(t)},ownKeys(t){return Reflect.ownKeys(Ea(t))},set(t,e,n){const r=QT(Ea(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=lm(Ea(t),e),s=i==null?void 0:i[Dr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(NF(n,i)&&(n!==void 0||vg(t.base_,e)))return!0;cm(t),bg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return lm(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,cm(t),bg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ea(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){wi(11)},getPrototypeOf(t){return Nc(t.base_)},setPrototypeOf(){wi(12)}},ld={};D0(fv,(t,e)=>{ld[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ld.deleteProperty=function(t,e){return ld.set.call(this,t,e,void 0)};ld.set=function(t,e,n){return fv.set.call(this,t[0],e,n,t[0])};function lm(t,e){const n=t[Dr];return(n?Ea(n):t)[e]}function jF(t,e,n){var i;const r=QT(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function QT(t,e){if(!(e in t))return;let n=Nc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Nc(n)}}function bg(t){t.modified_||(t.modified_=!0,t.parent_&&bg(t.parent_))}function cm(t){t.copy_||(t.copy_=yg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var VF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,h=>n.call(this,h,...c))}}typeof n!="function"&&wi(6),r!==void 0&&typeof r!="function"&&wi(7);let i;if(Gs(e)){const s=D8(this),o=wg(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?_g(s):xg(s)}return M8(s,r),O8(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===qT&&(i=void 0),this.autoFreeze_&&dv(i,!0),r){const s=[],o=[];tl("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else wi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Gs(t)||wi(8),el(t)&&(t=GF(t));const e=D8(this),n=wg(t,void 0);return n[Dr].isManual_=!0,xg(e),n}finishDraft(t,e){const n=t&&t[Dr];(!n||!n.isManual_)&&wi(9);const{scope_:r}=n;return M8(r,e),O8(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=tl("Patches").applyPatches_;return el(t)?r(t,e):this.produce(t,i=>r(i,e))}};function wg(t,e){const n=b1(t)?tl("MapSet").proxyMap_(t,e):w1(t)?tl("MapSet").proxySet_(t,e):UF(t,e);return(e?e.scope_:XT()).drafts_.push(n),n}function GF(t){return el(t)||wi(10,t),JT(t)}function JT(t){if(!Gs(t)||S1(t))return t;const e=t[Dr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=yg(t,!0);return D0(n,(r,i)=>{ZT(n,r,JT(i))}),e&&(e.finalized_=!1),n}var Or=new VF,eL=Or.produce;Or.produceWithPatches.bind(Or);Or.setAutoFreeze.bind(Or);Or.setUseStrictShallowCopy.bind(Or);Or.applyPatches.bind(Or);Or.createDraft.bind(Or);Or.finishDraft.bind(Or);function tL(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var HF=tL(),WF=tL,KF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?M0:M0.apply(null,arguments)};function F8(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ci(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>DF(r)&&r.type===t,n}var nL=class Th extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Th.prototype)}static get[Symbol.species](){return Th}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Th(...e[0].concat(this)):new Th(...e.concat(this))}};function $8(t){return Gs(t)?eL(t,()=>{}):t}function z8(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Ci(10));const r=n.insert(e,t);return t.set(e,r),r}function qF(t){return typeof t=="boolean"}var YF=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new nL;return n&&(qF(n)?o.push(HF):o.push(WF(n.extraArgument))),o},ZF="RTK_autoBatch",rL=t=>e=>{setTimeout(e,t)},XF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rL(10),QF=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?XF:t.type==="callback"?t.queueNotification:rL(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const d=()=>i&&h(),f=r.subscribe(d);return a.add(h),()=>{f(),a.delete(h)}},dispatch(h){var d;try{return i=!((d=h==null?void 0:h.meta)!=null&&d[ZF]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(h)}finally{i=!0}}})},JF=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new nL(t);return r&&i.push(QF(typeof r=="object"?r:void 0)),i};function e$(t){const e=YF(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(hv(n))a=RF(n);else throw new Error(Ci(1));let l;typeof r=="function"?l=r(e):l=e();let c=M0;i&&(c=KF({trace:!1,...typeof i=="object"&&i}));const h=MF(...l),d=JF(h);let f=typeof o=="function"?o(d):d();const m=c(...f);return KT(a,s,m)}function iL(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Ci(28));if(a in e)throw new Error(Ci(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function t$(t){return typeof t=="function"}function n$(t,e){let[n,r,i]=iL(e),s;if(t$(t))s=()=>$8(t());else{const a=$8(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,d)=>{if(d)if(el(h)){const m=d(h,l);return m===void 0?h:m}else{if(Gs(h))return eL(h,f=>d(f,l));{const f=d(h,l);if(f===void 0){if(h===null)return h;throw new Error(Ci(9))}return f}}return h},a)}return o.getInitialState=s,o}var r$=Symbol.for("rtk-slice-createasyncthunk");function i$(t,e){return`${t}/${e}`}function s$({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[r$];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Ci(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(a$()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(w,T){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(Ci(12));if(C in c.sliceCaseReducersByType)throw new Error(Ci(13));return c.sliceCaseReducersByType[C]=T,h},addMatcher(w,T){return c.sliceMatchers.push({matcher:w,reducer:T}),h},exposeAction(w,T){return c.actionCreators[w]=T,h},exposeCaseReducer(w,T){return c.sliceCaseReducersByName[w]=T,h}};l.forEach(w=>{const T=a[w],C={reducerName:w,type:i$(s,w),createNotation:typeof i.reducers=="function"};c$(T)?h$(C,T,h,e):l$(C,T,h)});function d(){const[w={},T=[],C=void 0]=typeof i.extraReducers=="function"?iL(i.extraReducers):[i.extraReducers],I={...w,...c.sliceCaseReducersByType};return n$(i.initialState,M=>{for(let A in I)M.addCase(A,I[A]);for(let A of c.sliceMatchers)M.addMatcher(A.matcher,A.reducer);for(let A of T)M.addMatcher(A.matcher,A.reducer);C&&M.addDefaultCase(C)})}const f=w=>w,m=new Map;let g;function v(w,T){return g||(g=d()),g(w,T)}function _(){return g||(g=d()),g.getInitialState()}function x(w,T=!1){function C(M){let A=M[w];return typeof A>"u"&&T&&(A=_()),A}function I(M=f){const A=z8(m,T,{insert:()=>new WeakMap});return z8(A,M,{insert:()=>{const O={};for(const[N,z]of Object.entries(i.selectors??{}))O[N]=o$(z,M,_,T);return O}})}return{reducerPath:w,getSelectors:I,get selectors(){return I(C)},selectSlice:C}}const b={name:s,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...x(o),injectInto(w,{reducerPath:T,...C}={}){const I=T??o;return w.inject({reducerPath:I,reducer:v},C),{...b,...x(I,!0)}}};return b}}function o$(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var E1=s$();function a$(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function l$({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!u$(r))throw new Error(Ci(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?F8(t,o):F8(t))}function c$(t){return t._reducerDefinitionType==="asyncThunk"}function u$(t){return t._reducerDefinitionType==="reducerWithPrepare"}function h$({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ci(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:h}=n,d=i(t,s,h);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||a3,pending:a||a3,rejected:l||a3,settled:c||a3})}function a3(){}function Ci(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const d$={open:!1,data:!1},sL=E1({name:"modal",initialState:d$,reducers:{openModal:(t,e)=>{t.open=e.payload.name,t.data=e.payload.data||!1},closeModal:t=>{t.open=!1,t.data=!1}}}),{openModal:f$,closeModal:p$}=sL.actions,m$=sL.reducer,ss={twitch:{Authorization:"Bearer eymnnw2j2yis41r96jm1wq34z4zo7j","Client-ID":"cxtmyhnussnmg7jj36bbyxycntu5qw",Accept:"application/vnd.twitchtv.v5+json"}},g$={spaceStreamers:JSON.parse(localStorage.getItem("POVS_SPACE_STREAMERS"))||{twitch:[],kick:[]},spaceBackground:localStorage.getItem("POVS_SPACE_BACKGROUND")||"",spaceColor:localStorage.getItem("POVS_SPACE_COLOR")||"#0ec045"},oL=E1({name:"space",initialState:g$,reducers:{setSpaceTwitchStreamers:(t,e)=>{typeof e.payload=="string"&&(t.spaceStreamers.twitch=[...new Set([...t.spaceStreamers.twitch,e.payload])],localStorage.setItem("POVS_SPACE_STREAMERS",JSON.stringify(t.spaceStreamers)))},setSpaceKickStreamers:(t,e)=>{typeof e.payload=="string"&&(t.spaceStreamers.kick=[...new Set([...t.spaceStreamers.kick,e.payload])],localStorage.setItem("POVS_SPACE_STREAMERS",JSON.stringify(t.spaceStreamers)))},setSpaceBackground:(t,e)=>{t.spaceBackground=e.payload,localStorage.setItem("POVS_SPACE_BACKGROUND",t.spaceBackground)},setSpaceColor:(t,e)=>{t.spaceColor=e.payload,localStorage.setItem("POVS_SPACE_COLOR",t.spaceColor)}}}),{setSpaceTwitchStreamers:v$,setSpaceKickStreamers:y$,setSpaceBackground:_$,setSpaceColor:x$}=oL.actions,b$=oL.reducer,B8=localStorage.getItem("POVS_BIG_STREAM"),U8=localStorage.getItem("POVS_NEW_DESIGN"),w$={newDesign:U8!==null?U8==="true":!0,favorites:JSON.parse(localStorage.getItem("POVS_FAVS"))||[],bigStreamerCard:B8!==null?B8==="true":!0,watchs:JSON.parse(localStorage.getItem("POVS_WATCH"))||[],platform:localStorage.getItem("POVS_PLATFORM")||"all",mapMode:"satellite",specialStreamers:{twitch:[""],kick:[""]},selectedWatch:!1,startWatch:!1,watchChat:!1,blackList:!1,minimal:JSON.parse(localStorage.getItem("POVS_MINIMAL"))||!1,admin:!1,search:"",example:{uptime:"&",viewers:Eg(35e3),avatar:"https://cdn.discordapp.com/avatars/849975428496097320/5c17d9b7e9b9151b75eb00995fd2ee2e",game:"Grand Theft Auto V",created_at:"2023-08-13T16:22:17.000000Z",title:"bir şey 4 !vorp",followers:1e5,characters:[{streamer:"yennawigh",name:"Çağın Özer Özkul",class:"lost",allies:["bir şey"]},{streamer:"yennawigh",name:"Kamil Sivri",class:"mechanic",allies:["fixer"]}],name:"yennawigh",slug:"yennawigh",inGame:!0,live:!0,id:1,platform:"kick"}},aL=E1({name:"favorites",initialState:w$,reducers:{setFavorites:(t,e)=>{t.favorites=e.payload},setWatchs:(t,e)=>{t.watchs=e.payload},setSearch:(t,e)=>{t.search=e.payload},setWatchChat:(t,e)=>{t.watchChat=e.payload},setPlatform:(t,e)=>{t.platform=e.payload},appendWatch:(t,e)=>{t.watchs.push(e.payload)},setAdmin:(t,e)=>{t.admin=e.payload},setMinimal:(t,e)=>{t.minimal=e.payload},appendFavorites:(t,e)=>{t.favorites.push(e.payload)},setSelectedWatch:(t,e)=>{t.selectedWatch=e.payload},setBigStreamerCard:(t,e)=>{t.bigStreamerCard=e.payload},setMapMode:(t,e)=>{t.mapMode=e.payload},setNewDesign:(t,e)=>{t.newDesign=e.payload},setStartWatch:(t,e)=>{t.startWatch=e.payload}}}),{setBigStreamerCard:pv,setSelectedWatch:xye,appendFavorites:bye,setStartWatch:mv,setNewDesign:S$,setFavorites:F0,setWatchChat:E$,appendWatch:T$,setPlatform:wye,setMapMode:Sye,setMinimal:L$,setWatchs:C$,setSearch:k$,setAdmin:Sg}=aL.actions,A$=aL.reducer,I$={auth:!1},lL=E1({name:"auth",initialState:I$,reducers:{setAuth:t=>{t.auth=!1}}});lL.actions;const P$=lL.reducer,cn=e$({reducer:{utils:A$,modal:m$,space:b$,auth:P$}}),Is=t=>Array.isArray(t)?t.filter(e=>typeof e!="function"&&e!==void 0&&e!==!1&&e!==null&&e!==""):(console.error("FILTER_NULLS expected an array but received:",t),[]);function cd(){return cn.dispatch(p$())}function pn(t,e=!1){return cn.dispatch(f$({name:t,data:e}))}function Jd(t){return pn("TOAST",{message:t,success:!1,error:!0})}function kr(t){if(!t)return;if(t=t.replace("#",""),!/^([0-9A-Fa-f]{3}){1,2}$/.test(t))throw new Error("Invalid hexadecimal color code");const e=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),r=parseInt(t.substring(4,6),16);return`${e},${n},${r}`}function Eg(t){return t>999999?(t/1e6).toFixed(1)+"M":t>999?(t/1e3).toFixed(1)+"K":t}const $0=t=>{const e=new Date(t).getTime(),n=new Date().getTime(),r=Math.floor((n-e)/1e3),i=Math.floor(r/3600),s=Math.floor((r-i*3600)/60),o=r-i*3600-s*60;return i>0?`${i.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`:`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},cL=t=>{var e=new Date,n=new Date(t);n.setUTCHours(n.getUTCHours()+3);var r=e-n,i=Math.floor(r/1e3),s=i%60,o=Math.floor(i/60)%60,a=Math.floor(i/3600);return a=a.toString().padStart(2,"0"),o=o.toString().padStart(2,"0"),s=s.toString().padStart(2,"0"),a>0?`${a}:${o}:${s}`:`${o}:${s}`};function z0(t){const e=new Date(t),n=e.getUTCDate().toString().padStart(2,"0"),r=(e.getUTCMonth()+1).toString().padStart(2,"0"),i=e.getUTCFullYear().toString();return`${n}.${r}.${i}`}function R$(t){return t.assets?t.assets.large_image&&t.assets.large_image.startsWith("mp:")?`https://media.discordapp.net/${t.assets.large_image.replace("mp:","")}`:`https://cdn.discordapp.com/app-assets/${t.application_id}/${t.assets.large_image}.png`:`https://dcdn.dstn.to/app-icons/${t.application_id}`}class _a{constructor(...e){this.paths=e,this.starts=function(){return this.paths.some(n=>window.location.pathname.startsWith(n))},this.equal=function(){return this.paths.some(n=>window.location.pathname===n)},this.include=function(){return this.paths.some(n=>window.location.pathname.includes(n))}}}function M$(t){const e=/(https?:\/\/[^\s]+)/g;return t.replace(e,n=>{if(n.match(/\.(jpeg|jpg|gif|png)$/))return`<img src="${n}" alt="Image"/>`;if(n.match(/(youtube\.com|youtu\.be)/)){const r=n.split("v=")[1],i=r.indexOf("&");return`<iframe class="embed" src="https://www.youtube.com/embed/${i!==-1?r.substring(0,i):r}" frameborder="0" allowfullscreen></iframe>`}return n.match(/(tenor\.com)/)?`<iframe class="embed" src="${n.replace("/view/","/embed/")}" frameborder="0" allowfullscreen></iframe>`:n.match(/(twitch\.tv\/.*\/clip\/)/)?`<iframe class="embed" src="https://clips.twitch.tv/embed?clip=${n.split("/clip/")[1].split("?")[0]}&parent=${window.location.hostname}" frameborder="0" allowfullscreen></iframe>`:n.match(/(kick\.com\/.*\?clip=)/)?`<iframe class="embed" src="https://kick.com/embed/${n.split("?clip=")[1]}" frameborder="0" ></iframe>`:`<a class="text-server" href="${n}" target="_blank">${n}</a>`})}var j8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe=function(t,e){if(!t)throw du(e)},du=function(t){return new Error("Firebase Database ("+uL.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},D$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[h],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new O$;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class O$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dL=function(t){const e=hL(t);return gv.encodeByteArray(e,!0)},B0=function(t){return dL(t).replace(/\./g,"")},Tg=function(t){try{return gv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t){return fL(void 0,t)}function fL(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!F$(n)||(t[n]=fL(t[n],e[n]));return t}function F$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=()=>$$().__FIREBASE_DEFAULTS__,B$=()=>{if(typeof process>"u"||typeof j8>"u")return;const t=j8.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tg(t[1]);return e&&JSON.parse(e)},pL=()=>{try{return z$()||B$()||U$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j$=t=>{var e,n;return(n=(e=pL())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},V$=t=>{const e=j$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mL=()=>{var t;return(t=pL())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[B0(JSON.stringify(n)),B0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(H$())}function W$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vL(){return uL.NODE_ADMIN===!0}function K$(){try{return typeof indexedDB=="object"}catch{return!1}}function q$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$="FirebaseError";class ef extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Y$,Object.setPrototypeOf(this,ef.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yL.prototype.create)}}class yL{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Z$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ef(i,a,r)}}function Z$(t,e){return t.replace(X$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const X$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){return JSON.parse(t)}function gn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ud(Tg(s[0])||""),n=ud(Tg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Q$=function(t){const e=_L(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},J$=function(t){const e=_L(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function V8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function U0(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Lg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(G8(s)&&G8(o)){if(!Lg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function G8(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,h;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),h=1518500249):(c=s^o^a,h=1859775393):d<60?(c=s&o|a&(s|o),h=2400959708):(c=s^o^a,h=3395469782);const f=(i<<5|i>>>27)+c+l+h+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function T1(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,fe(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L1=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){return t&&t._delegate?t._delegate:t}class hd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rz=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sz(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iz(t){return t===Ta?void 0:t}function sz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const az={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},lz=Et.INFO,cz={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},uz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xL{constructor(e){this.name=e,this._logLevel=lz,this._logHandler=uz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?az[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const hz=(t,e)=>e.some(n=>t instanceof n);let H8,W8;function dz(){return H8||(H8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fz(){return W8||(W8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bL=new WeakMap,Cg=new WeakMap,wL=new WeakMap,um=new WeakMap,vv=new WeakMap;function pz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Po(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bL.set(n,t)}).catch(()=>{}),vv.set(e,t),e}function mz(t){if(Cg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cg.set(t,e)}let kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Po(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gz(t){kg=t(kg)}function vz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hm(this),e,...n);return wL.set(r,e.sort?e.sort():[e]),Po(r)}:fz().includes(t)?function(...e){return t.apply(hm(this),e),Po(bL.get(this))}:function(...e){return Po(t.apply(hm(this),e))}}function yz(t){return typeof t=="function"?vz(t):(t instanceof IDBTransaction&&mz(t),hz(t,dz())?new Proxy(t,kg):t)}function Po(t){if(t instanceof IDBRequest)return pz(t);if(um.has(t))return um.get(t);const e=yz(t);return e!==t&&(um.set(t,e),vv.set(e,t)),e}const hm=t=>vv.get(t);function _z(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Po(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Po(o.result),l.oldVersion,l.newVersion,Po(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const xz=["get","getKey","getAll","getAllKeys","count"],bz=["put","add","delete","clear"],dm=new Map;function K8(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xz.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return dm.set(e,s),s}gz(t=>({...t,get:(e,n,r)=>K8(e,n)||t.get(e,n,r),has:(e,n)=>!!K8(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ag="@firebase/app",q8="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new xL("@firebase/app"),Ez="@firebase/app-compat",Tz="@firebase/analytics-compat",Lz="@firebase/analytics",Cz="@firebase/app-check-compat",kz="@firebase/app-check",Az="@firebase/auth",Iz="@firebase/auth-compat",Pz="@firebase/database",Rz="@firebase/database-compat",Mz="@firebase/functions",Dz="@firebase/functions-compat",Oz="@firebase/installations",Nz="@firebase/installations-compat",Fz="@firebase/messaging",$z="@firebase/messaging-compat",zz="@firebase/performance",Bz="@firebase/performance-compat",Uz="@firebase/remote-config",jz="@firebase/remote-config-compat",Vz="@firebase/storage",Gz="@firebase/storage-compat",Hz="@firebase/firestore",Wz="@firebase/vertexai-preview",Kz="@firebase/firestore-compat",qz="firebase",Yz="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="[DEFAULT]",Zz={[Ag]:"fire-core",[Ez]:"fire-core-compat",[Lz]:"fire-analytics",[Tz]:"fire-analytics-compat",[kz]:"fire-app-check",[Cz]:"fire-app-check-compat",[Az]:"fire-auth",[Iz]:"fire-auth-compat",[Pz]:"fire-rtdb",[Rz]:"fire-rtdb-compat",[Mz]:"fire-fn",[Dz]:"fire-fn-compat",[Oz]:"fire-iid",[Nz]:"fire-iid-compat",[Fz]:"fire-fcm",[$z]:"fire-fcm-compat",[zz]:"fire-perf",[Bz]:"fire-perf-compat",[Uz]:"fire-rc",[jz]:"fire-rc-compat",[Vz]:"fire-gcs",[Gz]:"fire-gcs-compat",[Hz]:"fire-fst",[Kz]:"fire-fst-compat",[Wz]:"fire-vertex","fire-js":"fire-js",[qz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Map,Xz=new Map,Pg=new Map;function Y8(t,e){try{t.container.addComponent(e)}catch(n){Hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function V0(t){const e=t.name;if(Pg.has(e))return Hs.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(const n of j0.values())Y8(n,t);for(const n of Xz.values())Y8(n,t);return!0}function Qz(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ro=new yL("app","Firebase",Jz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB=Yz;function SL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ig,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ro.create("bad-app-name",{appName:String(i)});if(n||(n=mL()),!n)throw Ro.create("no-options");const s=j0.get(i);if(s){if(Lg(n,s.options)&&Lg(r,s.config))return s;throw Ro.create("duplicate-app",{appName:i})}const o=new oz(i);for(const l of Pg.values())o.addComponent(l);const a=new eB(n,r,o);return j0.set(i,a),a}function nB(t=Ig){const e=j0.get(t);if(!e&&t===Ig&&mL())return SL();if(!e)throw Ro.create("no-app",{appName:t});return e}function bc(t,e,n){var r;let i=(r=Zz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hs.warn(a.join(" "));return}V0(new hd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="firebase-heartbeat-database",iB=1,dd="firebase-heartbeat-store";let fm=null;function EL(){return fm||(fm=_z(rB,iB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ro.create("idb-open",{originalErrorMessage:t.message})})),fm}async function sB(t){try{const n=(await EL()).transaction(dd),r=await n.objectStore(dd).get(TL(t));return await n.done,r}catch(e){if(e instanceof ef)Hs.warn(e.message);else{const n=Ro.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hs.warn(n.message)}}}async function Z8(t,e){try{const r=(await EL()).transaction(dd,"readwrite");await r.objectStore(dd).put(e,TL(t)),await r.done}catch(n){if(n instanceof ef)Hs.warn(n.message);else{const r=Ro.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hs.warn(r.message)}}}function TL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=1024,aB=30*24*60*60*1e3;class lB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=X8();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=aB}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Hs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X8(),{heartbeatsToSend:r,unsentEntries:i}=cB(this._heartbeatsCache.heartbeats),s=B0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Hs.warn(n),""}}}function X8(){return new Date().toISOString().substring(0,10)}function cB(t,e=oB){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Q8(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Q8(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K$()?q$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z8(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z8(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Q8(t){return B0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(t){V0(new hd("platform-logger",e=>new wz(e),"PRIVATE")),V0(new hd("heartbeat",e=>new lB(e),"PRIVATE")),bc(Ag,q8,t),bc(Ag,q8,"esm2017"),bc("fire-js","")}hB("");var J8={};const ex="@firebase/database",tx="1.0.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LL="";function dB(t){LL=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),gn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ud(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ri(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new fB(e)}}catch{}return new pB},Oa=CL("localStorage"),mB=CL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new xL("@firebase/database"),kL=function(){let t=1;return function(){return t++}}(),AL=function(t){const e=nz(t),n=new tz;n.update(e);const r=n.digest();return gv.encodeByteArray(r)},tf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=tf.apply(null,r):typeof r=="object"?e+=gn(r):e+=r,e+=" "}return e};let Nh=null,nx=!0;const gB=function(t,e){fe(!e,"Can't turn on custom loggers persistently."),wc.logLevel=Et.VERBOSE,Nh=wc.log.bind(wc)},Nn=function(...t){if(nx===!0&&(nx=!1,Nh===null&&mB.get("logging_enabled")===!0&&gB()),Nh){const e=tf.apply(null,t);Nh(e)}},nf=function(t){return function(...e){Nn(t,...e)}},Rg=function(...t){const e="FIREBASE INTERNAL ERROR: "+tf(...t);wc.error(e)},Ws=function(...t){const e=`FIREBASE FATAL ERROR: ${tf(...t)}`;throw wc.error(e),new Error(e)},or=function(...t){const e="FIREBASE WARNING: "+tf(...t);wc.warn(e)},vB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&or("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},yB=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Fc="[MIN_NAME]",rl="[MAX_NAME]",yl=function(t,e){if(t===e)return 0;if(t===Fc||e===rl)return-1;if(e===Fc||t===rl)return 1;{const n=rx(t),r=rx(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},_B=function(t,e){return t===e?0:t<e?-1:1},Qu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+gn(e))},_v=function(t){if(typeof t!="object"||t===null)return gn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=gn(e[r]),n+=":",n+=_v(t[e[r]]);return n+="}",n},IL=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function zn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const PL=function(t){fe(!yv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const h=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(h.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},xB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wB(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const SB=new RegExp("^-?(0*)\\d{1,10}$"),EB=-2147483648,TB=2147483647,rx=function(t){if(SB.test(t)){const e=Number(t);if(e>=EB&&e<=TB)return e}return null},pu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw or("Exception was thrown by user callback.",n),e},Math.floor(0))}},LB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){or(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Nn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',or(e)}}class t0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}t0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="5",RL="v",ML="s",DL="r",OL="f",NL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,FL="ls",$L="p",Mg="ac",zL="websocket",BL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Oa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function AB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function jL(t,e,n){fe(typeof e=="string","typeof type must == string"),fe(typeof n=="object","typeof params must == object");let r;if(e===zL)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===BL)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);AB(t)&&(n.ns=t.namespace);const i=[];return zn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this.counters_={}}incrementCounter(e,n=1){Ri(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return N$(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm={},mm={};function bv(t){const e=t.toString();return pm[e]||(pm[e]=new IB),pm[e]}function PB(t,e){const n=t.toString();return mm[n]||(mm[n]=e()),mm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&pu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="start",MB="close",DB="pLPCommand",OB="pRTLPCB",VL="id",GL="pw",HL="ser",NB="cb",FB="seg",$B="ts",zB="d",BB="dframe",WL=1870,KL=30,UB=WL-KL,jB=25e3,VB=3e4;class ec{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nf(e),this.stats_=bv(n),this.urlFn=l=>(this.appCheckToken&&(l[Mg]=this.appCheckToken),jL(n,BL,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new RB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VB)),yB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wv((...s)=>{const[o,a,l,c,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ix)this.id=a,this.password=l;else if(o===MB)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[ix]="t",r[HL]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[NB]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RL]=xv,this.transportSessionId&&(r[ML]=this.transportSessionId),this.lastSessionId&&(r[FL]=this.lastSessionId),this.applicationId&&(r[$L]=this.applicationId),this.appCheckToken&&(r[Mg]=this.appCheckToken),typeof location<"u"&&location.hostname&&NL.test(location.hostname)&&(r[DL]=OL);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ec.forceAllow_=!0}static forceDisallow(){ec.forceDisallow_=!0}static isAvailable(){return ec.forceAllow_?!0:!ec.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!xB()&&!bB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=dL(n),i=IL(r,UB);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[BB]="t",r[VL]=e,r[GL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=gn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class wv{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kL(),window[DB+this.uniqueCallbackIdentifier]=e,window[OB+this.uniqueCallbackIdentifier]=n,this.myIFrame=wv.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Nn("frame writing exception"),a.stack&&Nn(a.stack),Nn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Nn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[VL]=this.myID,e[GL]=this.myPW,e[HL]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+KL+r.length<=WL;){const o=this.pendingSegs.shift();r=r+"&"+FB+i+"="+o.seg+"&"+$B+i+"="+o.ts+"&"+zB+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(jB)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Nn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=16384,HB=45e3;let G0=null;typeof MozWebSocket<"u"?G0=MozWebSocket:typeof WebSocket<"u"&&(G0=WebSocket);class Si{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nf(this.connId),this.stats_=bv(n),this.connURL=Si.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[RL]=xv,typeof location<"u"&&location.hostname&&NL.test(location.hostname)&&(o[DL]=OL),n&&(o[ML]=n),r&&(o[FL]=r),i&&(o[Mg]=i),s&&(o[$L]=s),jL(e,zL,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oa.set("previous_websocket_failure",!0);try{let r;vL(),this.mySock=new G0(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Si.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&G0!==null&&!Si.forceDisallow_}static previouslyFailed(){return Oa.isInMemoryStorage||Oa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Oa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ud(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=IL(n,GB);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(HB))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Si.responsesRequiredToBeHealthy=2;Si.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ec,Si]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Si&&Si.isAvailable();let r=n&&!Si.previouslyFailed();if(e.webSocketOnly&&(n||or("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Si];else{const i=this.transports_=[];for(const s of fd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);fd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=6e4,KB=5e3,qB=10*1024,YB=100*1024,gm="t",sx="d",ZB="s",ox="r",XB="e",ax="o",lx="a",cx="n",ux="p",QB="h";class JB{constructor(e,n,r,i,s,o,a,l,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nf("c:"+this.id+":"),this.transportManager_=new fd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>YB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>qB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(gm in e){const n=e[gm];n===lx?this.upgradeIfSecondaryHealthy_():n===ox?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ax&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qu("t",e),r=Qu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ux,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:lx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:cx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qu("t",e),r=Qu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qu(gm,e);if(sx in e){const r=e[sx];if(n===QB){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===cx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ZB?this.onConnectionShutdown_(r):n===ox?this.onReset_(r):n===XB?Rg("Server Error: "+r):n===ax?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xv!==r&&or("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(WB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(KB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ux,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YL=class{constructor(e){this.allowedEvents_=e,this.listeners_={},fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){fe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends YL{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!gL()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new H0}getInitialEvent(e){return fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=32,dx=768;class _t{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function st(){return new _t("")}function We(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Go(t){return t.pieces_.length-t.pieceNum_}function Tt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _t(t.pieces_,e)}function Sv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function eU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pd(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ZL(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _t(e,0)}function Zt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _t)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _t(n,0)}function qe(t){return t.pieceNum_>=t.pieces_.length}function sr(t,e){const n=We(t),r=We(e);if(n===null)return e;if(n===r)return sr(Tt(t),Tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tU(t,e){const n=pd(t,0),r=pd(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=yl(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Ev(t,e){if(Go(t)!==Go(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ti(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Go(t)>Go(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class nU{constructor(e,n){this.errorPrefix_=n,this.parts_=pd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=L1(this.parts_[r]);XL(this)}}function rU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=L1(e),XL(t)}function iU(t){const e=t.parts_.pop();t.byteLength_-=L1(e),t.parts_.length>0&&(t.byteLength_-=1)}function XL(t){if(t.byteLength_>dx)throw new Error(t.errorPrefix_+"has a key path longer than "+dx+" bytes ("+t.byteLength_+").");if(t.parts_.length>hx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hx+") or object contains a cycle "+La(t))}function La(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends YL{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Tv}getInitialEvent(e){return fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=1e3,sU=60*5*1e3,fx=30*1e3,oU=1.3,aU=3e4,lU="server_kill",px=3;class Ns extends qL{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ns.nextPersistentConnectionId_++,this.log_=nf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ju,this.maxReconnectDelay_=sU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!vL())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&H0.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(gn(s)),fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new fu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),fe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Ns.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ri(e,"w")){const r=nl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();or(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||J$(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Q$(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+gn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Rg("Unrecognized action received from server: "+gn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>aU&&(this.reconnectDelay_=Ju),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ns.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){fe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Nn("getToken() completed but was canceled"):(Nn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new JB(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{or(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(lU)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&or(d),l())}}}interrupt(e){Nn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Nn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],V8(this.interruptReasons_)&&(this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>_v(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new _t(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Nn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=px&&(this.reconnectDelay_=fx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Nn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=px&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+LL.replace(/\./g,"-")]=1,gL()?e["framework.cordova"]=1:W$()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=H0.getInstance().currentlyOnline();return V8(this.interruptReasons_)&&e}}Ns.nextPersistentConnectionId_=0;Ns.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ke(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ke(Fc,e),i=new Ke(Fc,n);return this.compare(r,i)!==0}minPost(){return Ke.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l3;class QL extends C1{static get __EMPTY_NODE(){return l3}static set __EMPTY_NODE(e){l3=e}compare(e,n){return yl(e.name,n.name)}isDefinedOn(e){throw du("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ke.MIN}maxPost(){return new Ke(rl,l3)}makePost(e,n){return fe(typeof e=="string","KeyIndex indexValue must always be a string."),new Ke(e,l3)}toString(){return".key"}}const Sc=new QL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Sn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Sn.RED,this.left=i??vr.EMPTY_NODE,this.right=s??vr.EMPTY_NODE}copy(e,n,r,i,s){return new Sn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return vr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return vr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Sn.RED=!0;Sn.BLACK=!1;class cU{copy(e,n,r,i,s){return this}insert(e,n,r){return new Sn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vr{constructor(e,n=vr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new vr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Sn.BLACK,null,null))}remove(e){return new vr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Sn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new c3(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new c3(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new c3(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new c3(this.root_,null,this.comparator_,!0,e)}}vr.EMPTY_NODE=new cU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t,e){return yl(t.name,e.name)}function Lv(t,e){return yl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg;function hU(t){Dg=t}const JL=function(t){return typeof t=="number"?"number:"+PL(t):"string:"+t},eC=function(t){if(t.isLeafNode()){const e=t.val();fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ri(e,".sv"),"Priority must be a string or number.")}else fe(t===Dg||t.isEmpty(),"priority of unexpected type.");fe(t===Dg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mx;class wn{constructor(e,n=wn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),eC(this.priorityNode_)}static set __childrenNodeConstructor(e){mx=e}static get __childrenNodeConstructor(){return mx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new wn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:wn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return qe(e)?this:We(e)===".priority"?this.priorityNode_:wn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:wn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=We(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(fe(r!==".priority"||Go(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,wn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+JL(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=PL(this.value_):e+=this.value_,this.lazyHash_=AL(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===wn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof wn.__childrenNodeConstructor?-1:(fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=wn.VALUE_TYPE_ORDER.indexOf(n),s=wn.VALUE_TYPE_ORDER.indexOf(r);return fe(i>=0,"Unknown leaf type: "+n),fe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}wn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tC,nC;function dU(t){tC=t}function fU(t){nC=t}class pU extends C1{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?yl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ke.MIN}maxPost(){return new Ke(rl,new wn("[PRIORITY-POST]",nC))}makePost(e,n){const r=tC(e);return new Ke(n,new wn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Vt=new pU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=Math.log(2);class gU{constructor(e){const n=s=>parseInt(Math.log(s)/mU,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const W0=function(t,e,n,r){t.sort(e);const i=function(l,c){const h=c-l;let d,f;if(h===0)return null;if(h===1)return d=t[l],f=n?n(d):d,new Sn(f,d.node,Sn.BLACK,null,null);{const m=parseInt(h/2,10)+l,g=i(l,m),v=i(m+1,c);return d=t[m],f=n?n(d):d,new Sn(f,d.node,Sn.BLACK,g,v)}},s=function(l){let c=null,h=null,d=t.length;const f=function(g,v){const _=d-g,x=d;d-=g;const b=i(_+1,x),w=t[_],T=n?n(w):w;m(new Sn(T,w.node,v,null,b))},m=function(g){c?(c.left=g,c=g):(h=g,c=g)};for(let g=0;g<l.count;++g){const v=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));v?f(_,Sn.BLACK):(f(_,Sn.BLACK),f(_,Sn.RED))}return h},o=new gU(t.length),a=s(o);return new vr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm;const zl={};class Ps{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return fe(zl&&Vt,"ChildrenNode.ts has not been loaded"),vm=vm||new Ps({".priority":zl},{".priority":Vt}),vm}get(e){const n=nl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vr?n:null}hasIndex(e){return Ri(this.indexSet_,e.toString())}addIndex(e,n){fe(e!==Sc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ke.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=W0(r,e.getCompare()):a=zl;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const h=Object.assign({},this.indexes_);return h[l]=a,new Ps(h,c)}addToIndexes(e,n){const r=U0(this.indexes_,(i,s)=>{const o=nl(this.indexSet_,s);if(fe(o,"Missing index implementation for "+s),i===zl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ke.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),W0(a,o.getCompare())}else return zl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ke(e.name,a))),l.insert(e,e.node)}});return new Ps(r,this.indexSet_)}removeFromIndexes(e,n){const r=U0(this.indexes_,i=>{if(i===zl)return i;{const s=n.get(e.name);return s?i.remove(new Ke(e.name,s)):i}});return new Ps(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh;class ke{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&eC(this.priorityNode_),this.children_.isEmpty()&&fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return eh||(eh=new ke(new vr(Lv),null,Ps.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eh}updatePriority(e){return this.children_.isEmpty()?this:new ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?eh:n}}getChild(e){const n=We(e);return n===null?this:this.getImmediateChild(n).getChild(Tt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(fe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ke(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?eh:this.priorityNode_;return new ke(i,o,s)}}updateChild(e,n){const r=We(e);if(r===null)return n;{fe(We(e)!==".priority"||Go(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Tt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Vt,(o,a)=>{n[o]=a.val(e),r++,s&&ke.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+JL(this.getPriority().val())+":"),this.forEachChild(Vt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":AL(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ke(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ke(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ke(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ke.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ke.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rf?-1:0}withIndex(e){if(e===Sc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ke(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Sc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Vt),i=n.getIterator(Vt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Sc?null:this.indexMap_.get(e.toString())}}ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vU extends ke{constructor(){super(new vr(Lv),ke.EMPTY_NODE,Ps.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ke.EMPTY_NODE}isEmpty(){return!1}}const rf=new vU;Object.defineProperties(Ke,{MIN:{value:new Ke(Fc,ke.EMPTY_NODE)},MAX:{value:new Ke(rl,rf)}});QL.__EMPTY_NODE=ke.EMPTY_NODE;wn.__childrenNodeConstructor=ke;hU(rf);fU(rf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=!0;function an(t,e=null){if(t===null)return ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new wn(n,an(e))}if(!(t instanceof Array)&&yU){const n=[];let r=!1;if(zn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=an(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ke(o,l)))}}),n.length===0)return ke.EMPTY_NODE;const s=W0(n,uU,o=>o.name,Lv);if(r){const o=W0(n,Vt.getCompare());return new ke(s,an(e),new Ps({".priority":o},{".priority":Vt}))}else return new ke(s,an(e),Ps.Default)}else{let n=ke.EMPTY_NODE;return zn(t,(r,i)=>{if(Ri(t,r)&&r.substring(0,1)!=="."){const s=an(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(an(e))}}dU(an);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U extends C1{constructor(e){super(),this.indexPath_=e,fe(!qe(e)&&We(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?yl(e.name,n.name):s}makePost(e,n){const r=an(e),i=ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ke(n,i)}maxPost(){const e=ke.EMPTY_NODE.updateChild(this.indexPath_,rf);return new Ke(rl,e)}toString(){return pd(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU extends C1{compare(e,n){const r=e.node.compareTo(n.node);return r===0?yl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ke.MIN}maxPost(){return Ke.MAX}makePost(e,n){const r=an(e);return new Ke(n,r)}toString(){return".value"}}const bU=new xU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){return{type:"value",snapshotNode:t}}function $c(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function md(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function gd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function wU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){fe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(md(n,a)):fe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange($c(n,r)):o.trackChildChange(gd(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Vt,(i,s)=>{n.hasChild(i)||r.trackChildChange(md(i,s))}),n.isLeafNode()||n.forEachChild(Vt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(gd(i,s,o))}else r.trackChildChange($c(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ke.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.indexedFilter_=new Cv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vd.getStartPost_(e),this.endPost_=vd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Ke(n,r))||(r=ke.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ke.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ke.EMPTY_NODE);const s=this;return n.forEachChild(Vt,(o,a)=>{s.matches(new Ke(o,a))||(i=i.updateImmediateChild(o,ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new vd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Ke(n,r))||(r=ke.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ke.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ke.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,m)=>d(m,f)}else o=this.index_.getCompare();const a=e;fe(a.numChildren()===this.limit_,"");const l=new Ke(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:o(f,l);if(h&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(gd(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(md(n,d));const v=a.updateImmediateChild(n,ke.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange($c(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:h&&o(c,l)>=0?(s!=null&&(s.trackChildChange(md(c.name,c.node)),s.trackChildChange($c(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,ke.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fc}hasEnd(){return this.endSet_}getIndexEndValue(){return fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vt}copy(){const e=new kv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function EU(t){return t.loadsAllData()?new Cv(t.getIndex()):t.hasLimit()?new SU(t):new vd(t)}function gx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Vt?n="$priority":t.index_===bU?n="$value":t.index_===Sc?n="$key":(fe(t.index_ instanceof _U,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=gn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=gn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+gn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=gn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+gn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function vx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Vt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends qL{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=nf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=K0.getListenId_(e,r),a={};this.listens_[o]=a;const l=gx(e._queryParams);this.restRequest_(s+".json",l,(c,h)=>{let d=h;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),nl(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=K0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=gx(e._queryParams),r=e._path.toString(),i=new fu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ez(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ud(a.responseText)}catch{or("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&or("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.rootNode_=ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(){return{value:null,children:new Map}}function iC(t,e,n){if(qe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=We(e);t.children.has(r)||t.children.set(r,q0());const i=t.children.get(r);e=Tt(e),iC(i,e,n)}}function Og(t,e,n){t.value!==null?n(e,t.value):LU(t,(r,i)=>{const s=new _t(e.toString()+"/"+r);Og(i,s,n)})}function LU(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&zn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=10*1e3,kU=30*1e3,AU=5*60*1e3;class IU{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new CU(e);const r=yx+(kU-yx)*Math.random();Fh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;zn(e,(i,s)=>{s>0&&Ri(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Fh(this.reportStats_.bind(this),Math.floor(Math.random()*2*AU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ti;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ti||(Ti={}));function Av(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Iv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ti.ACK_USER_WRITE,this.source=Av()}operationForChild(e){if(qe(this.path)){if(this.affectedTree.value!=null)return fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _t(e));return new Y0(st(),n,this.revert)}}else return fe(We(this.path)===e,"operationForChild called for unrelated child."),new Y0(Tt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.source=e,this.path=n,this.type=Ti.LISTEN_COMPLETE}operationForChild(e){return qe(this.path)?new yd(this.source,st()):new yd(this.source,Tt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ti.OVERWRITE}operationForChild(e){return qe(this.path)?new il(this.source,st(),this.snap.getImmediateChild(e)):new il(this.source,Tt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ti.MERGE}operationForChild(e){if(qe(this.path)){const n=this.children.subtree(new _t(e));return n.isEmpty()?null:n.value?new il(this.source,st(),n.value):new zc(this.source,st(),n)}else return fe(We(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zc(this.source,Tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(qe(e))return this.isFullyInitialized()&&!this.filtered_;const n=We(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function RU(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(wU(o.childName,o.snapshotNode))}),th(t,i,"child_removed",e,r,n),th(t,i,"child_added",e,r,n),th(t,i,"child_moved",s,r,n),th(t,i,"child_changed",e,r,n),th(t,i,"value",e,r,n),i}function th(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>DU(t,a,l)),o.forEach(a=>{const l=MU(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function MU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function DU(t,e,n){if(e.childName==null||n.childName==null)throw du("Should only compare child_ events.");const r=new Ke(e.childName,e.snapshotNode),i=new Ke(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e){return{eventCache:t,serverCache:e}}function $h(t,e,n,r){return k1(new Ho(e,n,r),t.serverCache)}function sC(t,e,n,r){return k1(t.eventCache,new Ho(e,n,r))}function Z0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function sl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym;const OU=()=>(ym||(ym=new vr(_B)),ym);class St{constructor(e,n=OU()){this.value=e,this.children=n}static fromObject(e){let n=new St(null);return zn(e,(r,i)=>{n=n.set(new _t(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:st(),value:this.value};if(qe(e))return null;{const r=We(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Tt(e),n);return s!=null?{path:Zt(new _t(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(qe(e))return this;{const n=We(e),r=this.children.get(n);return r!==null?r.subtree(Tt(e)):new St(null)}}set(e,n){if(qe(e))return new St(n,this.children);{const r=We(e),s=(this.children.get(r)||new St(null)).set(Tt(e),n),o=this.children.insert(r,s);return new St(this.value,o)}}remove(e){if(qe(e))return this.children.isEmpty()?new St(null):new St(null,this.children);{const n=We(e),r=this.children.get(n);if(r){const i=r.remove(Tt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new St(null):new St(this.value,s)}else return this}}get(e){if(qe(e))return this.value;{const n=We(e),r=this.children.get(n);return r?r.get(Tt(e)):null}}setTree(e,n){if(qe(e))return n;{const r=We(e),s=(this.children.get(r)||new St(null)).setTree(Tt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new St(this.value,o)}}fold(e){return this.fold_(st(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Zt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,st(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(qe(e))return null;{const s=We(e),o=this.children.get(s);return o?o.findOnPath_(Tt(e),Zt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,st(),n)}foreachOnPath_(e,n,r){if(qe(e))return this;{this.value&&r(n,this.value);const i=We(e),s=this.children.get(i);return s?s.foreachOnPath_(Tt(e),Zt(n,i),r):new St(null)}}foreach(e){this.foreach_(st(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Zt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.writeTree_=e}static empty(){return new ki(new St(null))}}function zh(t,e,n){if(qe(e))return new ki(new St(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=sr(i,e);return s=s.updateChild(o,n),new ki(t.writeTree_.set(i,s))}else{const i=new St(n),s=t.writeTree_.setTree(e,i);return new ki(s)}}}function Ng(t,e,n){let r=t;return zn(n,(i,s)=>{r=zh(r,Zt(e,i),s)}),r}function _x(t,e){if(qe(e))return ki.empty();{const n=t.writeTree_.setTree(e,new St(null));return new ki(n)}}function Fg(t,e){return _l(t,e)!=null}function _l(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(sr(n.path,e)):null}function xx(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Vt,(r,i)=>{e.push(new Ke(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ke(r,i.value))}),e}function Mo(t,e){if(qe(e))return t;{const n=_l(t,e);return n!=null?new ki(new St(n)):new ki(t.writeTree_.subtree(e))}}function $g(t){return t.writeTree_.isEmpty()}function Bc(t,e){return oC(st(),t.writeTree_,e)}function oC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(fe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=oC(Zt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Zt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t,e){return uC(e,t)}function NU(t,e,n,r,i){fe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=zh(t.visibleWrites,e,n)),t.lastWriteId=r}function FU(t,e,n,r){fe(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ng(t.visibleWrites,e,n),t.lastWriteId=r}function $U(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function zU(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);fe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&BU(a,r.path)?i=!1:ti(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return UU(t),!0;if(r.snap)t.visibleWrites=_x(t.visibleWrites,r.path);else{const a=r.children;zn(a,l=>{t.visibleWrites=_x(t.visibleWrites,Zt(r.path,l))})}return!0}else return!1}function BU(t,e){if(t.snap)return ti(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ti(Zt(t.path,n),e))return!0;return!1}function UU(t){t.visibleWrites=aC(t.allWrites,jU,st()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function jU(t){return t.visible}function aC(t,e,n){let r=ki.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)ti(n,o)?(a=sr(n,o),r=zh(r,a,s.snap)):ti(o,n)&&(a=sr(o,n),r=zh(r,st(),s.snap.getChild(a)));else if(s.children){if(ti(n,o))a=sr(n,o),r=Ng(r,a,s.children);else if(ti(o,n))if(a=sr(o,n),qe(a))r=Ng(r,st(),s.children);else{const l=nl(s.children,We(a));if(l){const c=l.getChild(Tt(a));r=zh(r,st(),c)}}}else throw du("WriteRecord should have .snap or .children")}}return r}function lC(t,e,n,r,i){if(!r&&!i){const s=_l(t.visibleWrites,e);if(s!=null)return s;{const o=Mo(t.visibleWrites,e);if($g(o))return n;if(n==null&&!Fg(o,st()))return null;{const a=n||ke.EMPTY_NODE;return Bc(o,a)}}}else{const s=Mo(t.visibleWrites,e);if(!i&&$g(s))return n;if(!i&&n==null&&!Fg(s,st()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(ti(c.path,e)||ti(e,c.path))},a=aC(t.allWrites,o,e),l=n||ke.EMPTY_NODE;return Bc(a,l)}}}function VU(t,e,n){let r=ke.EMPTY_NODE;const i=_l(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Vt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Mo(t.visibleWrites,e);return n.forEachChild(Vt,(o,a)=>{const l=Bc(Mo(s,new _t(o)),a);r=r.updateImmediateChild(o,l)}),xx(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Mo(t.visibleWrites,e);return xx(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function GU(t,e,n,r,i){fe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Zt(e,n);if(Fg(t.visibleWrites,s))return null;{const o=Mo(t.visibleWrites,s);return $g(o)?i.getChild(n):Bc(o,i.getChild(n))}}function HU(t,e,n,r){const i=Zt(e,n),s=_l(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Mo(t.visibleWrites,i);return Bc(o,r.getNode().getImmediateChild(n))}else return null}function WU(t,e){return _l(t.visibleWrites,e)}function KU(t,e,n,r,i,s,o){let a;const l=Mo(t.visibleWrites,e),c=_l(l,st());if(c!=null)a=c;else if(n!=null)a=Bc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const h=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=f.getNext();for(;m&&h.length<i;)d(m,r)!==0&&h.push(m),m=f.getNext();return h}else return[]}function qU(){return{visibleWrites:ki.empty(),allWrites:[],lastWriteId:-1}}function X0(t,e,n,r){return lC(t.writeTree,t.treePath,e,n,r)}function Rv(t,e){return VU(t.writeTree,t.treePath,e)}function bx(t,e,n,r){return GU(t.writeTree,t.treePath,e,n,r)}function Q0(t,e){return WU(t.writeTree,Zt(t.treePath,e))}function YU(t,e,n,r,i,s){return KU(t.writeTree,t.treePath,e,n,r,i,s)}function Mv(t,e,n){return HU(t.writeTree,t.treePath,e,n)}function cC(t,e){return uC(Zt(t.treePath,e),t.writeTree)}function uC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;fe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),fe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,gd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,md(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,$c(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,gd(r,e.snapshotNode,i.oldSnap));else throw du("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const hC=new XU;class Dv{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ho(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mv(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sl(this.viewCache_),s=YU(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){return{filter:t}}function JU(t,e){fe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),fe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ej(t,e,n,r,i){const s=new ZU;let o,a;if(n.type===Ti.OVERWRITE){const c=n;c.source.fromUser?o=zg(t,e,c.path,c.snap,r,i,s):(fe(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!qe(c.path),o=J0(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Ti.MERGE){const c=n;c.source.fromUser?o=nj(t,e,c.path,c.children,r,i,s):(fe(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Bg(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Ti.ACK_USER_WRITE){const c=n;c.revert?o=sj(t,e,c.path,r,i,s):o=rj(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Ti.LISTEN_COMPLETE)o=ij(t,e,n.path,r,s);else throw du("Unknown operation type: "+n.type);const l=s.getChanges();return tj(e,o,l),{viewCache:o,changes:l}}function tj(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Z0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(rC(Z0(e)))}}function dC(t,e,n,r,i,s){const o=e.eventCache;if(Q0(r,n)!=null)return e;{let a,l;if(qe(n))if(fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=sl(e),h=c instanceof ke?c:ke.EMPTY_NODE,d=Rv(r,h);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=X0(r,sl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=We(n);if(c===".priority"){fe(Go(n)===1,"Can't have a priority with additional path components");const h=o.getNode();l=e.serverCache.getNode();const d=bx(r,n,h,l);d!=null?a=t.filter.updatePriority(h,d):a=o.getNode()}else{const h=Tt(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=bx(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(h,f):d=o.getNode().getImmediateChild(c)}else d=Mv(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,h,i,s):a=o.getNode()}}return $h(e,a,o.isFullyInitialized()||qe(n),t.filter.filtersNodes())}}function J0(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const h=o?t.filter:t.filter.getIndexedFilter();if(qe(n))c=h.updateFullNode(l.getNode(),r,null);else if(h.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,r);c=h.updateFullNode(l.getNode(),m,null)}else{const m=We(n);if(!l.isCompleteForPath(n)&&Go(n)>1)return e;const g=Tt(n),_=l.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?c=h.updatePriority(l.getNode(),_):c=h.updateChild(l.getNode(),m,_,g,hC,null)}const d=sC(e,c,l.isFullyInitialized()||qe(n),h.filtersNodes()),f=new Dv(i,d,s);return dC(t,d,n,i,f,a)}function zg(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const h=new Dv(i,e,s);if(qe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=$h(e,c,!0,t.filter.filtersNodes());else{const d=We(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=$h(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Tt(n),m=a.getNode().getImmediateChild(d);let g;if(qe(f))g=r;else{const v=h.getCompleteChild(d);v!=null?Sv(f)===".priority"&&v.getChild(ZL(f)).isEmpty()?g=v:g=v.updateChild(f,r):g=ke.EMPTY_NODE}if(m.equals(g))l=e;else{const v=t.filter.updateChild(a.getNode(),d,g,f,h,o);l=$h(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function wx(t,e){return t.eventCache.isCompleteForChild(e)}function nj(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const h=Zt(n,l);wx(e,We(h))&&(a=zg(t,a,h,c,i,s,o))}),r.foreach((l,c)=>{const h=Zt(n,l);wx(e,We(h))||(a=zg(t,a,h,c,i,s,o))}),a}function Sx(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Bg(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;qe(n)?c=r:c=new St(null).setTree(n,r);const h=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(h.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),g=Sx(t,m,f);l=J0(t,l,new _t(d),g,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const m=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!h.hasChild(d)&&!m){const g=e.serverCache.getNode().getImmediateChild(d),v=Sx(t,g,f);l=J0(t,l,new _t(d),v,i,s,o,a)}}),l}function rj(t,e,n,r,i,s,o){if(Q0(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(qe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return J0(t,e,n,l.getNode().getChild(n),i,s,a,o);if(qe(n)){let c=new St(null);return l.getNode().forEachChild(Sc,(h,d)=>{c=c.set(new _t(h),d)}),Bg(t,e,n,c,i,s,a,o)}else return e}else{let c=new St(null);return r.foreach((h,d)=>{const f=Zt(n,h);l.isCompleteForPath(f)&&(c=c.set(h,l.getNode().getChild(f)))}),Bg(t,e,n,c,i,s,a,o)}}function ij(t,e,n,r,i){const s=e.serverCache,o=sC(e,s.getNode(),s.isFullyInitialized()||qe(n),s.isFiltered());return dC(t,o,n,r,hC,i)}function sj(t,e,n,r,i,s){let o;if(Q0(r,n)!=null)return e;{const a=new Dv(r,e,i),l=e.eventCache.getNode();let c;if(qe(n)||We(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=X0(r,sl(e));else{const d=e.serverCache.getNode();fe(d instanceof ke,"serverChildren would be complete if leaf node"),h=Rv(r,d)}h=h,c=t.filter.updateFullNode(l,h,s)}else{const h=We(n);let d=Mv(r,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),d!=null?c=t.filter.updateChild(l,h,d,Tt(n),a,s):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(l,h,ke.EMPTY_NODE,Tt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=X0(r,sl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Q0(r,st())!=null,$h(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Cv(r.getIndex()),s=EU(r);this.processor_=QU(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ke.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(ke.EMPTY_NODE,a.getNode(),null),h=new Ho(l,o.isFullyInitialized(),i.filtersNodes()),d=new Ho(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=k1(d,h),this.eventGenerator_=new PU(this.query_)}get query(){return this.query_}}function aj(t){return t.viewCache_.serverCache.getNode()}function lj(t){return Z0(t.viewCache_)}function cj(t,e){const n=sl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!qe(e)&&!n.getImmediateChild(We(e)).isEmpty())?n.getChild(e):null}function Ex(t){return t.eventRegistrations_.length===0}function uj(t,e){t.eventRegistrations_.push(e)}function Tx(t,e,n){const r=[];if(n){fe(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Lx(t,e,n,r){e.type===Ti.MERGE&&e.source.queryId!==null&&(fe(sl(t.viewCache_),"We should always have a full cache before handling merges"),fe(Z0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=ej(t.processor_,i,e,n,r);return JU(t.processor_,s.viewCache),fe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,fC(t,s.changes,s.viewCache.eventCache.getNode(),null)}function hj(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Vt,(s,o)=>{r.push($c(s,o))}),n.isFullyInitialized()&&r.push(rC(n.getNode())),fC(t,r,n.getNode(),e)}function fC(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return RU(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep;class pC{constructor(){this.views=new Map}}function dj(t){fe(!ep,"__referenceConstructor has already been defined"),ep=t}function fj(){return fe(ep,"Reference.ts has not been loaded"),ep}function pj(t){return t.views.size===0}function Ov(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return fe(s!=null,"SyncTree gave us an op for an invalid query."),Lx(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Lx(o,e,n,r));return s}}function mC(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=X0(n,i?r:null),l=!1;a?l=!0:r instanceof ke?(a=Rv(n,r),l=!1):(a=ke.EMPTY_NODE,l=!1);const c=k1(new Ho(a,l,!1),new Ho(r,i,!1));return new oj(e,c)}return o}function mj(t,e,n,r,i,s){const o=mC(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),uj(o,n),hj(o,n)}function gj(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Wo(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(Tx(c,n,r)),Ex(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(Tx(l,n,r)),Ex(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Wo(t)&&s.push(new(fj())(e._repo,e._path)),{removed:s,events:o}}function gC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Do(t,e){let n=null;for(const r of t.views.values())n=n||cj(r,e);return n}function vC(t,e){if(e._queryParams.loadsAllData())return I1(t);{const r=e._queryIdentifier;return t.views.get(r)}}function yC(t,e){return vC(t,e)!=null}function Wo(t){return I1(t)!=null}function I1(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp;function vj(t){fe(!tp,"__referenceConstructor has already been defined"),tp=t}function yj(){return fe(tp,"Reference.ts has not been loaded"),tp}let _j=1;class Cx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new St(null),this.pendingWriteTree_=qU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Nv(t,e,n,r,i){return NU(t.pendingWriteTree_,e,n,r,i),i?mu(t,new il(Av(),e,n)):[]}function xj(t,e,n,r){FU(t.pendingWriteTree_,e,n,r);const i=St.fromObject(n);return mu(t,new zc(Av(),e,i))}function To(t,e,n=!1){const r=$U(t.pendingWriteTree_,e);if(zU(t.pendingWriteTree_,e)){let s=new St(null);return r.snap!=null?s=s.set(st(),!0):zn(r.children,o=>{s=s.set(new _t(o),!0)}),mu(t,new Y0(r.path,s,n))}else return[]}function sf(t,e,n){return mu(t,new il(Iv(),e,n))}function bj(t,e,n){const r=St.fromObject(n);return mu(t,new zc(Iv(),e,r))}function wj(t,e){return mu(t,new yd(Iv(),e))}function Sj(t,e,n){const r=Fv(t,n);if(r){const i=$v(r),s=i.path,o=i.queryId,a=sr(s,e),l=new yd(Pv(o),a);return zv(t,s,l)}else return[]}function np(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||yC(o,e))){const l=gj(o,e,n,r);pj(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const h=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,m)=>Wo(m));if(h&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const m=Lj(f);for(let g=0;g<m.length;++g){const v=m[g],_=v.query,x=wC(t,v);t.listenProvider_.startListening(Bh(_),_d(t,_),x.hashFn,x.onComplete)}}}!d&&c.length>0&&!r&&(h?t.listenProvider_.stopListening(Bh(e),null):c.forEach(f=>{const m=t.queryToTagMap.get(R1(f));t.listenProvider_.stopListening(Bh(f),m)}))}Cj(t,c)}return a}function _C(t,e,n,r){const i=Fv(t,r);if(i!=null){const s=$v(i),o=s.path,a=s.queryId,l=sr(o,e),c=new il(Pv(a),l,n);return zv(t,o,c)}else return[]}function Ej(t,e,n,r){const i=Fv(t,r);if(i){const s=$v(i),o=s.path,a=s.queryId,l=sr(o,e),c=St.fromObject(n),h=new zc(Pv(a),l,c);return zv(t,o,h)}else return[]}function Ug(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,m)=>{const g=sr(f,i);s=s||Do(m,g),o=o||Wo(m)});let a=t.syncPointTree_.get(i);a?(o=o||Wo(a),s=s||Do(a,st())):(a=new pC,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=ke.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((m,g)=>{const v=Do(g,st());v&&(s=s.updateImmediateChild(m,v))}));const c=yC(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=R1(e);fe(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=kj();t.queryToTagMap.set(f,m),t.tagToQueryMap.set(m,f)}const h=A1(t.pendingWriteTree_,i);let d=mj(a,e,n,h,s,l);if(!c&&!o&&!r){const f=vC(a,e);d=d.concat(Aj(t,e,f))}return d}function P1(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=sr(o,e),c=Do(a,l);if(c)return c});return lC(i,e,s,n,!0)}function Tj(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,h)=>{const d=sr(c,n);r=r||Do(h,d)});let i=t.syncPointTree_.get(n);i?r=r||Do(i,st()):(i=new pC,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Ho(r,!0,!1):null,a=A1(t.pendingWriteTree_,e._path),l=mC(i,e,a,s?o.getNode():ke.EMPTY_NODE,s);return lj(l)}function mu(t,e){return xC(e,t.syncPointTree_,null,A1(t.pendingWriteTree_,st()))}function xC(t,e,n,r){if(qe(t.path))return bC(t,e,n,r);{const i=e.get(st());n==null&&i!=null&&(n=Do(i,st()));let s=[];const o=We(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,h=cC(r,o);s=s.concat(xC(a,l,c,h))}return i&&(s=s.concat(Ov(i,t,r,n))),s}}function bC(t,e,n,r){const i=e.get(st());n==null&&i!=null&&(n=Do(i,st()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=cC(r,o),h=t.operationForChild(o);h&&(s=s.concat(bC(h,a,l,c)))}),i&&(s=s.concat(Ov(i,t,r,n))),s}function wC(t,e){const n=e.query,r=_d(t,n);return{hashFn:()=>(aj(e)||ke.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Sj(t,n._path,r):wj(t,n._path);{const s=wB(i,n);return np(t,n,null,s)}}}}function _d(t,e){const n=R1(e);return t.queryToTagMap.get(n)}function R1(t){return t._path.toString()+"$"+t._queryIdentifier}function Fv(t,e){return t.tagToQueryMap.get(e)}function $v(t){const e=t.indexOf("$");return fe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _t(t.substr(0,e))}}function zv(t,e,n){const r=t.syncPointTree_.get(e);fe(r,"Missing sync point for query tag that we're tracking");const i=A1(t.pendingWriteTree_,e);return Ov(r,n,i,null)}function Lj(t){return t.fold((e,n,r)=>{if(n&&Wo(n))return[I1(n)];{let i=[];return n&&(i=gC(n)),zn(r,(s,o)=>{i=i.concat(o)}),i}})}function Bh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(yj())(t._repo,t._path):t}function Cj(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=R1(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function kj(){return _j++}function Aj(t,e,n){const r=e._path,i=_d(t,e),s=wC(t,n),o=t.listenProvider_.startListening(Bh(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)fe(!Wo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,h,d)=>{if(!qe(c)&&h&&Wo(h))return[I1(h).query];{let f=[];return h&&(f=f.concat(gC(h).map(m=>m.query))),zn(d,(m,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){const h=l[c];t.listenProvider_.stopListening(Bh(h),_d(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Bv(n)}node(){return this.node_}}class Uv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Zt(this.path_,e);return new Uv(this.syncTree_,n)}node(){return P1(this.syncTree_,this.path_)}}const Ij=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},kx=function(t,e,n){if(!t||typeof t!="object")return t;if(fe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Pj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Rj(t[".sv"],e);fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Pj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:fe(!1,"Unexpected server value: "+t)}},Rj=function(t,e,n){t.hasOwnProperty("increment")||fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&fe(!1,"Unexpected increment value: "+r);const i=e.node();if(fe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},SC=function(t,e,n,r){return Vv(e,new Uv(n,t),r)},jv=function(t,e,n){return Vv(t,new Bv(e),n)};function Vv(t,e,n){const r=t.getPriority().val(),i=kx(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=kx(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new wn(a,an(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new wn(i))),o.forEachChild(Vt,(a,l)=>{const c=Vv(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function M1(t,e){let n=e instanceof _t?e:new _t(e),r=t,i=We(n);for(;i!==null;){const s=nl(r.node.children,i)||{children:{},childCount:0};r=new Gv(i,r,s),n=Tt(n),i=We(n)}return r}function xl(t){return t.node.value}function Hv(t,e){t.node.value=e,jg(t)}function EC(t){return t.node.childCount>0}function Mj(t){return xl(t)===void 0&&!EC(t)}function D1(t,e){zn(t.node.children,(n,r)=>{e(new Gv(n,t,r))})}function TC(t,e,n,r){n&&!r&&e(t),D1(t,i=>{TC(i,e,!0,r)}),n&&r&&e(t)}function Dj(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function of(t){return new _t(t.parent===null?t.name:of(t.parent)+"/"+t.name)}function jg(t){t.parent!==null&&Oj(t.parent,t.name,t)}function Oj(t,e,n){const r=Mj(n),i=Ri(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,jg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,jg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=/[\[\].#$\/\u0000-\u001F\u007F]/,Fj=/[\[\].#$\u0000-\u001F\u007F]/,_m=10*1024*1024,Wv=function(t){return typeof t=="string"&&t.length!==0&&!Nj.test(t)},LC=function(t){return typeof t=="string"&&t.length!==0&&!Fj.test(t)},$j=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),LC(t)},CC=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!yv(t)||t&&typeof t=="object"&&Ri(t,".sv")},kC=function(t,e,n,r){r&&e===void 0||af(T1(t,"value"),e,n)},af=function(t,e,n){const r=n instanceof _t?new nU(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+La(r));if(typeof e=="function")throw new Error(t+"contains a function "+La(r)+" with contents = "+e.toString());if(yv(e))throw new Error(t+"contains "+e.toString()+" "+La(r));if(typeof e=="string"&&e.length>_m/3&&L1(e)>_m)throw new Error(t+"contains a string greater than "+_m+" utf8 bytes "+La(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(zn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Wv(o)))throw new Error(t+" contains an invalid key ("+o+") "+La(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rU(r,o),af(t,a,r),iU(r)}),i&&s)throw new Error(t+' contains ".value" child '+La(r)+" in addition to actual children.")}},zj=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=pd(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Wv(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(tU);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&ti(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Bj=function(t,e,n,r){const i=T1(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];zn(e,(o,a)=>{const l=new _t(o);if(af(i,a,Zt(n,l)),Sv(l)===".priority"&&!CC(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),zj(i,s)},AC=function(t,e,n,r){if(!LC(n))throw new Error(T1(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Uj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),AC(t,e,n)},Kv=function(t,e){if(We(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},jj=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Wv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$j(n))throw new Error(T1(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function O1(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Ev(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function IC(t,e,n){O1(t,n),PC(t,r=>Ev(r,e))}function Nr(t,e,n){O1(t,n),PC(t,r=>ti(r,e)||ti(e,r))}function PC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Gj(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Gj(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Nh&&Nn("event: "+n.toString()),pu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="repo_interrupt",Wj=25;class Kj{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Vj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=q0(),this.transactionQueueTree_=new Gv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qj(t,e,n){if(t.stats_=bv(t.repoInfo_),t.forceRestClient_||LB())t.server_=new K0(t.repoInfo_,(r,i,s,o)=>{Ax(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ix(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ns(t.repoInfo_,e,(r,i,s,o)=>{Ax(t,r,i,s,o)},r=>{Ix(t,r)},r=>{Yj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=PB(t.repoInfo_,()=>new IU(t.stats_,t.server_)),t.infoData_=new TU,t.infoSyncTree_=new Cx({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=sf(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),qv(t,"connected",!1),t.serverSyncTree_=new Cx({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Nr(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function RC(t){const n=t.infoData_.getNode(new _t(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function lf(t){return Ij({timestamp:RC(t)})}function Ax(t,e,n,r,i){t.dataUpdateCount++;const s=new _t(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=U0(n,c=>an(c));o=Ej(t.serverSyncTree_,s,l,i)}else{const l=an(n);o=_C(t.serverSyncTree_,s,l,i)}else if(r){const l=U0(n,c=>an(c));o=bj(t.serverSyncTree_,s,l)}else{const l=an(n);o=sf(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Uc(t,s)),Nr(t.eventQueue_,a,o)}function Ix(t,e){qv(t,"connected",e),e===!1&&Jj(t)}function Yj(t,e){zn(e,(n,r)=>{qv(t,n,r)})}function qv(t,e,n){const r=new _t("/.info/"+e),i=an(n);t.infoData_.updateSnapshot(r,i);const s=sf(t.infoSyncTree_,r,i);Nr(t.eventQueue_,r,s)}function N1(t){return t.nextWriteId_++}function Zj(t,e,n){const r=Tj(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=an(i).withIndex(e._queryParams.getIndex());Ug(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=sf(t.serverSyncTree_,e._path,s);else{const a=_d(t.serverSyncTree_,e);o=_C(t.serverSyncTree_,e._path,s,a)}return Nr(t.eventQueue_,e._path,o),np(t.serverSyncTree_,e,n,null,!0),s},i=>(gu(t,"get for query "+gn(e)+" failed: "+i),Promise.reject(new Error(i))))}function Xj(t,e,n,r,i){gu(t,"set",{path:e.toString(),value:n,priority:r});const s=lf(t),o=an(n,r),a=P1(t.serverSyncTree_,e),l=jv(o,a,s),c=N1(t),h=Nv(t.serverSyncTree_,e,l,c,!0);O1(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(f,m)=>{const g=f==="ok";g||or("set at "+e+" failed: "+f);const v=To(t.serverSyncTree_,c,!g);Nr(t.eventQueue_,e,v),Gg(t,i,f,m)});const d=Zv(t,e);Uc(t,d),Nr(t.eventQueue_,d,[])}function Qj(t,e,n,r){gu(t,"update",{path:e.toString(),value:n});let i=!0;const s=lf(t),o={};if(zn(n,(a,l)=>{i=!1,o[a]=SC(Zt(e,a),an(l),t.serverSyncTree_,s)}),i)Nn("update() called with empty data.  Don't do anything."),Gg(t,r,"ok",void 0);else{const a=N1(t),l=xj(t.serverSyncTree_,e,o,a);O1(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,h)=>{const d=c==="ok";d||or("update at "+e+" failed: "+c);const f=To(t.serverSyncTree_,a,!d),m=f.length>0?Uc(t,e):e;Nr(t.eventQueue_,m,f),Gg(t,r,c,h)}),zn(n,c=>{const h=Zv(t,Zt(e,c));Uc(t,h)}),Nr(t.eventQueue_,e,[])}}function Jj(t){gu(t,"onDisconnectEvents");const e=lf(t),n=q0();Og(t.onDisconnect_,st(),(i,s)=>{const o=SC(i,s,t.serverSyncTree_,e);iC(n,i,o)});let r=[];Og(n,st(),(i,s)=>{r=r.concat(sf(t.serverSyncTree_,i,s));const o=Zv(t,i);Uc(t,o)}),t.onDisconnect_=q0(),Nr(t.eventQueue_,st(),r)}function eV(t,e,n){let r;We(e._path)===".info"?r=Ug(t.infoSyncTree_,e,n):r=Ug(t.serverSyncTree_,e,n),IC(t.eventQueue_,e._path,r)}function Vg(t,e,n){let r;We(e._path)===".info"?r=np(t.infoSyncTree_,e,n):r=np(t.serverSyncTree_,e,n),IC(t.eventQueue_,e._path,r)}function tV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Hj)}function gu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Nn(n,...e)}function Gg(t,e,n,r){e&&pu(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function nV(t,e,n,r,i,s){gu(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:kL(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Yv(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{af("transaction failed: Data returned ",l,o.path),o.status=0;const c=M1(t.transactionQueueTree_,e),h=xl(c)||[];h.push(o),Hv(c,h);let d;typeof l=="object"&&l!==null&&Ri(l,".priority")?(d=nl(l,".priority"),fe(CC(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(P1(t.serverSyncTree_,e)||ke.EMPTY_NODE).getPriority().val();const f=lf(t),m=an(l,d),g=jv(m,a,f);o.currentOutputSnapshotRaw=m,o.currentOutputSnapshotResolved=g,o.currentWriteId=N1(t);const v=Nv(t.serverSyncTree_,e,g,o.currentWriteId,o.applyLocally);Nr(t.eventQueue_,e,v),F1(t,t.transactionQueueTree_)}}function Yv(t,e,n){return P1(t.serverSyncTree_,e,n)||ke.EMPTY_NODE}function F1(t,e=t.transactionQueueTree_){if(e||$1(t,e),xl(e)){const n=DC(t,e);fe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&rV(t,of(e),n)}else EC(e)&&D1(e,n=>{F1(t,n)})}function rV(t,e,n){const r=n.map(c=>c.currentWriteId),i=Yv(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const h=n[c];fe(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=sr(e,h.path);s=s.updateChild(d,h.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{gu(t,"transaction put response",{path:l.toString(),status:c});let h=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(To(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();$1(t,M1(t.transactionQueueTree_,e)),F1(t,t.transactionQueueTree_),Nr(t.eventQueue_,e,h);for(let f=0;f<d.length;f++)pu(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{or("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Uc(t,e)}},o)}function Uc(t,e){const n=MC(t,e),r=of(n),i=DC(t,n);return iV(t,i,r),r}function iV(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=sr(n,l.path);let h=!1,d;if(fe(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,d=l.abortReason,i=i.concat(To(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Wj)h=!0,d="maxretry",i=i.concat(To(t.serverSyncTree_,l.currentWriteId,!0));else{const f=Yv(t,l.path,o);l.currentInputSnapshot=f;const m=e[a].update(f.val());if(m!==void 0){af("transaction failed: Data returned ",m,l.path);let g=an(m);typeof m=="object"&&m!=null&&Ri(m,".priority")||(g=g.updatePriority(f.getPriority()));const _=l.currentWriteId,x=lf(t),b=jv(g,f,x);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=N1(t),o.splice(o.indexOf(_),1),i=i.concat(Nv(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(To(t.serverSyncTree_,_,!0))}else h=!0,d="nodata",i=i.concat(To(t.serverSyncTree_,l.currentWriteId,!0))}Nr(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}$1(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)pu(r[a]);F1(t,t.transactionQueueTree_)}function MC(t,e){let n,r=t.transactionQueueTree_;for(n=We(e);n!==null&&xl(r)===void 0;)r=M1(r,n),e=Tt(e),n=We(e);return r}function DC(t,e){const n=[];return OC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function OC(t,e,n){const r=xl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);D1(e,i=>{OC(t,i,n)})}function $1(t,e){const n=xl(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Hv(e,n.length>0?n:void 0)}D1(e,r=>{$1(t,r)})}function Zv(t,e){const n=of(MC(t,e)),r=M1(t.transactionQueueTree_,e);return Dj(r,i=>{xm(t,i)}),xm(t,r),TC(r,i=>{xm(t,i)}),n}function xm(t,e){const n=xl(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(fe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(fe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(To(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Hv(e,void 0):n.length=s+1,Nr(t.eventQueue_,of(e),i);for(let o=0;o<r.length;o++)pu(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function oV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):or(`Invalid query segment '${n}' in query '${t}'`)}return e}const Px=function(t,e){const n=aV(t),r=n.namespace;n.domain==="firebase.com"&&Ws(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ws("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vB();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new UL(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _t(n.pathString)}},aV=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=sV(t.substring(h,d)));const f=oV(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lV=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Rx.charAt(n%64),n=Math.floor(n/64);fe(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Rx.charAt(e[i]);return fe(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+gn(this.snapshot.exportVal())}}class FC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return fe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return qe(this._path)?null:Sv(this._path)}get ref(){return new Mi(this._repo,this._path)}get _queryIdentifier(){const e=vx(this._queryParams),n=_v(e);return n==="{}"?"default":n}get _queryObject(){return vx(this._queryParams)}isEqual(e){if(e=Qo(e),!(e instanceof Qv))return!1;const n=this._repo===e._repo,r=Ev(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+eU(this._path)}}class Mi extends Qv{constructor(e,n){super(e,n,new kv,!1)}get parent(){const e=ZL(this._path);return e===null?null:new Mi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ol{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new _t(e),r=jc(this.ref,e);return new ol(this._node.getChild(n),r,Vt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ol(i,jc(this.ref,r),Vt)))}hasChild(e){const n=new _t(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ot(t,e){return t=Qo(t),t._checkNotDeleted("ref"),e!==void 0?jc(t._root,e):t._root}function jc(t,e){return t=Qo(t),We(t._path)===null?Uj("child","path",e):AC("child","path",e),new Mi(t._repo,Zt(t._path,e))}function cV(t,e){t=Qo(t),Kv("push",t._path),kC("push",e,t._path,!0);const n=RC(t._repo),r=lV(n),i=jc(t,r),s=jc(t,r);let o;return e!=null?o=Di(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Di(t,e){t=Qo(t),Kv("set",t._path),kC("set",e,t._path,!1);const n=new fu;return Xj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function no(t,e){Bj("update",e,t._path);const n=new fu;return Qj(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Ks(t){t=Qo(t);const e=new Xv(()=>{}),n=new cf(e);return Zj(t._repo,t,n).then(r=>new ol(r,new Mi(t._repo,t._path),t._queryParams.getIndex()))}class cf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new NC("value",this,new ol(e.snapshotNode,new Mi(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new FC(this,e,n):null}matches(e){return e instanceof cf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Jv{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new FC(this,e,n):null}createEvent(e,n){fe(e.childName!=null,"Child events should have a childName.");const r=jc(new Mi(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new NC(e.type,this,new ol(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Jv?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function $C(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(h,d)=>{Vg(t._repo,t,a),l(h,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Xv(n,s||void 0),a=e==="value"?new cf(o):new Jv(e,o);return eV(t._repo,t,a),()=>Vg(t._repo,t,a)}function Oo(t,e,n,r){return $C(t,"value",e,n,r)}function uV(t,e,n,r){return $C(t,"child_added",e,n,r)}function hV(t,e,n){let r=null;const i=n?new Xv(n):null;r=new cf(i),Vg(t._repo,t,r)}dj(Mi);vj(Mi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV="FIREBASE_DATABASE_EMULATOR_HOST",Hg={};let fV=!1;function pV(t,e,n,r){t.repoInfo_=new UL(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function mV(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ws("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Px(s,i),a=o.repoInfo,l;typeof process<"u"&&J8&&(l=J8[dV]),l?(s=`http://${l}?ns=${a.namespace}`,o=Px(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new kB(t.name,t.options,e);jj("Invalid Firebase Database URL",o),qe(o.path)||Ws("Database URL must point to the root of a Firebase Database (not including a child path).");const h=vV(a,t,c,new CB(t.name,n));return new yV(h,t)}function gV(t,e){const n=Hg[e];(!n||n[t.key]!==t)&&Ws(`Database ${e}(${t.repoInfo_}) has already been deleted.`),tV(t),delete n[t.key]}function vV(t,e,n,r){let i=Hg[e.name];i||(i={},Hg[e.name]=i);let s=i[t.toURLString()];return s&&Ws("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Kj(t,fV,n,r),i[t.toURLString()]=s,s}class yV{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mi(this._repo,st())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ws("Cannot call "+e+" on a deleted database.")}}function _V(t=nB(),e){const n=Qz(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=V$("database");r&&xV(n,...r)}return n}function xV(t,e,n,r={}){t=Qo(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ws("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ws('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new t0(t0.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:G$(r.mockUserToken,t.app.options.projectId);s=new t0(o)}pV(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){dB(tB),V0(new hd("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return mV(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),bc(ex,tx,t),bc(ex,tx,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function SV(t,e,n){var r;if(t=Qo(t),Kv("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=(r=void 0)!==null&&r!==void 0?r:!0,s=new fu,o=(l,c,h)=>{let d=null;l?s.reject(l):(d=new ol(h,new Mi(t._repo,t._path),Vt),s.resolve(new wV(c,d)))},a=Oo(t,()=>{});return nV(t._repo,t._path,e,o,a,i),s.promise}Ns.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ns.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bV();var EV="firebase",TV="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bc(EV,TV,"app");const LV={apiKey:"AIzaSyDUsOka8Nas17Wp2fh1gXrxPBbTyLCWiV0",authDomain:"povs-4324f.firebaseapp.com",projectId:"povs-4324f",storageBucket:"povs-4324f.appspot.com",messagingSenderId:"166105543447",appId:"1:166105543447:web:960660106f9c88a55a7d52",measurementId:"G-V2YS02QSLW"},CV=SL(LV),at=_V(CV),Oi=(t,e=!0)=>pn("TOAST",{message:t,success:e,error:!e}),kV=t=>Jd(t),vu=(t,e)=>!t||t.trim()===""?(kV(e),!1):!0,bm=async t=>{vu(t,"Sunucu ismi boş bıraklımaz")&&(await Di(ot(at,t),{GAME_WORDS:[t],COLOR:"#1a8cd8",STREAMERS:[],NAME:t}),Oi(`${t} sunucusu başarıyla eklendi`))},wm=async t=>{await no(ot(at,"/"),{announcement:t}),Oi("Değişiklikler kaydedildi")},AV=async t=>{const e=await Ks(ot(at,"contact_messages")),n=e.exists()?Is(e.val()):[];await Di(ot(at,"contact_messages"),[...n,t])},Sm=async(t,e)=>{vu(e,"Sunucu logosu boş bırakılamaz")&&(await no(ot(at,`${t.name}/`),{LOGO:e}),Oi("Değişiklikler kaydedildi"))},Em=async(t,e)=>{vu(e,"Sunucu rengi boş bırakılamaz")&&(await no(ot(at,`${t.name}/`),{COLOR:e}),Oi("Değişiklikler kaydedildi"))},Tm=async(t,e)=>{await no(ot(at,`${t.name}/`),{GAME_WORDS:e}),Oi("Değişiklikler kaydedildi")},Lm=async(t,e)=>{vu(e,"Sunucu kodu boş bırakılamaz")&&(await no(ot(at,`${t.name}/`),{CODE:e}),Oi("Değişiklikler kaydedildi"))},Cm=async(t,e)=>{await no(ot(at,`${t.name}/`),{ANNOUNCEMENT:e}),Oi("Değişiklikler kaydedildi")},km=async(t,e)=>{await no(ot(at,`${t.name}/`),{BACKGROUND:e}),Oi("Değişiklikler kaydedildi")},Mx=async(t,e,n)=>{const r=ot(at,`${t.name}/STREAMERS`),i=await Ks(r),s=i.exists()?i.val():{kick:[],twitch:[]};n&&!s.twitch.includes(n)&&s.twitch.push(n),e&&!s.kick.includes(e)&&s.kick.push(e),await Di(r,s)},IV=async(t,e,n,r,i,s,o,a)=>{const l=ot(at,`${t}/MAP_CORDS`),c=await Ks(l),h=c.exists()?c.val():[];await Di(l,[...Is(h),{x:e,y:n,type:r,message:i,name:s,userID:o,cordID:a}]),Oi("Değişiklikler kaydedildi")},PV=async(t,e)=>{const n=ot(at,`${t}/MAP_CORDS`),r=await Ks(n);if(r.exists()){const i=r.val();i.splice(e,1),await Di(n,i),Oi("Kayıt silindi")}},RV=async(t,e)=>{vu(e.title,"Anket başlığı boş bırakılamaz")&&(await Di(ot(at,`${t}/POLL`),e),Oi("Değişiklikler kaydedildi"))},zC=async(t,e,n)=>{const{name:r,class:i,allies:s}=n,o=ot(at,`${t}/CHARACTERS`),a=await Ks(o),l=a.exists()?a.val():[];await Di(o,[...l,{name:r,streamer:e,class:i,allies:s||[]}])},MV=async(t,e)=>{const n=ot(at,`${t}/CHARACTERS`),r=await Ks(n),s=(r.exists()?r.val():[]).filter(o=>o.name!==e);await Di(n,s)},DV=async(t,e)=>{const{name:n,newName:r,newClass:i,newAllies:s}=e;if(!vu(r,"Yayıncı adı veya karakter adı boş bırakılamaz"))return;const o=ot(at,`${t}/CHARACTERS`),a=await Ks(o);if(!a.exists()){console.error("No characters found for this server");return}const c=a.val().map(h=>h.name===n?{...h,name:r,class:i,allies:Is(s)}:h);await Di(o,c)};async function Am(t,e){const n=ot(at,`${t}/QA`);if(e.title!=="")await Di(n,e);else return Jd("Başlık boş bırakılamaz")}const BC=P.createContext(),bl=()=>P.useContext(BC),OV=({children:t})=>{const[e,n]=P.useState(localStorage.getItem("POVS_SERVER_CORE")||null),[r,i]=P.useState("Sunucular yükleniyor"),[s,o]=P.useState("Sunucu yükleniyor");P.useEffect(()=>{if(!window.location.href.includes("localhost")){const l=ot(at,"views");SV(l,c=>(c||0)+1)}},[]),P.useEffect(()=>{const c=new URLSearchParams(window.location.search).get("ref");c&&n(c)},[window.location.href]),P.useEffect(()=>{const l=["contact_messages","announcement","venny","views","lobbies","eightborn","game"];Oo(ot(at,"/"),c=>{var d;const h=c.val();if(h){const f=Object.keys(h).filter(v=>!l.includes(v)).reverse().map(v=>{const _=h[v];return{streamersCount:new Set(Object.values(_.STREAMERS||{}).flat()).size,background:_.BACKGROUND||!1,category:_.CATEGORY,views:_.VIEWS,color:_.COLOR,name:_.NAME,logo:_.LOGO,code:_.CODE}}),m=(d=f[0])==null?void 0:d.name,g=localStorage.getItem("POVS_SERVER_CORE")||m;n(g),i(f)}})},[]),P.useEffect(()=>{if(e){localStorage.setItem("POVS_SERVER_CORE",e);const l=ot(at,`${e.toLowerCase()}/`);Oo(l,c=>{const h=c.val(),d=new Set(Object.values(h&&h.STREAMERS?h.STREAMERS:{}).flat());setTimeout(()=>{o(h?{clips:Is(h.CLIPS||[]).reverse(),characters:Is(h.CHARACTERS||[]),contactMessages:h.CONTACT_MESSAGES||[],announcement:h.ANNOUNCEMENT||!1,mapCoordinates:h.MAP_CORDS||!1,background:h.BACKGROUND||!1,streamers:h.STREAMERS||!1,streamersCount:d.size,gameWords:h.GAME_WORDS||[],reddit:h.REDDIT||!1,posts:h.POSTS||!1,views:h.VIEWS,color:h.COLOR,poll:h.POLL,name:h.NAME,logo:h.LOGO,code:h.CODE,qa:h.QA}:null)},200)})}},[e]),P.useEffect(()=>{if(s!=null&&s.color){document.documentElement.style.setProperty("--server-color",s.color);for(let l=1;l<10;l++)document.documentElement.style.setProperty(`--server-color-${l}0`,`rgba(${kr(s.color)}, .${l})`)}},[s,window.location.pathname]);const a=()=>{if(e){o("Sunucu yeniden başlatılıyor");const l=ot(at,`${e.toLowerCase()}/`);Oo(l,c=>{const h=c.val(),d=new Set(Object.values(h&&h.STREAMERS?h.STREAMERS:{}).flat());setTimeout(()=>{o(h?{clips:Is(h.CLIPS||[]).reverse(),characters:Is(h.CHARACTERS||[]),contactMessages:h.CONTACT_MESSAGES||[],announcement:h.ANNOUNCEMENT||!1,mapCoordinates:h.MAP_CORDS||!1,background:h.BACKGROUND||!1,streamers:h.STREAMERS||!1,streamersCount:d.size,gameWords:h.GAME_WORDS||[],reddit:h.REDDIT||!1,posts:h.POSTS||!1,views:h.VIEWS,color:h.COLOR,poll:h.POLL,name:h.NAME,logo:h.LOGO,code:h.CODE,qa:h.QA}:null)},400)})}};return E.jsx(BC.Provider,{value:{setSelectedServer:n,selectedServer:e,restartServer:a,setServers:i,setServer:o,servers:r,server:s},children:t})},UC=P.createContext(),NV=({children:t})=>{const e=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",[n,r]=P.useState(localStorage.getItem("POVS_THEME")||e());P.useEffect(()=>{n==="dark"?(document.documentElement.style.backgroundColor="#000",document.documentElement.style.color="#FFF"):(document.documentElement.style.backgroundColor="rgba(255,255,255, .4)",document.documentElement.style.color="#000"),localStorage.setItem("POVS_THEME",n)},[n]),P.useEffect(()=>{const s=document.documentElement;n==="dark"?(s.classList.add("dark"),s.classList.remove("light")):(s.classList.add("light"),s.classList.remove("dark")),localStorage.setItem("POVS_THEME",n)},[n]);const i=()=>{r(s=>s==="light"?"dark":"light")};return E.jsx(UC.Provider,{value:{theme:n,setTheme:r,toggleTheme:i},children:t})},yu=()=>P.useContext(UC);var jC={exports:{}},zr={},VC={exports:{}},GC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,W){var F=U.length;U.push(W);e:for(;0<F;){var q=F-1>>>1,re=U[q];if(0<i(re,W))U[q]=W,U[F]=re,F=q;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var W=U[0],F=U.pop();if(F!==W){U[0]=F;e:for(var q=0,re=U.length,le=re>>>1;q<le;){var he=2*(q+1)-1,de=U[he],ce=he+1,Se=U[ce];if(0>i(de,F))ce<re&&0>i(Se,de)?(U[q]=Se,U[ce]=F,q=ce):(U[q]=de,U[he]=F,q=he);else if(ce<re&&0>i(Se,F))U[q]=Se,U[ce]=F,q=ce;else break e}}return W}function i(U,W){var F=U.sortIndex-W.sortIndex;return F!==0?F:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=U)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function T(U){if(v=!1,w(U),!g)if(n(l)!==null)g=!0,G(C);else{var W=n(c);W!==null&&ie(T,W.startTime-U)}}function C(U,W){g=!1,v&&(v=!1,x(A),A=-1),m=!0;var F=f;try{for(w(W),d=n(l);d!==null&&(!(d.expirationTime>W)||U&&!z());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var re=q(d.expirationTime<=W);W=t.unstable_now(),typeof re=="function"?d.callback=re:d===n(l)&&r(l),w(W)}else r(l);d=n(l)}if(d!==null)var le=!0;else{var he=n(c);he!==null&&ie(T,he.startTime-W),le=!1}return le}finally{d=null,f=F,m=!1}}var I=!1,M=null,A=-1,O=5,N=-1;function z(){return!(t.unstable_now()-N<O)}function H(){if(M!==null){var U=t.unstable_now();N=U;var W=!0;try{W=M(!0,U)}finally{W?j():(I=!1,M=null)}}else I=!1}var j;if(typeof b=="function")j=function(){b(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,te=Z.port2;Z.port1.onmessage=H,j=function(){te.postMessage(null)}}else j=function(){_(H,0)};function G(U){M=U,I||(I=!0,j())}function ie(U,W){A=_(function(){U(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,G(C))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var F=f;f=W;try{return U()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var F=f;f=U;try{return W()}finally{f=F}},t.unstable_scheduleCallback=function(U,W,F){var q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,U){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=F+re,U={id:h++,callback:W,priorityLevel:U,startTime:F,expirationTime:re,sortIndex:-1},F>q?(U.sortIndex=F,e(c,U),n(l)===null&&U===n(c)&&(v?(x(A),A=-1):v=!0,ie(T,F-q))):(U.sortIndex=re,e(l,U),g||m||(g=!0,G(C))),U},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(U){var W=f;return function(){var F=f;f=W;try{return U.apply(this,arguments)}finally{f=F}}}})(GC);VC.exports=GC;var FV=VC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $V=P,Fr=FV;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HC=new Set,xd={};function wl(t,e){Vc(t,e),Vc(t+"Capture",e)}function Vc(t,e){for(xd[t]=e,t=0;t<e.length;t++)HC.add(e[t])}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wg=Object.prototype.hasOwnProperty,zV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dx={},Ox={};function BV(t){return Wg.call(Ox,t)?!0:Wg.call(Dx,t)?!1:zV.test(t)?Ox[t]=!0:(Dx[t]=!0,!1)}function UV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jV(t,e,n,r){if(e===null||typeof e>"u"||UV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bn[t]=new cr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bn[e]=new cr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bn[t]=new cr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bn[t]=new cr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bn[t]=new cr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bn[t]=new cr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bn[t]=new cr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bn[t]=new cr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bn[t]=new cr(t,5,!1,t.toLowerCase(),null,!1,!1)});var ey=/[\-:]([a-z])/g;function ty(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ey,ty);Bn[e]=new cr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ey,ty);Bn[e]=new cr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ey,ty);Bn[e]=new cr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bn[t]=new cr(t,1,!1,t.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bn[t]=new cr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ny(t,e,n,r){var i=Bn.hasOwnProperty(e)?Bn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jV(e,n,i,r)&&(n=null),r||i===null?BV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ro=$V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u3=Symbol.for("react.element"),tc=Symbol.for("react.portal"),nc=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),Kg=Symbol.for("react.profiler"),WC=Symbol.for("react.provider"),KC=Symbol.for("react.context"),iy=Symbol.for("react.forward_ref"),qg=Symbol.for("react.suspense"),Yg=Symbol.for("react.suspense_list"),sy=Symbol.for("react.memo"),yo=Symbol.for("react.lazy"),qC=Symbol.for("react.offscreen"),Nx=Symbol.iterator;function nh(t){return t===null||typeof t!="object"?null:(t=Nx&&t[Nx]||t["@@iterator"],typeof t=="function"?t:null)}var Ht=Object.assign,Im;function Lh(t){if(Im===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Im=e&&e[1]||""}return`
`+Im+t}var Pm=!1;function Rm(t,e){if(!t||Pm)return"";Pm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lh(t):""}function VV(t){switch(t.tag){case 5:return Lh(t.type);case 16:return Lh("Lazy");case 13:return Lh("Suspense");case 19:return Lh("SuspenseList");case 0:case 2:case 15:return t=Rm(t.type,!1),t;case 11:return t=Rm(t.type.render,!1),t;case 1:return t=Rm(t.type,!0),t;default:return""}}function Zg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nc:return"Fragment";case tc:return"Portal";case Kg:return"Profiler";case ry:return"StrictMode";case qg:return"Suspense";case Yg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KC:return(t.displayName||"Context")+".Consumer";case WC:return(t._context.displayName||"Context")+".Provider";case iy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sy:return e=t.displayName||null,e!==null?e:Zg(t.type)||"Memo";case yo:e=t._payload,t=t._init;try{return Zg(t(e))}catch{}}return null}function GV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zg(e);case 8:return e===ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HV(t){var e=YC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function h3(t){t._valueTracker||(t._valueTracker=HV(t))}function ZC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xg(t,e){var n=e.checked;return Ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XC(t,e){e=e.checked,e!=null&&ny(t,"checked",e,!1)}function Qg(t,e){XC(t,e);var n=Ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jg(t,e.type,Ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $x(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jg(t,e,n){(e!=="number"||rp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ch=Array.isArray;function Ec(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function e5(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Ch(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ko(n)}}function QC(t,e){var n=Ko(e.value),r=Ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Bx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t5(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var d3,ek=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(d3=d3||document.createElement("div"),d3.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=d3.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WV=["Webkit","ms","Moz","O"];Object.keys(Uh).forEach(function(t){WV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uh[e]=Uh[t]})});function tk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uh.hasOwnProperty(t)&&Uh[t]?(""+e).trim():e+"px"}function nk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var KV=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n5(t,e){if(e){if(KV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function r5(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i5=null;function oy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var s5=null,Tc=null,Lc=null;function Ux(t){if(t=df(t)){if(typeof s5!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=V1(e),s5(t.stateNode,t.type,e))}}function rk(t){Tc?Lc?Lc.push(t):Lc=[t]:Tc=t}function ik(){if(Tc){var t=Tc,e=Lc;if(Lc=Tc=null,Ux(t),e)for(t=0;t<e.length;t++)Ux(e[t])}}function sk(t,e){return t(e)}function ok(){}var Mm=!1;function ak(t,e,n){if(Mm)return t(e,n);Mm=!0;try{return sk(t,e,n)}finally{Mm=!1,(Tc!==null||Lc!==null)&&(ok(),ik())}}function wd(t,e){var n=t.stateNode;if(n===null)return null;var r=V1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var o5=!1;if(qs)try{var rh={};Object.defineProperty(rh,"passive",{get:function(){o5=!0}}),window.addEventListener("test",rh,rh),window.removeEventListener("test",rh,rh)}catch{o5=!1}function qV(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var jh=!1,ip=null,sp=!1,a5=null,YV={onError:function(t){jh=!0,ip=t}};function ZV(t,e,n,r,i,s,o,a,l){jh=!1,ip=null,qV.apply(YV,arguments)}function XV(t,e,n,r,i,s,o,a,l){if(ZV.apply(this,arguments),jh){if(jh){var c=ip;jh=!1,ip=null}else throw Error(ue(198));sp||(sp=!0,a5=c)}}function Sl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jx(t){if(Sl(t)!==t)throw Error(ue(188))}function QV(t){var e=t.alternate;if(!e){if(e=Sl(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jx(i),t;if(s===r)return jx(i),e;s=s.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function ck(t){return t=QV(t),t!==null?uk(t):null}function uk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uk(t);if(e!==null)return e;t=t.sibling}return null}var hk=Fr.unstable_scheduleCallback,Vx=Fr.unstable_cancelCallback,JV=Fr.unstable_shouldYield,eG=Fr.unstable_requestPaint,tn=Fr.unstable_now,tG=Fr.unstable_getCurrentPriorityLevel,ay=Fr.unstable_ImmediatePriority,dk=Fr.unstable_UserBlockingPriority,op=Fr.unstable_NormalPriority,nG=Fr.unstable_LowPriority,fk=Fr.unstable_IdlePriority,z1=null,os=null;function rG(t){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(z1,t,void 0,(t.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:oG,iG=Math.log,sG=Math.LN2;function oG(t){return t>>>=0,t===0?32:31-(iG(t)/sG|0)|0}var f3=64,p3=4194304;function kh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ap(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=kh(a):(s&=o,s!==0&&(r=kh(s)))}else o=n&~i,o!==0?r=kh(o):s!==0&&(r=kh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ai(e),i=1<<n,r|=t[n],e&=~i;return r}function aG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lG(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ai(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=aG(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function l5(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pk(){var t=f3;return f3<<=1,!(f3&4194240)&&(f3=64),t}function Dm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ai(e),t[e]=n}function cG(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ai(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ly(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ai(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var vt=0;function mk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gk,cy,vk,yk,_k,c5=!1,m3=[],No=null,Fo=null,$o=null,Sd=new Map,Ed=new Map,So=[],uG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gx(t,e){switch(t){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":Sd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ed.delete(e.pointerId)}}function ih(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=df(e),e!==null&&cy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hG(t,e,n,r,i){switch(e){case"focusin":return No=ih(No,t,e,n,r,i),!0;case"dragenter":return Fo=ih(Fo,t,e,n,r,i),!0;case"mouseover":return $o=ih($o,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sd.set(s,ih(Sd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ed.set(s,ih(Ed.get(s)||null,t,e,n,r,i)),!0}return!1}function xk(t){var e=Na(t.target);if(e!==null){var n=Sl(e);if(n!==null){if(e=n.tag,e===13){if(e=lk(n),e!==null){t.blockedOn=e,_k(t.priority,function(){vk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function n0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=u5(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);i5=r,n.target.dispatchEvent(r),i5=null}else return e=df(n),e!==null&&cy(e),t.blockedOn=n,!1;e.shift()}return!0}function Hx(t,e,n){n0(t)&&n.delete(e)}function dG(){c5=!1,No!==null&&n0(No)&&(No=null),Fo!==null&&n0(Fo)&&(Fo=null),$o!==null&&n0($o)&&($o=null),Sd.forEach(Hx),Ed.forEach(Hx)}function sh(t,e){t.blockedOn===e&&(t.blockedOn=null,c5||(c5=!0,Fr.unstable_scheduleCallback(Fr.unstable_NormalPriority,dG)))}function Td(t){function e(i){return sh(i,t)}if(0<m3.length){sh(m3[0],t);for(var n=1;n<m3.length;n++){var r=m3[n];r.blockedOn===t&&(r.blockedOn=null)}}for(No!==null&&sh(No,t),Fo!==null&&sh(Fo,t),$o!==null&&sh($o,t),Sd.forEach(e),Ed.forEach(e),n=0;n<So.length;n++)r=So[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<So.length&&(n=So[0],n.blockedOn===null);)xk(n),n.blockedOn===null&&So.shift()}var Cc=ro.ReactCurrentBatchConfig,lp=!0;function fG(t,e,n,r){var i=vt,s=Cc.transition;Cc.transition=null;try{vt=1,uy(t,e,n,r)}finally{vt=i,Cc.transition=s}}function pG(t,e,n,r){var i=vt,s=Cc.transition;Cc.transition=null;try{vt=4,uy(t,e,n,r)}finally{vt=i,Cc.transition=s}}function uy(t,e,n,r){if(lp){var i=u5(t,e,n,r);if(i===null)Gm(t,e,r,cp,n),Gx(t,r);else if(hG(i,t,e,n,r))r.stopPropagation();else if(Gx(t,r),e&4&&-1<uG.indexOf(t)){for(;i!==null;){var s=df(i);if(s!==null&&gk(s),s=u5(t,e,n,r),s===null&&Gm(t,e,r,cp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gm(t,e,r,null,n)}}var cp=null;function u5(t,e,n,r){if(cp=null,t=oy(r),t=Na(t),t!==null)if(e=Sl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cp=t,null}function bk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tG()){case ay:return 1;case dk:return 4;case op:case nG:return 16;case fk:return 536870912;default:return 16}default:return 16}}var Lo=null,hy=null,r0=null;function wk(){if(r0)return r0;var t,e=hy,n=e.length,r,i="value"in Lo?Lo.value:Lo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return r0=i.slice(t,1<r?1-r:void 0)}function i0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function g3(){return!0}function Wx(){return!1}function Br(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?g3:Wx,this.isPropagationStopped=Wx,this}return Ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=g3)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=g3)},persist:function(){},isPersistent:g3}),e}var _u={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dy=Br(_u),hf=Ht({},_u,{view:0,detail:0}),mG=Br(hf),Om,Nm,oh,B1=Ht({},hf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oh&&(oh&&t.type==="mousemove"?(Om=t.screenX-oh.screenX,Nm=t.screenY-oh.screenY):Nm=Om=0,oh=t),Om)},movementY:function(t){return"movementY"in t?t.movementY:Nm}}),Kx=Br(B1),gG=Ht({},B1,{dataTransfer:0}),vG=Br(gG),yG=Ht({},hf,{relatedTarget:0}),Fm=Br(yG),_G=Ht({},_u,{animationName:0,elapsedTime:0,pseudoElement:0}),xG=Br(_G),bG=Ht({},_u,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wG=Br(bG),SG=Ht({},_u,{data:0}),qx=Br(SG),EG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LG[t])?!!e[t]:!1}function fy(){return CG}var kG=Ht({},hf,{key:function(t){if(t.key){var e=EG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=i0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fy,charCode:function(t){return t.type==="keypress"?i0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?i0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AG=Br(kG),IG=Ht({},B1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yx=Br(IG),PG=Ht({},hf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fy}),RG=Br(PG),MG=Ht({},_u,{propertyName:0,elapsedTime:0,pseudoElement:0}),DG=Br(MG),OG=Ht({},B1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NG=Br(OG),FG=[9,13,27,32],py=qs&&"CompositionEvent"in window,Vh=null;qs&&"documentMode"in document&&(Vh=document.documentMode);var $G=qs&&"TextEvent"in window&&!Vh,Sk=qs&&(!py||Vh&&8<Vh&&11>=Vh),Zx=" ",Xx=!1;function Ek(t,e){switch(t){case"keyup":return FG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rc=!1;function zG(t,e){switch(t){case"compositionend":return Tk(e);case"keypress":return e.which!==32?null:(Xx=!0,Zx);case"textInput":return t=e.data,t===Zx&&Xx?null:t;default:return null}}function BG(t,e){if(rc)return t==="compositionend"||!py&&Ek(t,e)?(t=wk(),r0=hy=Lo=null,rc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sk&&e.locale!=="ko"?null:e.data;default:return null}}var UG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UG[t.type]:e==="textarea"}function Lk(t,e,n,r){rk(r),e=up(e,"onChange"),0<e.length&&(n=new dy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gh=null,Ld=null;function jG(t){Fk(t,0)}function U1(t){var e=oc(t);if(ZC(e))return t}function VG(t,e){if(t==="change")return e}var Ck=!1;if(qs){var $m;if(qs){var zm="oninput"in document;if(!zm){var Jx=document.createElement("div");Jx.setAttribute("oninput","return;"),zm=typeof Jx.oninput=="function"}$m=zm}else $m=!1;Ck=$m&&(!document.documentMode||9<document.documentMode)}function eb(){Gh&&(Gh.detachEvent("onpropertychange",kk),Ld=Gh=null)}function kk(t){if(t.propertyName==="value"&&U1(Ld)){var e=[];Lk(e,Ld,t,oy(t)),ak(jG,e)}}function GG(t,e,n){t==="focusin"?(eb(),Gh=e,Ld=n,Gh.attachEvent("onpropertychange",kk)):t==="focusout"&&eb()}function HG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return U1(Ld)}function WG(t,e){if(t==="click")return U1(e)}function KG(t,e){if(t==="input"||t==="change")return U1(e)}function qG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pi=typeof Object.is=="function"?Object.is:qG;function Cd(t,e){if(Pi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wg.call(e,i)||!Pi(t[i],e[i]))return!1}return!0}function tb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nb(t,e){var n=tb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tb(n)}}function Ak(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ak(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ik(){for(var t=window,e=rp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rp(t.document)}return e}function my(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YG(t){var e=Ik(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ak(n.ownerDocument.documentElement,n)){if(r!==null&&my(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=nb(n,s);var o=nb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZG=qs&&"documentMode"in document&&11>=document.documentMode,ic=null,h5=null,Hh=null,d5=!1;function rb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d5||ic==null||ic!==rp(r)||(r=ic,"selectionStart"in r&&my(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hh&&Cd(Hh,r)||(Hh=r,r=up(h5,"onSelect"),0<r.length&&(e=new dy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ic)))}function v3(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sc={animationend:v3("Animation","AnimationEnd"),animationiteration:v3("Animation","AnimationIteration"),animationstart:v3("Animation","AnimationStart"),transitionend:v3("Transition","TransitionEnd")},Bm={},Pk={};qs&&(Pk=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function j1(t){if(Bm[t])return Bm[t];if(!sc[t])return t;var e=sc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Pk)return Bm[t]=e[n];return t}var Rk=j1("animationend"),Mk=j1("animationiteration"),Dk=j1("animationstart"),Ok=j1("transitionend"),Nk=new Map,ib="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jo(t,e){Nk.set(t,e),wl(e,[t])}for(var Um=0;Um<ib.length;Um++){var jm=ib[Um],XG=jm.toLowerCase(),QG=jm[0].toUpperCase()+jm.slice(1);Jo(XG,"on"+QG)}Jo(Rk,"onAnimationEnd");Jo(Mk,"onAnimationIteration");Jo(Dk,"onAnimationStart");Jo("dblclick","onDoubleClick");Jo("focusin","onFocus");Jo("focusout","onBlur");Jo(Ok,"onTransitionEnd");Vc("onMouseEnter",["mouseout","mouseover"]);Vc("onMouseLeave",["mouseout","mouseover"]);Vc("onPointerEnter",["pointerout","pointerover"]);Vc("onPointerLeave",["pointerout","pointerover"]);wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wl("onBeforeInput",["compositionend","keypress","textInput","paste"]);wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ah));function sb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XV(r,e,void 0,t),t.currentTarget=null}function Fk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;sb(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;sb(i,a,c),s=l}}}if(sp)throw t=a5,sp=!1,a5=null,t}function Rt(t,e){var n=e[v5];n===void 0&&(n=e[v5]=new Set);var r=t+"__bubble";n.has(r)||($k(e,t,2,!1),n.add(r))}function Vm(t,e,n){var r=0;e&&(r|=4),$k(n,t,r,e)}var y3="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[y3]){t[y3]=!0,HC.forEach(function(n){n!=="selectionchange"&&(JG.has(n)||Vm(n,!1,t),Vm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[y3]||(e[y3]=!0,Vm("selectionchange",!1,e))}}function $k(t,e,n,r){switch(bk(e)){case 1:var i=fG;break;case 4:i=pG;break;default:i=uy}n=i.bind(null,e,n,t),i=void 0,!o5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Na(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ak(function(){var c=s,h=oy(n),d=[];e:{var f=Nk.get(t);if(f!==void 0){var m=dy,g=t;switch(t){case"keypress":if(i0(n)===0)break e;case"keydown":case"keyup":m=AG;break;case"focusin":g="focus",m=Fm;break;case"focusout":g="blur",m=Fm;break;case"beforeblur":case"afterblur":m=Fm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=RG;break;case Rk:case Mk:case Dk:m=xG;break;case Ok:m=DG;break;case"scroll":m=mG;break;case"wheel":m=NG;break;case"copy":case"cut":case"paste":m=wG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Yx}var v=(e&4)!==0,_=!v&&t==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var b=c,w;b!==null;){w=b;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,x!==null&&(T=wd(b,x),T!=null&&v.push(Ad(b,T,w)))),_)break;b=b.return}0<v.length&&(f=new m(f,g,null,n,h),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==i5&&(g=n.relatedTarget||n.fromElement)&&(Na(g)||g[Ys]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?Na(g):null,g!==null&&(_=Sl(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(v=Kx,T="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=Yx,T="onPointerLeave",x="onPointerEnter",b="pointer"),_=m==null?f:oc(m),w=g==null?f:oc(g),f=new v(T,b+"leave",m,n,h),f.target=_,f.relatedTarget=w,T=null,Na(h)===c&&(v=new v(x,b+"enter",g,n,h),v.target=w,v.relatedTarget=_,T=v),_=T,m&&g)t:{for(v=m,x=g,b=0,w=v;w;w=Bl(w))b++;for(w=0,T=x;T;T=Bl(T))w++;for(;0<b-w;)v=Bl(v),b--;for(;0<w-b;)x=Bl(x),w--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=Bl(v),x=Bl(x)}v=null}else v=null;m!==null&&ob(d,f,m,v,!1),g!==null&&_!==null&&ob(d,_,g,v,!0)}}e:{if(f=c?oc(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=VG;else if(Qx(f))if(Ck)C=KG;else{C=HG;var I=GG}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=WG);if(C&&(C=C(t,c))){Lk(d,C,n,h);break e}I&&I(t,f,c),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&Jg(f,"number",f.value)}switch(I=c?oc(c):window,t){case"focusin":(Qx(I)||I.contentEditable==="true")&&(ic=I,h5=c,Hh=null);break;case"focusout":Hh=h5=ic=null;break;case"mousedown":d5=!0;break;case"contextmenu":case"mouseup":case"dragend":d5=!1,rb(d,n,h);break;case"selectionchange":if(ZG)break;case"keydown":case"keyup":rb(d,n,h)}var M;if(py)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else rc?Ek(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Sk&&n.locale!=="ko"&&(rc||A!=="onCompositionStart"?A==="onCompositionEnd"&&rc&&(M=wk()):(Lo=h,hy="value"in Lo?Lo.value:Lo.textContent,rc=!0)),I=up(c,A),0<I.length&&(A=new qx(A,t,null,n,h),d.push({event:A,listeners:I}),M?A.data=M:(M=Tk(n),M!==null&&(A.data=M)))),(M=$G?zG(t,n):BG(t,n))&&(c=up(c,"onBeforeInput"),0<c.length&&(h=new qx("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=M))}Fk(d,e)})}function Ad(t,e,n){return{instance:t,listener:e,currentTarget:n}}function up(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wd(t,n),s!=null&&r.unshift(Ad(t,s,i)),s=wd(t,e),s!=null&&r.push(Ad(t,s,i))),t=t.return}return r}function Bl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ob(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=wd(n,s),l!=null&&o.unshift(Ad(n,l,a))):i||(l=wd(n,s),l!=null&&o.push(Ad(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eH=/\r\n?/g,tH=/\u0000|\uFFFD/g;function ab(t){return(typeof t=="string"?t:""+t).replace(eH,`
`).replace(tH,"")}function _3(t,e,n){if(e=ab(e),ab(t)!==e&&n)throw Error(ue(425))}function hp(){}var f5=null,p5=null;function m5(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var g5=typeof setTimeout=="function"?setTimeout:void 0,nH=typeof clearTimeout=="function"?clearTimeout:void 0,lb=typeof Promise=="function"?Promise:void 0,rH=typeof queueMicrotask=="function"?queueMicrotask:typeof lb<"u"?function(t){return lb.resolve(null).then(t).catch(iH)}:g5;function iH(t){setTimeout(function(){throw t})}function Hm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Td(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Td(e)}function zo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xu=Math.random().toString(36).slice(2),Qi="__reactFiber$"+xu,Id="__reactProps$"+xu,Ys="__reactContainer$"+xu,v5="__reactEvents$"+xu,sH="__reactListeners$"+xu,oH="__reactHandles$"+xu;function Na(t){var e=t[Qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ys]||n[Qi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cb(t);t!==null;){if(n=t[Qi])return n;t=cb(t)}return e}t=n,n=t.parentNode}return null}function df(t){return t=t[Qi]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function V1(t){return t[Id]||null}var y5=[],ac=-1;function ea(t){return{current:t}}function Dt(t){0>ac||(t.current=y5[ac],y5[ac]=null,ac--)}function kt(t,e){ac++,y5[ac]=t.current,t.current=e}var qo={},Xn=ea(qo),_r=ea(!1),al=qo;function Gc(t,e){var n=t.type.contextTypes;if(!n)return qo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xr(t){return t=t.childContextTypes,t!=null}function dp(){Dt(_r),Dt(Xn)}function ub(t,e,n){if(Xn.current!==qo)throw Error(ue(168));kt(Xn,e),kt(_r,n)}function zk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,GV(t)||"Unknown",i));return Ht({},n,r)}function fp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qo,al=Xn.current,kt(Xn,t),kt(_r,_r.current),!0}function hb(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=zk(t,e,al),r.__reactInternalMemoizedMergedChildContext=t,Dt(_r),Dt(Xn),kt(Xn,t)):Dt(_r),kt(_r,n)}var As=null,G1=!1,Wm=!1;function Bk(t){As===null?As=[t]:As.push(t)}function aH(t){G1=!0,Bk(t)}function ta(){if(!Wm&&As!==null){Wm=!0;var t=0,e=vt;try{var n=As;for(vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}As=null,G1=!1}catch(i){throw As!==null&&(As=As.slice(t+1)),hk(ay,ta),i}finally{vt=e,Wm=!1}}return null}var lc=[],cc=0,pp=null,mp=0,Xr=[],Qr=0,ll=null,Rs=1,Ms="";function Ca(t,e){lc[cc++]=mp,lc[cc++]=pp,pp=t,mp=e}function Uk(t,e,n){Xr[Qr++]=Rs,Xr[Qr++]=Ms,Xr[Qr++]=ll,ll=t;var r=Rs;t=Ms;var i=32-Ai(r)-1;r&=~(1<<i),n+=1;var s=32-Ai(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rs=1<<32-Ai(e)+i|n<<i|r,Ms=s+t}else Rs=1<<s|n<<i|r,Ms=t}function gy(t){t.return!==null&&(Ca(t,1),Uk(t,1,0))}function vy(t){for(;t===pp;)pp=lc[--cc],lc[cc]=null,mp=lc[--cc],lc[cc]=null;for(;t===ll;)ll=Xr[--Qr],Xr[Qr]=null,Ms=Xr[--Qr],Xr[Qr]=null,Rs=Xr[--Qr],Xr[Qr]=null}var Pr=null,Ar=null,Ft=!1,xi=null;function jk(t,e){var n=ni(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function db(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pr=t,Ar=zo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pr=t,Ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ll!==null?{id:Rs,overflow:Ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ni(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pr=t,Ar=null,!0):!1;default:return!1}}function _5(t){return(t.mode&1)!==0&&(t.flags&128)===0}function x5(t){if(Ft){var e=Ar;if(e){var n=e;if(!db(t,e)){if(_5(t))throw Error(ue(418));e=zo(n.nextSibling);var r=Pr;e&&db(t,e)?jk(r,n):(t.flags=t.flags&-4097|2,Ft=!1,Pr=t)}}else{if(_5(t))throw Error(ue(418));t.flags=t.flags&-4097|2,Ft=!1,Pr=t}}}function fb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function x3(t){if(t!==Pr)return!1;if(!Ft)return fb(t),Ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!m5(t.type,t.memoizedProps)),e&&(e=Ar)){if(_5(t))throw Vk(),Error(ue(418));for(;e;)jk(t,e),e=zo(e.nextSibling)}if(fb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ar=zo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ar=null}}else Ar=Pr?zo(t.stateNode.nextSibling):null;return!0}function Vk(){for(var t=Ar;t;)t=zo(t.nextSibling)}function Hc(){Ar=Pr=null,Ft=!1}function yy(t){xi===null?xi=[t]:xi.push(t)}var lH=ro.ReactCurrentBatchConfig;function ah(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function b3(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pb(t){var e=t._init;return e(t._payload)}function Gk(t){function e(x,b){if(t){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Vo(x,b),x.index=0,x.sibling=null,x}function s(x,b,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,T){return b===null||b.tag!==6?(b=Jm(w,x.mode,T),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,T){var C=w.type;return C===nc?h(x,b,w.props.children,T,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yo&&pb(C)===b.type)?(T=i(b,w.props),T.ref=ah(x,b,w),T.return=x,T):(T=h0(w.type,w.key,w.props,null,x.mode,T),T.ref=ah(x,b,w),T.return=x,T)}function c(x,b,w,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=e6(w,x.mode,T),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function h(x,b,w,T,C){return b===null||b.tag!==7?(b=Wa(w,x.mode,T,C),b.return=x,b):(b=i(b,w),b.return=x,b)}function d(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Jm(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case u3:return w=h0(b.type,b.key,b.props,null,x.mode,w),w.ref=ah(x,null,b),w.return=x,w;case tc:return b=e6(b,x.mode,w),b.return=x,b;case yo:var T=b._init;return d(x,T(b._payload),w)}if(Ch(b)||nh(b))return b=Wa(b,x.mode,w,null),b.return=x,b;b3(x,b)}return null}function f(x,b,w,T){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(x,b,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case u3:return w.key===C?l(x,b,w,T):null;case tc:return w.key===C?c(x,b,w,T):null;case yo:return C=w._init,f(x,b,C(w._payload),T)}if(Ch(w)||nh(w))return C!==null?null:h(x,b,w,T,null);b3(x,w)}return null}function m(x,b,w,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(w)||null,a(b,x,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case u3:return x=x.get(T.key===null?w:T.key)||null,l(b,x,T,C);case tc:return x=x.get(T.key===null?w:T.key)||null,c(b,x,T,C);case yo:var I=T._init;return m(x,b,w,I(T._payload),C)}if(Ch(T)||nh(T))return x=x.get(w)||null,h(b,x,T,C,null);b3(b,T)}return null}function g(x,b,w,T){for(var C=null,I=null,M=b,A=b=0,O=null;M!==null&&A<w.length;A++){M.index>A?(O=M,M=null):O=M.sibling;var N=f(x,M,w[A],T);if(N===null){M===null&&(M=O);break}t&&M&&N.alternate===null&&e(x,M),b=s(N,b,A),I===null?C=N:I.sibling=N,I=N,M=O}if(A===w.length)return n(x,M),Ft&&Ca(x,A),C;if(M===null){for(;A<w.length;A++)M=d(x,w[A],T),M!==null&&(b=s(M,b,A),I===null?C=M:I.sibling=M,I=M);return Ft&&Ca(x,A),C}for(M=r(x,M);A<w.length;A++)O=m(M,x,A,w[A],T),O!==null&&(t&&O.alternate!==null&&M.delete(O.key===null?A:O.key),b=s(O,b,A),I===null?C=O:I.sibling=O,I=O);return t&&M.forEach(function(z){return e(x,z)}),Ft&&Ca(x,A),C}function v(x,b,w,T){var C=nh(w);if(typeof C!="function")throw Error(ue(150));if(w=C.call(w),w==null)throw Error(ue(151));for(var I=C=null,M=b,A=b=0,O=null,N=w.next();M!==null&&!N.done;A++,N=w.next()){M.index>A?(O=M,M=null):O=M.sibling;var z=f(x,M,N.value,T);if(z===null){M===null&&(M=O);break}t&&M&&z.alternate===null&&e(x,M),b=s(z,b,A),I===null?C=z:I.sibling=z,I=z,M=O}if(N.done)return n(x,M),Ft&&Ca(x,A),C;if(M===null){for(;!N.done;A++,N=w.next())N=d(x,N.value,T),N!==null&&(b=s(N,b,A),I===null?C=N:I.sibling=N,I=N);return Ft&&Ca(x,A),C}for(M=r(x,M);!N.done;A++,N=w.next())N=m(M,x,A,N.value,T),N!==null&&(t&&N.alternate!==null&&M.delete(N.key===null?A:N.key),b=s(N,b,A),I===null?C=N:I.sibling=N,I=N);return t&&M.forEach(function(H){return e(x,H)}),Ft&&Ca(x,A),C}function _(x,b,w,T){if(typeof w=="object"&&w!==null&&w.type===nc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case u3:e:{for(var C=w.key,I=b;I!==null;){if(I.key===C){if(C=w.type,C===nc){if(I.tag===7){n(x,I.sibling),b=i(I,w.props.children),b.return=x,x=b;break e}}else if(I.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===yo&&pb(C)===I.type){n(x,I.sibling),b=i(I,w.props),b.ref=ah(x,I,w),b.return=x,x=b;break e}n(x,I);break}else e(x,I);I=I.sibling}w.type===nc?(b=Wa(w.props.children,x.mode,T,w.key),b.return=x,x=b):(T=h0(w.type,w.key,w.props,null,x.mode,T),T.ref=ah(x,b,w),T.return=x,x=T)}return o(x);case tc:e:{for(I=w.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=e6(w,x.mode,T),b.return=x,x=b}return o(x);case yo:return I=w._init,_(x,b,I(w._payload),T)}if(Ch(w))return g(x,b,w,T);if(nh(w))return v(x,b,w,T);b3(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=Jm(w,x.mode,T),b.return=x,x=b),o(x)):n(x,b)}return _}var Wc=Gk(!0),Hk=Gk(!1),gp=ea(null),vp=null,uc=null,_y=null;function xy(){_y=uc=vp=null}function by(t){var e=gp.current;Dt(gp),t._currentValue=e}function b5(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function kc(t,e){vp=t,_y=uc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yr=!0),t.firstContext=null)}function si(t){var e=t._currentValue;if(_y!==t)if(t={context:t,memoizedValue:e,next:null},uc===null){if(vp===null)throw Error(ue(308));uc=t,vp.dependencies={lanes:0,firstContext:t}}else uc=uc.next=t;return e}var Fa=null;function wy(t){Fa===null?Fa=[t]:Fa.push(t)}function Wk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zs(t,r)}function Zs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _o=!1;function Sy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,nt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zs(t,n)}return i=r.interleaved,i===null?(e.next=e,wy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zs(t,n)}function s0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}function mb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yp(t,e,n,r){var i=t.updateQueue;_o=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=Ht({},d,f);break e;case 2:_o=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ul|=o,t.lanes=o,t.memoizedState=d}}function gb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var ff={},as=ea(ff),Pd=ea(ff),Rd=ea(ff);function $a(t){if(t===ff)throw Error(ue(174));return t}function Ey(t,e){switch(kt(Rd,e),kt(Pd,t),kt(as,ff),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:t5(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=t5(e,t)}Dt(as),kt(as,e)}function Kc(){Dt(as),Dt(Pd),Dt(Rd)}function qk(t){$a(Rd.current);var e=$a(as.current),n=t5(e,t.type);e!==n&&(kt(Pd,t),kt(as,n))}function Ty(t){Pd.current===t&&(Dt(as),Dt(Pd))}var Ut=ea(0);function _p(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Km=[];function Ly(){for(var t=0;t<Km.length;t++)Km[t]._workInProgressVersionPrimary=null;Km.length=0}var o0=ro.ReactCurrentDispatcher,qm=ro.ReactCurrentBatchConfig,cl=0,Gt=null,mn=null,En=null,xp=!1,Wh=!1,Md=0,cH=0;function Gn(){throw Error(ue(321))}function Cy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pi(t[n],e[n]))return!1;return!0}function ky(t,e,n,r,i,s){if(cl=s,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,o0.current=t===null||t.memoizedState===null?fH:pH,t=n(r,i),Wh){s=0;do{if(Wh=!1,Md=0,25<=s)throw Error(ue(301));s+=1,En=mn=null,e.updateQueue=null,o0.current=mH,t=n(r,i)}while(Wh)}if(o0.current=bp,e=mn!==null&&mn.next!==null,cl=0,En=mn=Gt=null,xp=!1,e)throw Error(ue(300));return t}function Ay(){var t=Md!==0;return Md=0,t}function Ki(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Gt.memoizedState=En=t:En=En.next=t,En}function oi(){if(mn===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=En===null?Gt.memoizedState:En.next;if(e!==null)En=e,mn=t;else{if(t===null)throw Error(ue(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},En===null?Gt.memoizedState=En=t:En=En.next=t}return En}function Dd(t,e){return typeof e=="function"?e(t):e}function Ym(t){var e=oi(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=mn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((cl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Gt.lanes|=h,ul|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Pi(r,e.memoizedState)||(yr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Gt.lanes|=s,ul|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zm(t){var e=oi(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pi(s,e.memoizedState)||(yr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Yk(){}function Zk(t,e){var n=Gt,r=oi(),i=e(),s=!Pi(r.memoizedState,i);if(s&&(r.memoizedState=i,yr=!0),r=r.queue,Iy(Jk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,Od(9,Qk.bind(null,n,r,i,e),void 0,null),kn===null)throw Error(ue(349));cl&30||Xk(n,e,i)}return i}function Xk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qk(t,e,n,r){e.value=n,e.getSnapshot=r,eA(e)&&tA(t)}function Jk(t,e,n){return n(function(){eA(e)&&tA(t)})}function eA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pi(t,n)}catch{return!0}}function tA(t){var e=Zs(t,1);e!==null&&Ii(e,t,1,-1)}function vb(t){var e=Ki();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dd,lastRenderedState:t},e.queue=t,t=t.dispatch=dH.bind(null,Gt,t),[e.memoizedState,t]}function Od(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nA(){return oi().memoizedState}function a0(t,e,n,r){var i=Ki();Gt.flags|=t,i.memoizedState=Od(1|e,n,void 0,r===void 0?null:r)}function H1(t,e,n,r){var i=oi();r=r===void 0?null:r;var s=void 0;if(mn!==null){var o=mn.memoizedState;if(s=o.destroy,r!==null&&Cy(r,o.deps)){i.memoizedState=Od(e,n,s,r);return}}Gt.flags|=t,i.memoizedState=Od(1|e,n,s,r)}function yb(t,e){return a0(8390656,8,t,e)}function Iy(t,e){return H1(2048,8,t,e)}function rA(t,e){return H1(4,2,t,e)}function iA(t,e){return H1(4,4,t,e)}function sA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oA(t,e,n){return n=n!=null?n.concat([t]):null,H1(4,4,sA.bind(null,e,t),n)}function Py(){}function aA(t,e){var n=oi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lA(t,e){var n=oi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cA(t,e,n){return cl&21?(Pi(n,e)||(n=pk(),Gt.lanes|=n,ul|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yr=!0),t.memoizedState=n)}function uH(t,e){var n=vt;vt=n!==0&&4>n?n:4,t(!0);var r=qm.transition;qm.transition={};try{t(!1),e()}finally{vt=n,qm.transition=r}}function uA(){return oi().memoizedState}function hH(t,e,n){var r=jo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hA(t))dA(e,n);else if(n=Wk(t,e,n,r),n!==null){var i=ar();Ii(n,t,r,i),fA(n,e,r)}}function dH(t,e,n){var r=jo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hA(t))dA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Pi(a,o)){var l=e.interleaved;l===null?(i.next=i,wy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Wk(t,e,i,r),n!==null&&(i=ar(),Ii(n,t,r,i),fA(n,e,r))}}function hA(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function dA(t,e){Wh=xp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}var bp={readContext:si,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},fH={readContext:si,useCallback:function(t,e){return Ki().memoizedState=[t,e===void 0?null:e],t},useContext:si,useEffect:yb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,a0(4194308,4,sA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return a0(4194308,4,t,e)},useInsertionEffect:function(t,e){return a0(4,2,t,e)},useMemo:function(t,e){var n=Ki();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ki();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hH.bind(null,Gt,t),[r.memoizedState,t]},useRef:function(t){var e=Ki();return t={current:t},e.memoizedState=t},useState:vb,useDebugValue:Py,useDeferredValue:function(t){return Ki().memoizedState=t},useTransition:function(){var t=vb(!1),e=t[0];return t=uH.bind(null,t[1]),Ki().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gt,i=Ki();if(Ft){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),kn===null)throw Error(ue(349));cl&30||Xk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,yb(Jk.bind(null,r,s,t),[t]),r.flags|=2048,Od(9,Qk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ki(),e=kn.identifierPrefix;if(Ft){var n=Ms,r=Rs;n=(r&~(1<<32-Ai(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Md++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pH={readContext:si,useCallback:aA,useContext:si,useEffect:Iy,useImperativeHandle:oA,useInsertionEffect:rA,useLayoutEffect:iA,useMemo:lA,useReducer:Ym,useRef:nA,useState:function(){return Ym(Dd)},useDebugValue:Py,useDeferredValue:function(t){var e=oi();return cA(e,mn.memoizedState,t)},useTransition:function(){var t=Ym(Dd)[0],e=oi().memoizedState;return[t,e]},useMutableSource:Yk,useSyncExternalStore:Zk,useId:uA,unstable_isNewReconciler:!1},mH={readContext:si,useCallback:aA,useContext:si,useEffect:Iy,useImperativeHandle:oA,useInsertionEffect:rA,useLayoutEffect:iA,useMemo:lA,useReducer:Zm,useRef:nA,useState:function(){return Zm(Dd)},useDebugValue:Py,useDeferredValue:function(t){var e=oi();return mn===null?e.memoizedState=t:cA(e,mn.memoizedState,t)},useTransition:function(){var t=Zm(Dd)[0],e=oi().memoizedState;return[t,e]},useMutableSource:Yk,useSyncExternalStore:Zk,useId:uA,unstable_isNewReconciler:!1};function vi(t,e){if(t&&t.defaultProps){e=Ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function w5(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var W1={isMounted:function(t){return(t=t._reactInternals)?Sl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ar(),i=jo(t),s=Fs(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bo(t,s,i),e!==null&&(Ii(e,t,i,r),s0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ar(),i=jo(t),s=Fs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bo(t,s,i),e!==null&&(Ii(e,t,i,r),s0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ar(),r=jo(t),i=Fs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bo(t,i,r),e!==null&&(Ii(e,t,r,n),s0(e,t,r))}};function _b(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cd(n,r)||!Cd(i,s):!0}function pA(t,e,n){var r=!1,i=qo,s=e.contextType;return typeof s=="object"&&s!==null?s=si(s):(i=xr(e)?al:Xn.current,r=e.contextTypes,s=(r=r!=null)?Gc(t,i):qo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=W1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&W1.enqueueReplaceState(e,e.state,null)}function S5(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=si(s):(s=xr(e)?al:Xn.current,i.context=Gc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(w5(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&W1.enqueueReplaceState(i,i.state,null),yp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qc(t,e){try{var n="",r=e;do n+=VV(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function E5(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gH=typeof WeakMap=="function"?WeakMap:Map;function mA(t,e,n){n=Fs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sp||(Sp=!0,D5=r),E5(t,e)},n}function gA(t,e,n){n=Fs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){E5(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){E5(t,e),typeof r!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IH.bind(null,t,e,n),e.then(t,t))}function wb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fs(-1,1),e.tag=2,Bo(n,e,1))),n.lanes|=1),t)}var vH=ro.ReactCurrentOwner,yr=!1;function rr(t,e,n,r){e.child=t===null?Hk(e,null,n,r):Wc(e,t.child,n,r)}function Eb(t,e,n,r,i){n=n.render;var s=e.ref;return kc(e,i),r=ky(t,e,n,r,s,i),n=Ay(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i)):(Ft&&n&&gy(e),e.flags|=1,rr(t,e,r,i),e.child)}function Tb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vA(t,e,s,r,i)):(t=h0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cd,n(o,r)&&t.ref===e.ref)return Xs(t,e,i)}return e.flags|=1,t=Vo(s,r),t.ref=e.ref,t.return=e,e.child=t}function vA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Cd(s,r)&&t.ref===e.ref)if(yr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yr=!0);else return e.lanes=t.lanes,Xs(t,e,i)}return T5(t,e,n,r,i)}function yA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(dc,Tr),Tr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kt(dc,Tr),Tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,kt(dc,Tr),Tr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,kt(dc,Tr),Tr|=r;return rr(t,e,i,n),e.child}function _A(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function T5(t,e,n,r,i){var s=xr(n)?al:Xn.current;return s=Gc(e,s),kc(e,i),n=ky(t,e,n,r,s,i),r=Ay(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i)):(Ft&&r&&gy(e),e.flags|=1,rr(t,e,n,i),e.child)}function Lb(t,e,n,r,i){if(xr(n)){var s=!0;fp(e)}else s=!1;if(kc(e,i),e.stateNode===null)l0(t,e),pA(e,n,r),S5(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=si(c):(c=xr(n)?al:Xn.current,c=Gc(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&xb(e,o,r,c),_o=!1;var f=e.memoizedState;o.state=f,yp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||_r.current||_o?(typeof h=="function"&&(w5(e,n,h,r),l=e.memoizedState),(a=_o||_b(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Kk(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:vi(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=si(l):(l=xr(n)?al:Xn.current,l=Gc(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&xb(e,o,r,l),_o=!1,f=e.memoizedState,o.state=f,yp(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||_r.current||_o?(typeof m=="function"&&(w5(e,n,m,r),g=e.memoizedState),(c=_o||_b(e,n,c,r,f,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return L5(t,e,n,r,s,i)}function L5(t,e,n,r,i,s){_A(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&hb(e,n,!1),Xs(t,e,s);r=e.stateNode,vH.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wc(e,t.child,null,s),e.child=Wc(e,null,a,s)):rr(t,e,a,s),e.memoizedState=r.state,i&&hb(e,n,!0),e.child}function xA(t){var e=t.stateNode;e.pendingContext?ub(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ub(t,e.context,!1),Ey(t,e.containerInfo)}function Cb(t,e,n,r,i){return Hc(),yy(i),e.flags|=256,rr(t,e,n,r),e.child}var C5={dehydrated:null,treeContext:null,retryLane:0};function k5(t){return{baseLanes:t,cachePool:null,transitions:null}}function bA(t,e,n){var r=e.pendingProps,i=Ut.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kt(Ut,i&1),t===null)return x5(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Y1(o,r,0,null),t=Wa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=k5(n),e.memoizedState=C5,t):Ry(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yH(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vo(a,s):(s=Wa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?k5(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=C5,r}return s=t.child,t=s.sibling,r=Vo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ry(t,e){return e=Y1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function w3(t,e,n,r){return r!==null&&yy(r),Wc(e,t.child,null,n),t=Ry(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yH(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xm(Error(ue(422))),w3(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Y1({mode:"visible",children:r.children},i,0,null),s=Wa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Wc(e,t.child,null,o),e.child.memoizedState=k5(o),e.memoizedState=C5,s);if(!(e.mode&1))return w3(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ue(419)),r=Xm(s,r,void 0),w3(t,e,o,r)}if(a=(o&t.childLanes)!==0,yr||a){if(r=kn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zs(t,i),Ii(r,t,i,-1))}return $y(),r=Xm(Error(ue(421))),w3(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=PH.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ar=zo(i.nextSibling),Pr=e,Ft=!0,xi=null,t!==null&&(Xr[Qr++]=Rs,Xr[Qr++]=Ms,Xr[Qr++]=ll,Rs=t.id,Ms=t.overflow,ll=e),e=Ry(e,r.children),e.flags|=4096,e)}function kb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),b5(t.return,e,n)}function Qm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function wA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rr(t,e,r.children,n),r=Ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kb(t,n,e);else if(t.tag===19)kb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(kt(Ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_p(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_p(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qm(e,!0,n,null,s);break;case"together":Qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function l0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ul|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=Vo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _H(t,e,n){switch(e.tag){case 3:xA(e),Hc();break;case 5:qk(e);break;case 1:xr(e.type)&&fp(e);break;case 4:Ey(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;kt(gp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(kt(Ut,Ut.current&1),e.flags|=128,null):n&e.child.childLanes?bA(t,e,n):(kt(Ut,Ut.current&1),t=Xs(t,e,n),t!==null?t.sibling:null);kt(Ut,Ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kt(Ut,Ut.current),r)break;return null;case 22:case 23:return e.lanes=0,yA(t,e,n)}return Xs(t,e,n)}var SA,A5,EA,TA;SA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};A5=function(){};EA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$a(as.current);var s=null;switch(n){case"input":i=Xg(t,i),r=Xg(t,r),s=[];break;case"select":i=Ht({},i,{value:void 0}),r=Ht({},r,{value:void 0}),s=[];break;case"textarea":i=e5(t,i),r=e5(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hp)}n5(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};TA=function(t,e,n,r){n!==r&&(e.flags|=4)};function lh(t,e){if(!Ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xH(t,e,n){var r=e.pendingProps;switch(vy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(e),null;case 1:return xr(e.type)&&dp(),Hn(e),null;case 3:return r=e.stateNode,Kc(),Dt(_r),Dt(Xn),Ly(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(x3(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xi!==null&&(F5(xi),xi=null))),A5(t,e),Hn(e),null;case 5:Ty(e);var i=$a(Rd.current);if(n=e.type,t!==null&&e.stateNode!=null)EA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return Hn(e),null}if(t=$a(as.current),x3(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qi]=e,r[Id]=s,t=(e.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(i=0;i<Ah.length;i++)Rt(Ah[i],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":Fx(r,s),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rt("invalid",r);break;case"textarea":zx(r,s),Rt("invalid",r)}n5(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_3(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_3(r.textContent,a,t),i=["children",""+a]):xd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rt("scroll",r)}switch(n){case"input":h3(r),$x(r,s,!0);break;case"textarea":h3(r),Bx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qi]=e,t[Id]=r,SA(t,e,!1,!1),e.stateNode=t;e:{switch(o=r5(n,r),n){case"dialog":Rt("cancel",t),Rt("close",t),i=r;break;case"iframe":case"object":case"embed":Rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ah.length;i++)Rt(Ah[i],t);i=r;break;case"source":Rt("error",t),i=r;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),i=r;break;case"details":Rt("toggle",t),i=r;break;case"input":Fx(t,r),i=Xg(t,r),Rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ht({},r,{value:void 0}),Rt("invalid",t);break;case"textarea":zx(t,r),i=e5(t,r),Rt("invalid",t);break;default:i=r}n5(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?nk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ek(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bd(t,l):typeof l=="number"&&bd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Rt("scroll",t):l!=null&&ny(t,s,l,o))}switch(n){case"input":h3(t),$x(t,r,!1);break;case"textarea":h3(t),Bx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ko(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ec(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ec(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hn(e),null;case 6:if(t&&e.stateNode!=null)TA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=$a(Rd.current),$a(as.current),x3(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qi]=e,(s=r.nodeValue!==n)&&(t=Pr,t!==null))switch(t.tag){case 3:_3(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_3(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qi]=e,e.stateNode=r}return Hn(e),null;case 13:if(Dt(Ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ft&&Ar!==null&&e.mode&1&&!(e.flags&128))Vk(),Hc(),e.flags|=98560,s=!1;else if(s=x3(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[Qi]=e}else Hc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hn(e),s=!1}else xi!==null&&(F5(xi),xi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ut.current&1?vn===0&&(vn=3):$y())),e.updateQueue!==null&&(e.flags|=4),Hn(e),null);case 4:return Kc(),A5(t,e),t===null&&kd(e.stateNode.containerInfo),Hn(e),null;case 10:return by(e.type._context),Hn(e),null;case 17:return xr(e.type)&&dp(),Hn(e),null;case 19:if(Dt(Ut),s=e.memoizedState,s===null)return Hn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)lh(s,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_p(t),o!==null){for(e.flags|=128,lh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return kt(Ut,Ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&tn()>Yc&&(e.flags|=128,r=!0,lh(s,!1),e.lanes=4194304)}else{if(!r)if(t=_p(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ft)return Hn(e),null}else 2*tn()-s.renderingStartTime>Yc&&n!==1073741824&&(e.flags|=128,r=!0,lh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tn(),e.sibling=null,n=Ut.current,kt(Ut,r?n&1|2:n&1),e):(Hn(e),null);case 22:case 23:return Fy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tr&1073741824&&(Hn(e),e.subtreeFlags&6&&(e.flags|=8192)):Hn(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function bH(t,e){switch(vy(e),e.tag){case 1:return xr(e.type)&&dp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kc(),Dt(_r),Dt(Xn),Ly(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ty(e),null;case 13:if(Dt(Ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Hc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt(Ut),null;case 4:return Kc(),null;case 10:return by(e.type._context),null;case 22:case 23:return Fy(),null;case 24:return null;default:return null}}var S3=!1,qn=!1,wH=typeof WeakSet=="function"?WeakSet:Set,ye=null;function hc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yt(t,e,r)}else n.current=null}function I5(t,e,n){try{n()}catch(r){Yt(t,e,r)}}var Ab=!1;function SH(t,e){if(f5=lp,t=Ik(),my(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(p5={focusedElem:t,selectionRange:n},lp=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:vi(e.type,v),_);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(T){Yt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return g=Ab,Ab=!1,g}function Kh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&I5(e,n,s)}i=i.next}while(i!==r)}}function K1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function P5(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LA(t){var e=t.alternate;e!==null&&(t.alternate=null,LA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qi],delete e[Id],delete e[v5],delete e[sH],delete e[oH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CA(t){return t.tag===5||t.tag===3||t.tag===4}function Ib(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function R5(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hp));else if(r!==4&&(t=t.child,t!==null))for(R5(t,e,n),t=t.sibling;t!==null;)R5(t,e,n),t=t.sibling}function M5(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(M5(t,e,n),t=t.sibling;t!==null;)M5(t,e,n),t=t.sibling}var Mn=null,yi=!1;function uo(t,e,n){for(n=n.child;n!==null;)kA(t,e,n),n=n.sibling}function kA(t,e,n){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(z1,n)}catch{}switch(n.tag){case 5:qn||hc(n,e);case 6:var r=Mn,i=yi;Mn=null,uo(t,e,n),Mn=r,yi=i,Mn!==null&&(yi?(t=Mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mn.removeChild(n.stateNode));break;case 18:Mn!==null&&(yi?(t=Mn,n=n.stateNode,t.nodeType===8?Hm(t.parentNode,n):t.nodeType===1&&Hm(t,n),Td(t)):Hm(Mn,n.stateNode));break;case 4:r=Mn,i=yi,Mn=n.stateNode.containerInfo,yi=!0,uo(t,e,n),Mn=r,yi=i;break;case 0:case 11:case 14:case 15:if(!qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&I5(n,e,o),i=i.next}while(i!==r)}uo(t,e,n);break;case 1:if(!qn&&(hc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Yt(n,e,a)}uo(t,e,n);break;case 21:uo(t,e,n);break;case 22:n.mode&1?(qn=(r=qn)||n.memoizedState!==null,uo(t,e,n),qn=r):uo(t,e,n);break;default:uo(t,e,n)}}function Pb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wH),e.forEach(function(r){var i=RH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function di(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mn=a.stateNode,yi=!1;break e;case 3:Mn=a.stateNode.containerInfo,yi=!0;break e;case 4:Mn=a.stateNode.containerInfo,yi=!0;break e}a=a.return}if(Mn===null)throw Error(ue(160));kA(s,o,i),Mn=null,yi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Yt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AA(e,t),e=e.sibling}function AA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(di(e,t),Gi(t),r&4){try{Kh(3,t,t.return),K1(3,t)}catch(v){Yt(t,t.return,v)}try{Kh(5,t,t.return)}catch(v){Yt(t,t.return,v)}}break;case 1:di(e,t),Gi(t),r&512&&n!==null&&hc(n,n.return);break;case 5:if(di(e,t),Gi(t),r&512&&n!==null&&hc(n,n.return),t.flags&32){var i=t.stateNode;try{bd(i,"")}catch(v){Yt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&XC(i,s),r5(a,o);var c=r5(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?nk(i,d):h==="dangerouslySetInnerHTML"?ek(i,d):h==="children"?bd(i,d):ny(i,h,d,c)}switch(a){case"input":Qg(i,s);break;case"textarea":QC(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ec(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ec(i,!!s.multiple,s.defaultValue,!0):Ec(i,!!s.multiple,s.multiple?[]:"",!1))}i[Id]=s}catch(v){Yt(t,t.return,v)}}break;case 6:if(di(e,t),Gi(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Yt(t,t.return,v)}}break;case 3:if(di(e,t),Gi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Td(e.containerInfo)}catch(v){Yt(t,t.return,v)}break;case 4:di(e,t),Gi(t);break;case 13:di(e,t),Gi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Oy=tn())),r&4&&Pb(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(qn=(c=qn)||h,di(e,t),qn=c):di(e,t),Gi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ye=t,h=t.child;h!==null;){for(d=ye=h;ye!==null;){switch(f=ye,m=f.child,f.tag){case 0:case 11:case 14:case 15:Kh(4,f,f.return);break;case 1:hc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Yt(r,n,v)}}break;case 5:hc(f,f.return);break;case 22:if(f.memoizedState!==null){Mb(d);continue}}m!==null?(m.return=f,ye=m):Mb(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tk("display",o))}catch(v){Yt(t,t.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Yt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:di(e,t),Gi(t),r&4&&Pb(t);break;case 21:break;default:di(e,t),Gi(t)}}function Gi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CA(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bd(i,""),r.flags&=-33);var s=Ib(t);M5(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ib(t);R5(t,a,o);break;default:throw Error(ue(161))}}catch(l){Yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EH(t,e,n){ye=t,IA(t)}function IA(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var i=ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||S3;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qn;a=S3;var c=qn;if(S3=o,(qn=l)&&!c)for(ye=i;ye!==null;)o=ye,l=o.child,o.tag===22&&o.memoizedState!==null?Db(i):l!==null?(l.return=o,ye=l):Db(i);for(;s!==null;)ye=s,IA(s),s=s.sibling;ye=i,S3=a,qn=c}Rb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ye=s):Rb(t)}}function Rb(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qn||K1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Td(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}qn||e.flags&512&&P5(e)}catch(f){Yt(e,e.return,f)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function Mb(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function Db(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{K1(4,e)}catch(l){Yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Yt(e,i,l)}}var s=e.return;try{P5(e)}catch(l){Yt(e,s,l)}break;case 5:var o=e.return;try{P5(e)}catch(l){Yt(e,o,l)}}}catch(l){Yt(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var TH=Math.ceil,wp=ro.ReactCurrentDispatcher,My=ro.ReactCurrentOwner,ri=ro.ReactCurrentBatchConfig,nt=0,kn=null,ln=null,Fn=0,Tr=0,dc=ea(0),vn=0,Nd=null,ul=0,q1=0,Dy=0,qh=null,mr=null,Oy=0,Yc=1/0,Ls=null,Sp=!1,D5=null,Uo=null,E3=!1,Co=null,Ep=0,Yh=0,O5=null,c0=-1,u0=0;function ar(){return nt&6?tn():c0!==-1?c0:c0=tn()}function jo(t){return t.mode&1?nt&2&&Fn!==0?Fn&-Fn:lH.transition!==null?(u0===0&&(u0=pk()),u0):(t=vt,t!==0||(t=window.event,t=t===void 0?16:bk(t.type)),t):1}function Ii(t,e,n,r){if(50<Yh)throw Yh=0,O5=null,Error(ue(185));uf(t,n,r),(!(nt&2)||t!==kn)&&(t===kn&&(!(nt&2)&&(q1|=n),vn===4&&Eo(t,Fn)),br(t,r),n===1&&nt===0&&!(e.mode&1)&&(Yc=tn()+500,G1&&ta()))}function br(t,e){var n=t.callbackNode;lG(t,e);var r=ap(t,t===kn?Fn:0);if(r===0)n!==null&&Vx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vx(n),e===1)t.tag===0?aH(Ob.bind(null,t)):Bk(Ob.bind(null,t)),rH(function(){!(nt&6)&&ta()}),n=null;else{switch(mk(r)){case 1:n=ay;break;case 4:n=dk;break;case 16:n=op;break;case 536870912:n=fk;break;default:n=op}n=$A(n,PA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PA(t,e){if(c0=-1,u0=0,nt&6)throw Error(ue(327));var n=t.callbackNode;if(Ac()&&t.callbackNode!==n)return null;var r=ap(t,t===kn?Fn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tp(t,r);else{e=r;var i=nt;nt|=2;var s=MA();(kn!==t||Fn!==e)&&(Ls=null,Yc=tn()+500,Ha(t,e));do try{kH();break}catch(a){RA(t,a)}while(!0);xy(),wp.current=s,nt=i,ln!==null?e=0:(kn=null,Fn=0,e=vn)}if(e!==0){if(e===2&&(i=l5(t),i!==0&&(r=i,e=N5(t,i))),e===1)throw n=Nd,Ha(t,0),Eo(t,r),br(t,tn()),n;if(e===6)Eo(t,r);else{if(i=t.current.alternate,!(r&30)&&!LH(i)&&(e=Tp(t,r),e===2&&(s=l5(t),s!==0&&(r=s,e=N5(t,s))),e===1))throw n=Nd,Ha(t,0),Eo(t,r),br(t,tn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:ka(t,mr,Ls);break;case 3:if(Eo(t,r),(r&130023424)===r&&(e=Oy+500-tn(),10<e)){if(ap(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ar(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=g5(ka.bind(null,t,mr,Ls),e);break}ka(t,mr,Ls);break;case 4:if(Eo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ai(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TH(r/1960))-r,10<r){t.timeoutHandle=g5(ka.bind(null,t,mr,Ls),r);break}ka(t,mr,Ls);break;case 5:ka(t,mr,Ls);break;default:throw Error(ue(329))}}}return br(t,tn()),t.callbackNode===n?PA.bind(null,t):null}function N5(t,e){var n=qh;return t.current.memoizedState.isDehydrated&&(Ha(t,e).flags|=256),t=Tp(t,e),t!==2&&(e=mr,mr=n,e!==null&&F5(e)),t}function F5(t){mr===null?mr=t:mr.push.apply(mr,t)}function LH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Eo(t,e){for(e&=~Dy,e&=~q1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ai(e),r=1<<n;t[n]=-1,e&=~r}}function Ob(t){if(nt&6)throw Error(ue(327));Ac();var e=ap(t,0);if(!(e&1))return br(t,tn()),null;var n=Tp(t,e);if(t.tag!==0&&n===2){var r=l5(t);r!==0&&(e=r,n=N5(t,r))}if(n===1)throw n=Nd,Ha(t,0),Eo(t,e),br(t,tn()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ka(t,mr,Ls),br(t,tn()),null}function Ny(t,e){var n=nt;nt|=1;try{return t(e)}finally{nt=n,nt===0&&(Yc=tn()+500,G1&&ta())}}function hl(t){Co!==null&&Co.tag===0&&!(nt&6)&&Ac();var e=nt;nt|=1;var n=ri.transition,r=vt;try{if(ri.transition=null,vt=1,t)return t()}finally{vt=r,ri.transition=n,nt=e,!(nt&6)&&ta()}}function Fy(){Tr=dc.current,Dt(dc)}function Ha(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nH(n)),ln!==null)for(n=ln.return;n!==null;){var r=n;switch(vy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dp();break;case 3:Kc(),Dt(_r),Dt(Xn),Ly();break;case 5:Ty(r);break;case 4:Kc();break;case 13:Dt(Ut);break;case 19:Dt(Ut);break;case 10:by(r.type._context);break;case 22:case 23:Fy()}n=n.return}if(kn=t,ln=t=Vo(t.current,null),Fn=Tr=e,vn=0,Nd=null,Dy=q1=ul=0,mr=qh=null,Fa!==null){for(e=0;e<Fa.length;e++)if(n=Fa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Fa=null}return t}function RA(t,e){do{var n=ln;try{if(xy(),o0.current=bp,xp){for(var r=Gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xp=!1}if(cl=0,En=mn=Gt=null,Wh=!1,Md=0,My.current=null,n===null||n.return===null){vn=1,Nd=e,ln=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Fn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=wb(o);if(m!==null){m.flags&=-257,Sb(m,o,a,s,e),m.mode&1&&bb(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){bb(s,c,e),$y();break e}l=Error(ue(426))}}else if(Ft&&a.mode&1){var _=wb(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Sb(_,o,a,s,e),yy(qc(l,a));break e}}s=l=qc(l,a),vn!==4&&(vn=2),qh===null?qh=[s]:qh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=mA(s,l,e);mb(s,x);break e;case 1:a=l;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Uo===null||!Uo.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=gA(s,a,e);mb(s,T);break e}}s=s.return}while(s!==null)}OA(n)}catch(C){e=C,ln===n&&n!==null&&(ln=n=n.return);continue}break}while(!0)}function MA(){var t=wp.current;return wp.current=bp,t===null?bp:t}function $y(){(vn===0||vn===3||vn===2)&&(vn=4),kn===null||!(ul&268435455)&&!(q1&268435455)||Eo(kn,Fn)}function Tp(t,e){var n=nt;nt|=2;var r=MA();(kn!==t||Fn!==e)&&(Ls=null,Ha(t,e));do try{CH();break}catch(i){RA(t,i)}while(!0);if(xy(),nt=n,wp.current=r,ln!==null)throw Error(ue(261));return kn=null,Fn=0,vn}function CH(){for(;ln!==null;)DA(ln)}function kH(){for(;ln!==null&&!JV();)DA(ln)}function DA(t){var e=FA(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,e===null?OA(t):ln=e,My.current=null}function OA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bH(n,e),n!==null){n.flags&=32767,ln=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,ln=null;return}}else if(n=xH(n,e,Tr),n!==null){ln=n;return}if(e=e.sibling,e!==null){ln=e;return}ln=e=t}while(e!==null);vn===0&&(vn=5)}function ka(t,e,n){var r=vt,i=ri.transition;try{ri.transition=null,vt=1,AH(t,e,n,r)}finally{ri.transition=i,vt=r}return null}function AH(t,e,n,r){do Ac();while(Co!==null);if(nt&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cG(t,s),t===kn&&(ln=kn=null,Fn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||E3||(E3=!0,$A(op,function(){return Ac(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ri.transition,ri.transition=null;var o=vt;vt=1;var a=nt;nt|=4,My.current=null,SH(t,n),AA(n,t),YG(p5),lp=!!f5,p5=f5=null,t.current=n,EH(n),eG(),nt=a,vt=o,ri.transition=s}else t.current=n;if(E3&&(E3=!1,Co=t,Ep=i),s=t.pendingLanes,s===0&&(Uo=null),rG(n.stateNode),br(t,tn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sp)throw Sp=!1,t=D5,D5=null,t;return Ep&1&&t.tag!==0&&Ac(),s=t.pendingLanes,s&1?t===O5?Yh++:(Yh=0,O5=t):Yh=0,ta(),null}function Ac(){if(Co!==null){var t=mk(Ep),e=ri.transition,n=vt;try{if(ri.transition=null,vt=16>t?16:t,Co===null)var r=!1;else{if(t=Co,Co=null,Ep=0,nt&6)throw Error(ue(331));var i=nt;for(nt|=4,ye=t.current;ye!==null;){var s=ye,o=s.child;if(ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ye=c;ye!==null;){var h=ye;switch(h.tag){case 0:case 11:case 15:Kh(8,h,s)}var d=h.child;if(d!==null)d.return=h,ye=d;else for(;ye!==null;){h=ye;var f=h.sibling,m=h.return;if(LA(h),h===c){ye=null;break}if(f!==null){f.return=m,ye=f;break}ye=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ye=o;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kh(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ye=x;break e}ye=s.return}}var b=t.current;for(ye=b;ye!==null;){o=ye;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ye=w;else e:for(o=b;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:K1(9,a)}}catch(C){Yt(a,a.return,C)}if(a===o){ye=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ye=T;break e}ye=a.return}}if(nt=i,ta(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(z1,t)}catch{}r=!0}return r}finally{vt=n,ri.transition=e}}return!1}function Nb(t,e,n){e=qc(n,e),e=mA(t,e,1),t=Bo(t,e,1),e=ar(),t!==null&&(uf(t,1,e),br(t,e))}function Yt(t,e,n){if(t.tag===3)Nb(t,t,n);else for(;e!==null;){if(e.tag===3){Nb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Uo===null||!Uo.has(r))){t=qc(n,t),t=gA(e,t,1),e=Bo(e,t,1),t=ar(),e!==null&&(uf(e,1,t),br(e,t));break}}e=e.return}}function IH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ar(),t.pingedLanes|=t.suspendedLanes&n,kn===t&&(Fn&n)===n&&(vn===4||vn===3&&(Fn&130023424)===Fn&&500>tn()-Oy?Ha(t,0):Dy|=n),br(t,e)}function NA(t,e){e===0&&(t.mode&1?(e=p3,p3<<=1,!(p3&130023424)&&(p3=4194304)):e=1);var n=ar();t=Zs(t,e),t!==null&&(uf(t,e,n),br(t,n))}function PH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NA(t,n)}function RH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),NA(t,n)}var FA;FA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_r.current)yr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yr=!1,_H(t,e,n);yr=!!(t.flags&131072)}else yr=!1,Ft&&e.flags&1048576&&Uk(e,mp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;l0(t,e),t=e.pendingProps;var i=Gc(e,Xn.current);kc(e,n),i=ky(null,e,r,t,i,n);var s=Ay();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xr(r)?(s=!0,fp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sy(e),i.updater=W1,e.stateNode=i,i._reactInternals=e,S5(e,r,t,n),e=L5(null,e,r,!0,s,n)):(e.tag=0,Ft&&s&&gy(e),rr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(l0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DH(r),t=vi(r,t),i){case 0:e=T5(null,e,r,t,n);break e;case 1:e=Lb(null,e,r,t,n);break e;case 11:e=Eb(null,e,r,t,n);break e;case 14:e=Tb(null,e,r,vi(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vi(r,i),T5(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vi(r,i),Lb(t,e,r,i,n);case 3:e:{if(xA(e),t===null)throw Error(ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Kk(t,e),yp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qc(Error(ue(423)),e),e=Cb(t,e,r,n,i);break e}else if(r!==i){i=qc(Error(ue(424)),e),e=Cb(t,e,r,n,i);break e}else for(Ar=zo(e.stateNode.containerInfo.firstChild),Pr=e,Ft=!0,xi=null,n=Hk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hc(),r===i){e=Xs(t,e,n);break e}rr(t,e,r,n)}e=e.child}return e;case 5:return qk(e),t===null&&x5(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,m5(r,i)?o=null:s!==null&&m5(r,s)&&(e.flags|=32),_A(t,e),rr(t,e,o,n),e.child;case 6:return t===null&&x5(e),null;case 13:return bA(t,e,n);case 4:return Ey(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wc(e,null,r,n):rr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vi(r,i),Eb(t,e,r,i,n);case 7:return rr(t,e,e.pendingProps,n),e.child;case 8:return rr(t,e,e.pendingProps.children,n),e.child;case 12:return rr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,kt(gp,r._currentValue),r._currentValue=o,s!==null)if(Pi(s.value,o)){if(s.children===i.children&&!_r.current){e=Xs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),b5(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ue(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),b5(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,kc(e,n),i=si(i),r=r(i),e.flags|=1,rr(t,e,r,n),e.child;case 14:return r=e.type,i=vi(r,e.pendingProps),i=vi(r.type,i),Tb(t,e,r,i,n);case 15:return vA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vi(r,i),l0(t,e),e.tag=1,xr(r)?(t=!0,fp(e)):t=!1,kc(e,n),pA(e,r,i),S5(e,r,i,n),L5(null,e,r,!0,t,n);case 19:return wA(t,e,n);case 22:return yA(t,e,n)}throw Error(ue(156,e.tag))};function $A(t,e){return hk(t,e)}function MH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(t,e,n,r){return new MH(t,e,n,r)}function zy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DH(t){if(typeof t=="function")return zy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===iy)return 11;if(t===sy)return 14}return 2}function Vo(t,e){var n=t.alternate;return n===null?(n=ni(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function h0(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")zy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nc:return Wa(n.children,i,s,e);case ry:o=8,i|=8;break;case Kg:return t=ni(12,n,e,i|2),t.elementType=Kg,t.lanes=s,t;case qg:return t=ni(13,n,e,i),t.elementType=qg,t.lanes=s,t;case Yg:return t=ni(19,n,e,i),t.elementType=Yg,t.lanes=s,t;case qC:return Y1(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WC:o=10;break e;case KC:o=9;break e;case iy:o=11;break e;case sy:o=14;break e;case yo:o=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=ni(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Wa(t,e,n,r){return t=ni(7,t,r,e),t.lanes=n,t}function Y1(t,e,n,r){return t=ni(22,t,r,e),t.elementType=qC,t.lanes=n,t.stateNode={isHidden:!1},t}function Jm(t,e,n){return t=ni(6,t,null,e),t.lanes=n,t}function e6(t,e,n){return e=ni(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function By(t,e,n,r,i,s,o,a,l){return t=new OH(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ni(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sy(s),t}function NH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zA(t){if(!t)return qo;t=t._reactInternals;e:{if(Sl(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(xr(n))return zk(t,n,e)}return e}function BA(t,e,n,r,i,s,o,a,l){return t=By(n,r,!0,t,i,s,o,a,l),t.context=zA(null),n=t.current,r=ar(),i=jo(n),s=Fs(r,i),s.callback=e??null,Bo(n,s,i),t.current.lanes=i,uf(t,i,r),br(t,r),t}function Z1(t,e,n,r){var i=e.current,s=ar(),o=jo(i);return n=zA(n),e.context===null?e.context=n:e.pendingContext=n,e=Fs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bo(i,e,o),t!==null&&(Ii(t,i,o,s),s0(t,i,o)),o}function Lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uy(t,e){Fb(t,e),(t=t.alternate)&&Fb(t,e)}function FH(){return null}var UA=typeof reportError=="function"?reportError:function(t){console.error(t)};function jy(t){this._internalRoot=t}X1.prototype.render=jy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));Z1(t,e,null,null)};X1.prototype.unmount=jy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hl(function(){Z1(null,t,null,null)}),e[Ys]=null}};function X1(t){this._internalRoot=t}X1.prototype.unstable_scheduleHydration=function(t){if(t){var e=yk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<So.length&&e!==0&&e<So[n].priority;n++);So.splice(n,0,t),n===0&&xk(t)}};function Vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Q1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $b(){}function $H(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Lp(o);s.call(c)}}var o=BA(e,r,t,0,null,!1,!1,"",$b);return t._reactRootContainer=o,t[Ys]=o.current,kd(t.nodeType===8?t.parentNode:t),hl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Lp(l);a.call(c)}}var l=By(t,0,!1,null,null,!1,!1,"",$b);return t._reactRootContainer=l,t[Ys]=l.current,kd(t.nodeType===8?t.parentNode:t),hl(function(){Z1(e,l,n,r)}),l}function J1(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lp(o);a.call(l)}}Z1(e,o,t,i)}else o=$H(n,e,t,i,r);return Lp(o)}gk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kh(e.pendingLanes);n!==0&&(ly(e,n|1),br(e,tn()),!(nt&6)&&(Yc=tn()+500,ta()))}break;case 13:hl(function(){var r=Zs(t,1);if(r!==null){var i=ar();Ii(r,t,1,i)}}),Uy(t,1)}};cy=function(t){if(t.tag===13){var e=Zs(t,134217728);if(e!==null){var n=ar();Ii(e,t,134217728,n)}Uy(t,134217728)}};vk=function(t){if(t.tag===13){var e=jo(t),n=Zs(t,e);if(n!==null){var r=ar();Ii(n,t,e,r)}Uy(t,e)}};yk=function(){return vt};_k=function(t,e){var n=vt;try{return vt=t,e()}finally{vt=n}};s5=function(t,e,n){switch(e){case"input":if(Qg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=V1(r);if(!i)throw Error(ue(90));ZC(r),Qg(r,i)}}}break;case"textarea":QC(t,n);break;case"select":e=n.value,e!=null&&Ec(t,!!n.multiple,e,!1)}};sk=Ny;ok=hl;var zH={usingClientEntryPoint:!1,Events:[df,oc,V1,rk,ik,Ny]},ch={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BH={bundleType:ch.bundleType,version:ch.version,rendererPackageName:ch.rendererPackageName,rendererConfig:ch.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ck(t),t===null?null:t.stateNode},findFiberByHostInstance:ch.findFiberByHostInstance||FH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var T3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!T3.isDisabled&&T3.supportsFiber)try{z1=T3.inject(BH),os=T3}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zH;zr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vy(e))throw Error(ue(200));return NH(t,e,null,n)};zr.createRoot=function(t,e){if(!Vy(t))throw Error(ue(299));var n=!1,r="",i=UA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=By(t,1,!1,null,null,n,!1,r,i),t[Ys]=e.current,kd(t.nodeType===8?t.parentNode:t),new jy(e)};zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=ck(e),t=t===null?null:t.stateNode,t};zr.flushSync=function(t){return hl(t)};zr.hydrate=function(t,e,n){if(!Q1(e))throw Error(ue(200));return J1(null,t,e,!0,n)};zr.hydrateRoot=function(t,e,n){if(!Vy(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=UA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=BA(e,null,t,1,n??null,i,!1,s,o),t[Ys]=e.current,kd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new X1(e)};zr.render=function(t,e,n){if(!Q1(e))throw Error(ue(200));return J1(null,t,e,!1,n)};zr.unmountComponentAtNode=function(t){if(!Q1(t))throw Error(ue(40));return t._reactRootContainer?(hl(function(){J1(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1};zr.unstable_batchedUpdates=Ny;zr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Q1(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return J1(t,e,n,!1,r)};zr.version="18.3.1-next-f1338f8080-20240426";function jA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jA)}catch(t){console.error(t)}}jA(),jC.exports=zr;var Gy=jC.exports;const UH=to(Gy),jH=OT({__proto__:null,default:UH},[Gy]);/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bt(){return Bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bt.apply(this,arguments)}var on;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(on||(on={}));const zb="popstate";function VH(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Fd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:dl(i)}return HH(e,n,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GH(){return Math.random().toString(36).substr(2,8)}function Bb(t,e){return{usr:t.state,key:t.key,idx:e}}function Fd(t,e,n,r){return n===void 0&&(n=null),Bt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?na(e):e,{state:n,key:e&&e.key||r||GH()})}function dl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HH(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=on.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Bt({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=on.Pop;let _=h(),x=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:x})}function f(_,x){a=on.Push;let b=Fd(v.location,_,x);c=h()+1;let w=Bb(b,c),T=v.createHref(b);try{o.pushState(w,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}s&&l&&l({action:a,location:v.location,delta:1})}function m(_,x){a=on.Replace;let b=Fd(v.location,_,x);c=h();let w=Bb(b,c),T=v.createHref(b);o.replaceState(w,"",T),s&&l&&l({action:a,location:v.location,delta:0})}function g(_){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof _=="string"?_:dl(_);return b=b.replace(/ $/,"%20"),Ve(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let v={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zb,d),l=_,()=>{i.removeEventListener(zb,d),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let x=g(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(_){return o.go(_)}};return v}var yt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yt||(yt={}));const WH=new Set(["lazy","caseSensitive","path","id","index","children"]);function KH(t){return t.index===!0}function $d(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Ve(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ve(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),KH(i)){let l=Bt({},i,e(i),{id:a});return r[a]=l,l}else{let l=Bt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=$d(i.children,e,o,r)),l}})}function Ma(t,e,n){return n===void 0&&(n="/"),d0(t,e,n,!1)}function d0(t,e,n,r){let i=typeof e=="string"?na(e):e,s=Qs(i.pathname||"/",n);if(s==null)return null;let o=VA(t);YH(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=oW(s);a=iW(o[l],c,r)}return a}function qH(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function VA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ve(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=$s([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),VA(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:nW(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of GA(s.path))i(s,o,l)}),e}function GA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=GA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function YH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rW(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZH=/^:[\w-]+$/,XH=3,QH=2,JH=1,eW=10,tW=-2,Ub=t=>t==="*";function nW(t,e){let n=t.split("/"),r=n.length;return n.some(Ub)&&(r+=tW),e&&(r+=QH),n.filter(i=>!Ub(i)).reduce((i,s)=>i+(ZH.test(s)?XH:s===""?JH:eW),r)}function rW(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iW(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=Cp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Cp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:$s([s,d.pathname]),pathnameBase:cW($s([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=$s([s,d.pathnameBase]))}return o}function Cp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sW(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return m&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function sW(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aW(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?na(t):t;return{pathname:n?n.startsWith("/")?n:lW(n,e):e,search:uW(r),hash:hW(i)}}function lW(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function t6(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hy(t,e){let n=HA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=na(t):(i=Bt({},t),Ve(!i.pathname||!i.pathname.includes("?"),t6("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),t6("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),t6("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=aW(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const $s=t=>t.join("/").replace(/\/\/+/g,"/"),cW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class kp{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function e2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WA=["post","put","patch","delete"],dW=new Set(WA),fW=["get",...WA],pW=new Set(fW),mW=new Set([301,302,303,307,308]),gW=new Set([307,308]),n6={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vW={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ky=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yW=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),KA="remix-router-transitions";function _W(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ve(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let $=t.detectErrorBoundary;i=V=>({hasErrorBoundary:$(V)})}else i=yW;let s={},o=$d(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.unstable_dataStrategy||EW,h=t.unstable_patchRoutesOnNavigation,d=Bt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,g=1e3,v=new Set,_=null,x=null,b=null,w=t.hydrationData!=null,T=Ma(o,t.history.location,l),C=null;if(T==null&&!h){let $=nr(404,{pathname:t.history.location.pathname}),{matches:V,route:Q}=Xb(o);T=V,C={[Q.id]:$}}T&&!t.hydrationData&&Il(T,o,t.history.location.pathname).active&&(T=null);let I;if(T)if(T.some($=>$.route.lazy))I=!1;else if(!T.some($=>$.route.loader))I=!0;else if(d.v7_partialHydration){let $=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null,Q=se=>se.route.loader?typeof se.route.loader=="function"&&se.route.loader.hydrate===!0?!1:$&&$[se.route.id]!==void 0||V&&V[se.route.id]!==void 0:!0;if(V){let se=T.findIndex(ge=>V[ge.route.id]!==void 0);I=T.slice(0,se+1).every(Q)}else I=T.every(Q)}else I=t.hydrationData!=null;else if(I=!1,T=[],d.v7_partialHydration){let $=Il(null,o,t.history.location.pathname);$.active&&$.matches&&(T=$.matches)}let M,A={historyAction:t.history.action,location:t.history.location,matches:T,initialized:I,navigation:n6,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},O=on.Pop,N=!1,z,H=!1,j=new Map,Z=null,te=!1,G=!1,ie=[],U=new Set,W=new Map,F=0,q=-1,re=new Map,le=new Set,he=new Map,de=new Map,ce=new Set,Se=new Map,Xe=new Map,Qt=new Map,$t=!1;function At(){if(f=t.history.listen($=>{let{action:V,location:Q,delta:se}=$;if($t){$t=!1;return}Zc(Xe.size===0||se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ge=zu({currentLocation:A.location,nextLocation:Q,historyAction:V});if(ge&&se!=null){$t=!0,t.history.go(se*-1),ua(ge,{state:"blocked",location:Q,proceed(){ua(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),t.history.go(se)},reset(){let xe=new Map(A.blockers);xe.set(ge,uh),Oe({blockers:xe})}});return}return ut(V,Q)}),n){FW(e,j);let $=()=>$W(e,j);e.addEventListener("pagehide",$),Z=()=>e.removeEventListener("pagehide",$)}return A.initialized||ut(on.Pop,A.location,{initialHydration:!0}),M}function Pe(){f&&f(),Z&&Z(),m.clear(),z&&z.abort(),A.fetchers.forEach(($,V)=>ca(V)),A.blockers.forEach(($,V)=>$u(V))}function De($){return m.add($),()=>m.delete($)}function Oe($,V){V===void 0&&(V={}),A=Bt({},A,$);let Q=[],se=[];d.v7_fetcherPersist&&A.fetchers.forEach((ge,xe)=>{ge.state==="idle"&&(ce.has(xe)?se.push(xe):Q.push(xe))}),[...m].forEach(ge=>ge(A,{deletedFetchers:se,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),d.v7_fetcherPersist&&(Q.forEach(ge=>A.fetchers.delete(ge)),se.forEach(ge=>ca(ge)))}function Ge($,V,Q){var se,ge;let{flushSync:xe}=Q===void 0?{}:Q,Le=A.actionData!=null&&A.navigation.formMethod!=null&&_i(A.navigation.formMethod)&&A.navigation.state==="loading"&&((se=$.state)==null?void 0:se._isRedirect)!==!0,pe;V.actionData?Object.keys(V.actionData).length>0?pe=V.actionData:pe=null:Le?pe=A.actionData:pe=null;let Me=V.loaderData?Yb(A.loaderData,V.loaderData,V.matches||[],V.errors):A.loaderData,we=A.blockers;we.size>0&&(we=new Map(we),we.forEach((lt,dt)=>we.set(dt,uh)));let Ne=N===!0||A.navigation.formMethod!=null&&_i(A.navigation.formMethod)&&((ge=$.state)==null?void 0:ge._isRedirect)!==!0;a&&(o=a,a=void 0),te||O===on.Pop||(O===on.Push?t.history.push($,$.state):O===on.Replace&&t.history.replace($,$.state));let ht;if(O===on.Pop){let lt=j.get(A.location.pathname);lt&&lt.has($.pathname)?ht={currentLocation:A.location,nextLocation:$}:j.has($.pathname)&&(ht={currentLocation:$,nextLocation:A.location})}else if(H){let lt=j.get(A.location.pathname);lt?lt.add($.pathname):(lt=new Set([$.pathname]),j.set(A.location.pathname,lt)),ht={currentLocation:A.location,nextLocation:$}}Oe(Bt({},V,{actionData:pe,loaderData:Me,historyAction:O,location:$,initialized:!0,navigation:n6,revalidation:"idle",restoreScrollPosition:Al($,V.matches||A.matches),preventScrollReset:Ne,blockers:we}),{viewTransitionOpts:ht,flushSync:xe===!0}),O=on.Pop,N=!1,H=!1,te=!1,G=!1,ie=[]}async function nn($,V){if(typeof $=="number"){t.history.go($);return}let Q=$5(A.location,A.matches,l,d.v7_prependBasename,$,d.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:se,submission:ge,error:xe}=jb(d.v7_normalizeFormMethod,!1,Q,V),Le=A.location,pe=Fd(A.location,se,V&&V.state);pe=Bt({},pe,t.history.encodeLocation(pe));let Me=V&&V.replace!=null?V.replace:void 0,we=on.Push;Me===!0?we=on.Replace:Me===!1||ge!=null&&_i(ge.formMethod)&&ge.formAction===A.location.pathname+A.location.search&&(we=on.Replace);let Ne=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,ht=(V&&V.unstable_flushSync)===!0,lt=zu({currentLocation:Le,nextLocation:pe,historyAction:we});if(lt){ua(lt,{state:"blocked",location:pe,proceed(){ua(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),nn($,V)},reset(){let dt=new Map(A.blockers);dt.set(lt,uh),Oe({blockers:dt})}});return}return await ut(we,pe,{submission:ge,pendingError:xe,preventScrollReset:Ne,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:ht})}function Ur(){if(Nu(),Oe({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){ut(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}ut(O||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation})}}async function ut($,V,Q){z&&z.abort(),z=null,O=$,te=(Q&&Q.startUninterruptedRevalidation)===!0,O2(A.location,A.matches),N=(Q&&Q.preventScrollReset)===!0,H=(Q&&Q.enableViewTransition)===!0;let se=a||o,ge=Q&&Q.overrideNavigation,xe=Ma(se,V,l),Le=(Q&&Q.flushSync)===!0,pe=Il(xe,se,V.pathname);if(pe.active&&pe.matches&&(xe=pe.matches),!xe){let{error:rt,notFoundMatches:Wt,route:Kt}=Bu(V.pathname);Ge(V,{matches:Wt,loaderData:{},errors:{[Kt.id]:rt}},{flushSync:Le});return}if(A.initialized&&!G&&IW(A.location,V)&&!(Q&&Q.submission&&_i(Q.submission.formMethod))){Ge(V,{matches:xe},{flushSync:Le});return}z=new AbortController;let Me=Ul(t.history,V,z.signal,Q&&Q.submission),we;if(Q&&Q.pendingError)we=[fc(xe).route.id,{type:yt.error,error:Q.pendingError}];else if(Q&&Q.submission&&_i(Q.submission.formMethod)){let rt=await hn(Me,V,Q.submission,xe,pe.active,{replace:Q.replace,flushSync:Le});if(rt.shortCircuited)return;if(rt.pendingActionResult){let[Wt,Kt]=rt.pendingActionResult;if(Lr(Kt)&&e2(Kt.error)&&Kt.error.status===404){z=null,Ge(V,{matches:rt.matches,loaderData:{},errors:{[Wt]:Kt.error}});return}}xe=rt.matches||xe,we=rt.pendingActionResult,ge=r6(V,Q.submission),Le=!1,pe.active=!1,Me=Ul(t.history,Me.url,Me.signal)}let{shortCircuited:Ne,matches:ht,loaderData:lt,errors:dt}=await ur(Me,V,xe,pe.active,ge,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Le,we);Ne||(z=null,Ge(V,Bt({matches:ht||xe},Zb(we),{loaderData:lt,errors:dt})))}async function hn($,V,Q,se,ge,xe){xe===void 0&&(xe={}),Nu();let Le=OW(V,Q);if(Oe({navigation:Le},{flushSync:xe.flushSync===!0}),ge){let we=await Pl(se,V.pathname,$.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let{boundaryId:Ne,error:ht}=kl(V.pathname,we);return{matches:we.partialMatches,pendingActionResult:[Ne,{type:yt.error,error:ht}]}}else if(we.matches)se=we.matches;else{let{notFoundMatches:Ne,error:ht,route:lt}=Bu(V.pathname);return{matches:Ne,pendingActionResult:[lt.id,{type:yt.error,error:ht}]}}}let pe,Me=Ih(se,V);if(!Me.route.action&&!Me.route.lazy)pe={type:yt.error,error:nr(405,{method:$.method,pathname:V.pathname,routeId:Me.route.id})};else if(pe=(await Fi("action",$,[Me],se))[0],$.signal.aborted)return{shortCircuited:!0};if(Ba(pe)){let we;return xe&&xe.replace!=null?we=xe.replace:we=Wb(pe.response.headers.get("Location"),new URL($.url),l)===A.location.pathname+A.location.search,await Er($,pe,{submission:Q,replace:we}),{shortCircuited:!0}}if(za(pe))throw nr(400,{type:"defer-action"});if(Lr(pe)){let we=fc(se,Me.route.id);return(xe&&xe.replace)!==!0&&(O=on.Push),{matches:se,pendingActionResult:[we.route.id,pe]}}return{matches:se,pendingActionResult:[Me.route.id,pe]}}async function ur($,V,Q,se,ge,xe,Le,pe,Me,we,Ne){let ht=ge||r6(V,xe),lt=xe||Le||tw(ht),dt=!te&&(!d.v7_partialHydration||!Me);if(se){if(dt){let Re=ps(Ne);Oe(Bt({navigation:ht},Re!==void 0?{actionData:Re}:{}),{flushSync:we})}let me=await Pl(Q,V.pathname,$.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:Re,error:yn}=kl(V.pathname,me);return{matches:me.partialMatches,loaderData:{},errors:{[Re]:yn}}}else if(me.matches)Q=me.matches;else{let{error:Re,notFoundMatches:yn,route:ct}=Bu(V.pathname);return{matches:yn,loaderData:{},errors:{[ct.id]:Re}}}}let rt=a||o,[Wt,Kt]=Vb(t.history,A,Q,lt,V,d.v7_partialHydration&&Me===!0,d.v7_skipActionErrorRevalidation,G,ie,U,ce,he,le,rt,l,Ne);if(Uu(me=>!(Q&&Q.some(Re=>Re.route.id===me))||Wt&&Wt.some(Re=>Re.route.id===me)),q=++F,Wt.length===0&&Kt.length===0){let me=so();return Ge(V,Bt({matches:Q,loaderData:{},errors:Ne&&Lr(Ne[1])?{[Ne[0]]:Ne[1].error}:null},Zb(Ne),me?{fetchers:new Map(A.fetchers)}:{}),{flushSync:we}),{shortCircuited:!0}}if(dt){let me={};if(!se){me.navigation=ht;let Re=ps(Ne);Re!==void 0&&(me.actionData=Re)}Kt.length>0&&(me.fetchers=aa(Kt)),Oe(me,{flushSync:we})}Kt.forEach(me=>{W.has(me.key)&&ci(me.key),me.controller&&W.set(me.key,me.controller)});let ha=()=>Kt.forEach(me=>ci(me.key));z&&z.signal.addEventListener("abort",ha);let{loaderResults:$i,fetcherResults:oo}=await ms(A.matches,Q,Wt,Kt,$);if($.signal.aborted)return{shortCircuited:!0};z&&z.signal.removeEventListener("abort",ha),Kt.forEach(me=>W.delete(me.key));let ao=Qb([...$i,...oo]);if(ao){if(ao.idx>=Wt.length){let me=Kt[ao.idx-Wt.length].key;le.add(me)}return await Er($,ao.result,{replace:pe}),{shortCircuited:!0}}let{loaderData:zi,errors:jn}=qb(A,Q,Wt,$i,Ne,Kt,oo,Se);Se.forEach((me,Re)=>{me.subscribe(yn=>{(yn||me.done)&&Se.delete(Re)})}),d.v7_partialHydration&&Me&&A.errors&&Object.entries(A.errors).filter(me=>{let[Re]=me;return!Wt.some(yn=>yn.route.id===Re)}).forEach(me=>{let[Re,yn]=me;jn=Object.assign(jn||{},{[Re]:yn})});let da=so(),fa=Bf(q),Bi=da||fa||Kt.length>0;return Bt({matches:Q,loaderData:zi,errors:jn},Bi?{fetchers:new Map(A.fetchers)}:{})}function ps($){if($&&!Lr($[1]))return{[$[0]]:$[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function aa($){return $.forEach(V=>{let Q=A.fetchers.get(V.key),se=hh(void 0,Q?Q.data:void 0);A.fetchers.set(V.key,se)}),new Map(A.fetchers)}function la($,V,Q,se){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");W.has($)&&ci($);let ge=(se&&se.unstable_flushSync)===!0,xe=a||o,Le=$5(A.location,A.matches,l,d.v7_prependBasename,Q,d.v7_relativeSplatPath,V,se==null?void 0:se.relative),pe=Ma(xe,Le,l),Me=Il(pe,xe,Le);if(Me.active&&Me.matches&&(pe=Me.matches),!pe){jr($,V,nr(404,{pathname:Le}),{flushSync:ge});return}let{path:we,submission:Ne,error:ht}=jb(d.v7_normalizeFormMethod,!0,Le,se);if(ht){jr($,V,ht,{flushSync:ge});return}let lt=Ih(pe,we);if(N=(se&&se.preventScrollReset)===!0,Ne&&_i(Ne.formMethod)){Un($,V,we,lt,pe,Me.active,ge,Ne);return}he.set($,{routeId:V,path:we}),Sr($,V,we,lt,pe,Me.active,ge,Ne)}async function Un($,V,Q,se,ge,xe,Le,pe){Nu(),he.delete($);function Me(ct){if(!ct.route.action&&!ct.route.lazy){let Vn=nr(405,{method:pe.formMethod,pathname:Q,routeId:V});return jr($,V,Vn,{flushSync:Le}),!0}return!1}if(!xe&&Me(se))return;let we=A.fetchers.get($);li($,NW(pe,we),{flushSync:Le});let Ne=new AbortController,ht=Ul(t.history,Q,Ne.signal,pe);if(xe){let ct=await Pl(ge,Q,ht.signal);if(ct.type==="aborted")return;if(ct.type==="error"){let{error:Vn}=kl(Q,ct);jr($,V,Vn,{flushSync:Le});return}else if(ct.matches){if(ge=ct.matches,se=Ih(ge,Q),Me(se))return}else{jr($,V,nr(404,{pathname:Q}),{flushSync:Le});return}}W.set($,Ne);let lt=F,rt=(await Fi("action",ht,[se],ge))[0];if(ht.signal.aborted){W.get($)===Ne&&W.delete($);return}if(d.v7_fetcherPersist&&ce.has($)){if(Ba(rt)||Lr(rt)){li($,go(void 0));return}}else{if(Ba(rt))if(W.delete($),q>lt){li($,go(void 0));return}else return le.add($),li($,hh(pe)),Er(ht,rt,{fetcherSubmission:pe});if(Lr(rt)){jr($,V,rt.error);return}}if(za(rt))throw nr(400,{type:"defer-action"});let Wt=A.navigation.location||A.location,Kt=Ul(t.history,Wt,Ne.signal),ha=a||o,$i=A.navigation.state!=="idle"?Ma(ha,A.navigation.location,l):A.matches;Ve($i,"Didn't find any matches after fetcher action");let oo=++F;re.set($,oo);let ao=hh(pe,rt.data);A.fetchers.set($,ao);let[zi,jn]=Vb(t.history,A,$i,pe,Wt,!1,d.v7_skipActionErrorRevalidation,G,ie,U,ce,he,le,ha,l,[se.route.id,rt]);jn.filter(ct=>ct.key!==$).forEach(ct=>{let Vn=ct.key,Rl=A.fetchers.get(Vn),ze=hh(void 0,Rl?Rl.data:void 0);A.fetchers.set(Vn,ze),W.has(Vn)&&ci(Vn),ct.controller&&W.set(Vn,ct.controller)}),Oe({fetchers:new Map(A.fetchers)});let da=()=>jn.forEach(ct=>ci(ct.key));Ne.signal.addEventListener("abort",da);let{loaderResults:fa,fetcherResults:Bi}=await ms(A.matches,$i,zi,jn,Kt);if(Ne.signal.aborted)return;Ne.signal.removeEventListener("abort",da),re.delete($),W.delete($),jn.forEach(ct=>W.delete(ct.key));let me=Qb([...fa,...Bi]);if(me){if(me.idx>=zi.length){let ct=jn[me.idx-zi.length].key;le.add(ct)}return Er(Kt,me.result)}let{loaderData:Re,errors:yn}=qb(A,A.matches,zi,fa,void 0,jn,Bi,Se);if(A.fetchers.has($)){let ct=go(rt.data);A.fetchers.set($,ct)}Bf(oo),A.navigation.state==="loading"&&oo>q?(Ve(O,"Expected pending action"),z&&z.abort(),Ge(A.navigation.location,{matches:$i,loaderData:Re,errors:yn,fetchers:new Map(A.fetchers)})):(Oe({errors:yn,loaderData:Yb(A.loaderData,Re,$i,yn),fetchers:new Map(A.fetchers)}),G=!1)}async function Sr($,V,Q,se,ge,xe,Le,pe){let Me=A.fetchers.get($);li($,hh(pe,Me?Me.data:void 0),{flushSync:Le});let we=new AbortController,Ne=Ul(t.history,Q,we.signal);if(xe){let rt=await Pl(ge,Q,Ne.signal);if(rt.type==="aborted")return;if(rt.type==="error"){let{error:Wt}=kl(Q,rt);jr($,V,Wt,{flushSync:Le});return}else if(rt.matches)ge=rt.matches,se=Ih(ge,Q);else{jr($,V,nr(404,{pathname:Q}),{flushSync:Le});return}}W.set($,we);let ht=F,dt=(await Fi("loader",Ne,[se],ge))[0];if(za(dt)&&(dt=await QA(dt,Ne.signal,!0)||dt),W.get($)===we&&W.delete($),!Ne.signal.aborted){if(ce.has($)){li($,go(void 0));return}if(Ba(dt))if(q>ht){li($,go(void 0));return}else{le.add($),await Er(Ne,dt);return}if(Lr(dt)){jr($,V,dt.error);return}Ve(!za(dt),"Unhandled fetcher deferred data"),li($,go(dt.data))}}async function Er($,V,Q){let{submission:se,fetcherSubmission:ge,replace:xe}=Q===void 0?{}:Q;V.response.headers.has("X-Remix-Revalidate")&&(G=!0);let Le=V.response.headers.get("Location");Ve(Le,"Expected a Location header on the redirect Response"),Le=Wb(Le,new URL($.url),l);let pe=Fd(A.location,Le,{_isRedirect:!0});if(n){let dt=!1;if(V.response.headers.has("X-Remix-Reload-Document"))dt=!0;else if(Ky.test(Le)){const rt=t.history.createURL(Le);dt=rt.origin!==e.location.origin||Qs(rt.pathname,l)==null}if(dt){xe?e.location.replace(Le):e.location.assign(Le);return}}z=null;let Me=xe===!0||V.response.headers.has("X-Remix-Replace")?on.Replace:on.Push,{formMethod:we,formAction:Ne,formEncType:ht}=A.navigation;!se&&!ge&&we&&Ne&&ht&&(se=tw(A.navigation));let lt=se||ge;if(gW.has(V.response.status)&&lt&&_i(lt.formMethod))await ut(Me,pe,{submission:Bt({},lt,{formAction:Le}),preventScrollReset:N});else{let dt=r6(pe,se);await ut(Me,pe,{overrideNavigation:dt,fetcherSubmission:ge,preventScrollReset:N})}}async function Fi($,V,Q,se){try{let ge=await TW(c,$,V,Q,se,s,i);return await Promise.all(ge.map((xe,Le)=>{if(RW(xe)){let pe=xe.result;return{type:yt.redirect,response:kW(pe,V,Q[Le].route.id,se,l,d.v7_relativeSplatPath)}}return CW(xe)}))}catch(ge){return Q.map(()=>({type:yt.error,error:ge}))}}async function ms($,V,Q,se,ge){let[xe,...Le]=await Promise.all([Q.length?Fi("loader",ge,Q,V):[],...se.map(pe=>{if(pe.matches&&pe.match&&pe.controller){let Me=Ul(t.history,pe.path,pe.controller.signal);return Fi("loader",Me,[pe.match],pe.matches).then(we=>we[0])}else return Promise.resolve({type:yt.error,error:nr(404,{pathname:pe.path})})})]);return await Promise.all([ew($,Q,xe,xe.map(()=>ge.signal),!1,A.loaderData),ew($,se.map(pe=>pe.match),Le,se.map(pe=>pe.controller?pe.controller.signal:null),!0)]),{loaderResults:xe,fetcherResults:Le}}function Nu(){G=!0,ie.push(...Uu()),he.forEach(($,V)=>{W.has(V)&&(U.add(V),ci(V))})}function li($,V,Q){Q===void 0&&(Q={}),A.fetchers.set($,V),Oe({fetchers:new Map(A.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function jr($,V,Q,se){se===void 0&&(se={});let ge=fc(A.matches,V);ca($),Oe({errors:{[ge.route.id]:Q},fetchers:new Map(A.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function $f($){return d.v7_fetcherPersist&&(de.set($,(de.get($)||0)+1),ce.has($)&&ce.delete($)),A.fetchers.get($)||vW}function ca($){let V=A.fetchers.get($);W.has($)&&!(V&&V.state==="loading"&&re.has($))&&ci($),he.delete($),re.delete($),le.delete($),ce.delete($),U.delete($),A.fetchers.delete($)}function Fu($){if(d.v7_fetcherPersist){let V=(de.get($)||0)-1;V<=0?(de.delete($),ce.add($)):de.set($,V)}else ca($);Oe({fetchers:new Map(A.fetchers)})}function ci($){let V=W.get($);Ve(V,"Expected fetch controller: "+$),V.abort(),W.delete($)}function zf($){for(let V of $){let Q=$f(V),se=go(Q.data);A.fetchers.set(V,se)}}function so(){let $=[],V=!1;for(let Q of le){let se=A.fetchers.get(Q);Ve(se,"Expected fetcher: "+Q),se.state==="loading"&&(le.delete(Q),$.push(Q),V=!0)}return zf($),V}function Bf($){let V=[];for(let[Q,se]of re)if(se<$){let ge=A.fetchers.get(Q);Ve(ge,"Expected fetcher: "+Q),ge.state==="loading"&&(ci(Q),re.delete(Q),V.push(Q))}return zf(V),V.length>0}function M2($,V){let Q=A.blockers.get($)||uh;return Xe.get($)!==V&&Xe.set($,V),Q}function $u($){A.blockers.delete($),Xe.delete($)}function ua($,V){let Q=A.blockers.get($)||uh;Ve(Q.state==="unblocked"&&V.state==="blocked"||Q.state==="blocked"&&V.state==="blocked"||Q.state==="blocked"&&V.state==="proceeding"||Q.state==="blocked"&&V.state==="unblocked"||Q.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+V.state);let se=new Map(A.blockers);se.set($,V),Oe({blockers:se})}function zu($){let{currentLocation:V,nextLocation:Q,historyAction:se}=$;if(Xe.size===0)return;Xe.size>1&&Zc(!1,"A router only supports one blocker at a time");let ge=Array.from(Xe.entries()),[xe,Le]=ge[ge.length-1],pe=A.blockers.get(xe);if(!(pe&&pe.state==="proceeding")&&Le({currentLocation:V,nextLocation:Q,historyAction:se}))return xe}function Bu($){let V=nr(404,{pathname:$}),Q=a||o,{matches:se,route:ge}=Xb(Q);return Uu(),{notFoundMatches:se,route:ge,error:V}}function kl($,V){return{boundaryId:fc(V.partialMatches).route.id,error:nr(400,{type:"route-discovery",pathname:$,message:V.error!=null&&"message"in V.error?V.error:String(V.error)})}}function Uu($){let V=[];return Se.forEach((Q,se)=>{(!$||$(se))&&(Q.cancel(),V.push(se),Se.delete(se))}),V}function D2($,V,Q){if(_=$,b=V,x=Q||null,!w&&A.navigation===n6){w=!0;let se=Al(A.location,A.matches);se!=null&&Oe({restoreScrollPosition:se})}return()=>{_=null,b=null,x=null}}function Uf($,V){return x&&x($,V.map(se=>qH(se,A.loaderData)))||$.key}function O2($,V){if(_&&b){let Q=Uf($,V);_[Q]=b()}}function Al($,V){if(_){let Q=Uf($,V),se=_[Q];if(typeof se=="number")return se}return null}function Il($,V,Q){if(h){if(v.has(Q))return{active:!1,matches:$};if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:d0(V,Q,l,!0)}}else return{active:!0,matches:d0(V,Q,l,!0)||[]}}return{active:!1,matches:null}}async function Pl($,V,Q){let se=$;for(;;){let ge=a==null,xe=a||o;try{await SW(h,V,se,xe,s,i,Qt,Q)}catch(Me){return{type:"error",error:Me,partialMatches:se}}finally{ge&&(o=[...o])}if(Q.aborted)return{type:"aborted"};let Le=Ma(xe,V,l);if(Le)return jf(V,v),{type:"success",matches:Le};let pe=d0(xe,V,l,!0);if(!pe||se.length===pe.length&&se.every((Me,we)=>Me.route.id===pe[we].route.id))return jf(V,v),{type:"success",matches:null};se=pe}}function jf($,V){if(V.size>=g){let Q=V.values().next().value;V.delete(Q)}V.add($)}function N2($){s={},a=$d($,i,void 0,s)}function Vr($,V){let Q=a==null;YA($,V,a||o,s,i),Q&&(o=[...o],Oe({}))}return M={get basename(){return l},get future(){return d},get state(){return A},get routes(){return o},get window(){return e},initialize:At,subscribe:De,enableScrollRestoration:D2,navigate:nn,fetch:la,revalidate:Ur,createHref:$=>t.history.createHref($),encodeLocation:$=>t.history.encodeLocation($),getFetcher:$f,deleteFetcher:Fu,dispose:Pe,getBlocker:M2,deleteBlocker:$u,patchRoutes:Vr,_internalFetchControllers:W,_internalActiveDeferreds:Se,_internalSetRoutes:N2},M}function xW(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function $5(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let h=Wy(i||".",Hy(l,s),Qs(t.pathname,n)||t.pathname,a==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!qy(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:$s([n,h.pathname])),dl(h)}function jb(t,e,n,r){if(!r||!xW(r))return{path:n};if(r.formMethod&&!DW(r.formMethod))return{path:n,error:nr(405,{method:r.formMethod})};let i=()=>({path:n,error:nr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=ZA(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!_i(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[v,_]=g;return""+m+v+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!_i(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=z5(r.formData),c=r.formData;else if(r.body instanceof FormData)l=z5(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Kb(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Kb(l)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(_i(h.formMethod))return{path:n,submission:h};let d=na(n);return e&&d.search&&qy(d.search)&&l.append("index",""),d.search="?"+l,{path:dl(d),submission:h}}function bW(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Vb(t,e,n,r,i,s,o,a,l,c,h,d,f,m,g,v){let _=v?Lr(v[1])?v[1].error:v[1].data:void 0,x=t.createURL(e.location),b=t.createURL(i),w=v&&Lr(v[1])?v[0]:void 0,T=w?bW(n,w):n,C=v?v[1].statusCode:void 0,I=o&&C&&C>=400,M=T.filter((O,N)=>{let{route:z}=O;if(z.lazy)return!0;if(z.loader==null)return!1;if(s)return typeof z.loader!="function"||z.loader.hydrate?!0:e.loaderData[z.id]===void 0&&(!e.errors||e.errors[z.id]===void 0);if(wW(e.loaderData,e.matches[N],O)||l.some(Z=>Z===O.route.id))return!0;let H=e.matches[N],j=O;return Gb(O,Bt({currentUrl:x,currentParams:H.params,nextUrl:b,nextParams:j.params},r,{actionResult:_,actionStatus:C,defaultShouldRevalidate:I?!1:a||x.pathname+x.search===b.pathname+b.search||x.search!==b.search||qA(H,j)}))}),A=[];return d.forEach((O,N)=>{if(s||!n.some(te=>te.route.id===O.routeId)||h.has(N))return;let z=Ma(m,O.path,g);if(!z){A.push({key:N,routeId:O.routeId,path:O.path,matches:null,match:null,controller:null});return}let H=e.fetchers.get(N),j=Ih(z,O.path),Z=!1;f.has(N)?Z=!1:c.has(N)?(c.delete(N),Z=!0):H&&H.state!=="idle"&&H.data===void 0?Z=a:Z=Gb(j,Bt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:_,actionStatus:C,defaultShouldRevalidate:I?!1:a})),Z&&A.push({key:N,routeId:O.routeId,path:O.path,matches:z,match:j,controller:new AbortController})}),[M,A]}function wW(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function qA(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Gb(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function SW(t,e,n,r,i,s,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(h,d)=>{a.aborted||YA(h,d,r,i,s)}}),o.set(l,c)),c&&PW(c)&&await c}finally{o.delete(l)}}function YA(t,e,n,r,i){if(t){var s;let o=r[t];Ve(o,"No route found to patch children into: routeId = "+t);let a=$d(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=$d(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function Hb(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ve(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Zc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!WH.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Bt({},e(i),{lazy:void 0}))}function EW(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function TW(t,e,n,r,i,s,o,a){let l=r.reduce((d,f)=>d.add(f.route.id),new Set),c=new Set,h=await t({matches:i.map(d=>{let f=l.has(d.route.id);return Bt({},d,{shouldLoad:f,resolve:g=>(c.add(d.route.id),f?LW(e,n,d,s,o,g,a):Promise.resolve({type:yt.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(d=>Ve(c.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((d,f)=>l.has(i[f].route.id))}async function LW(t,e,n,r,i,s,o){let a,l,c=h=>{let d,f=new Promise((v,_)=>d=_);l=()=>d(),e.signal.addEventListener("abort",l);let m=v=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:o},...v!==void 0?[v]:[]),g;return s?g=s(v=>m(v)):g=(async()=>{try{return{type:"data",result:await m()}}catch(v){return{type:"error",result:v}}})(),Promise.race([g,f])};try{let h=n.route[t];if(n.route.lazy)if(h){let d,[f]=await Promise.all([c(h).catch(m=>{d=m}),Hb(n.route,i,r)]);if(d!==void 0)throw d;a=f}else if(await Hb(n.route,i,r),h=n.route[t],h)a=await c(h);else if(t==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw nr(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:yt.data,result:void 0};else if(h)a=await c(h);else{let d=new URL(e.url),f=d.pathname+d.search;throw nr(404,{pathname:f})}Ve(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:yt.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function CW(t){let{result:e,type:n}=t;if(XA(e)){let c;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(h){return{type:yt.error,error:h}}return n===yt.error?{type:yt.error,error:new kp(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:yt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===yt.error){if(Jb(e)){var r;if(e.data instanceof Error){var i;return{type:yt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new kp(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:yt.error,error:e,statusCode:e2(e)?e.status:void 0}}if(MW(e)){var s,o;return{type:yt.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Jb(e)){var a,l;return{type:yt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:yt.data,data:e}}function kW(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ve(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ky.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=$5(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Wb(t,e,n){if(Ky.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Qs(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ul(t,e,n,r){let i=t.createURL(ZA(e)).toString(),s={signal:n};if(r&&_i(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=z5(r.formData):s.body=r.formData}return new Request(i,s)}function z5(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Kb(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function AW(t,e,n,r,i,s){let o={},a=null,l,c=!1,h={},d=r&&Lr(r[1])?r[1].error:void 0;return n.forEach((f,m)=>{let g=e[m].route.id;if(Ve(!Ba(f),"Cannot handle redirect results in processLoaderData"),Lr(f)){let v=f.error;d!==void 0&&(v=d,d=void 0),a=a||{};{let _=fc(t,g);a[_.route.id]==null&&(a[_.route.id]=v)}o[g]=void 0,c||(c=!0,l=e2(f.error)?f.error.status:500),f.headers&&(h[g]=f.headers)}else za(f)?(i.set(g,f.deferredData),o[g]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[g]=f.headers)):(o[g]=f.data,f.statusCode&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[g]=f.headers))}),d!==void 0&&r&&(a={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:h}}function qb(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=AW(e,n,r,i,a);for(let h=0;h<s.length;h++){let{key:d,match:f,controller:m}=s[h];Ve(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let g=o[h];if(!(m&&m.signal.aborted))if(Lr(g)){let v=fc(t.matches,f==null?void 0:f.route.id);c&&c[v.route.id]||(c=Bt({},c,{[v.route.id]:g.error})),t.fetchers.delete(d)}else if(Ba(g))Ve(!1,"Unhandled fetcher revalidation redirect");else if(za(g))Ve(!1,"Unhandled fetcher deferred data");else{let v=go(g.data);t.fetchers.set(d,v)}}return{loaderData:l,errors:c}}function Yb(t,e,n,r){let i=Bt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Zb(t){return t?Lr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function fc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Xb(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function nr(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new kp(t||500,a,new Error(l),!0)}function Qb(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ba(n))return{result:n,idx:e}}}function ZA(t){let e=typeof t=="string"?na(t):t;return dl(Bt({},e,{hash:""}))}function IW(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function PW(t){return typeof t=="object"&&t!=null&&"then"in t}function RW(t){return XA(t.result)&&mW.has(t.result.status)}function za(t){return t.type===yt.deferred}function Lr(t){return t.type===yt.error}function Ba(t){return(t&&t.type)===yt.redirect}function Jb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function MW(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function XA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function DW(t){return pW.has(t.toLowerCase())}function _i(t){return dW.has(t.toLowerCase())}async function ew(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),h=c!=null&&!qA(c,l)&&(s&&s[l.route.id])!==void 0;if(za(a)&&(i||h)){let d=r[o];Ve(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await QA(a,d,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function QA(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:yt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:yt.error,error:i}}return{type:yt.data,data:t.deferredData.data}}}function qy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ih(t,e){let n=typeof e=="string"?na(e).search:e.search;if(t[t.length-1].route.index&&qy(n||""))return t[t.length-1];let r=HA(t);return r[r.length-1]}function tw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function r6(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function OW(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function hh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function NW(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function go(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function FW(t,e){try{let n=t.sessionStorage.getItem(KA);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function $W(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(KA,JSON.stringify(n))}catch(r){Zc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}const pf=P.createContext(null),Yy=P.createContext(null),ra=P.createContext(null),Zy=P.createContext(null),io=P.createContext({outlet:null,matches:[],isDataRoute:!1}),JA=P.createContext(null);function zW(t,e){let{relative:n}=e===void 0?{}:e;mf()||Ve(!1);let{basename:r,navigator:i}=P.useContext(ra),{hash:s,pathname:o,search:a}=t2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:$s([r,o])),i.createHref({pathname:l,search:a,hash:s})}function mf(){return P.useContext(Zy)!=null}function gf(){return mf()||Ve(!1),P.useContext(Zy).location}function eI(t){P.useContext(ra).static||P.useLayoutEffect(t)}function tI(){let{isDataRoute:t}=P.useContext(io);return t?eK():BW()}function BW(){mf()||Ve(!1);let t=P.useContext(pf),{basename:e,future:n,navigator:r}=P.useContext(ra),{matches:i}=P.useContext(io),{pathname:s}=gf(),o=JSON.stringify(Hy(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return eI(()=>{a.current=!0}),P.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Wy(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:$s([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}const UW=P.createContext(null);function jW(t){let e=P.useContext(io).outlet;return e&&P.createElement(UW.Provider,{value:t},e)}function VW(){let{matches:t}=P.useContext(io),e=t[t.length-1];return e?e.params:{}}function t2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(ra),{matches:i}=P.useContext(io),{pathname:s}=gf(),o=JSON.stringify(Hy(i,r.v7_relativeSplatPath));return P.useMemo(()=>Wy(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function GW(t,e,n,r){mf()||Ve(!1);let{navigator:i}=P.useContext(ra),{matches:s}=P.useContext(io),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=gf(),h;h=c;let d=h.pathname||"/",f=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=Ma(t,{pathname:f});return YW(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:$s([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:$s([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r)}function HW(){let t=JW(),e=e2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const WW=P.createElement(HW,null);class KW extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(io.Provider,{value:this.props.routeContext},P.createElement(JA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qW(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(pf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(io.Provider,{value:e},r)}function YW(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Ve(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:m}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let m,g=!1,v=null,_=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||WW,l&&(c<0&&f===0?(tK("route-fallback"),g=!0,_=null):c===f&&(g=!0,_=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),b=()=>{let w;return m?w=v:g?w=_:d.route.Component?w=P.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,P.createElement(qW,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?P.createElement(KW,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var nI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nI||{}),Ip=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ip||{});function ZW(t){let e=P.useContext(pf);return e||Ve(!1),e}function XW(t){let e=P.useContext(Yy);return e||Ve(!1),e}function QW(t){let e=P.useContext(io);return e||Ve(!1),e}function rI(t){let e=QW(),n=e.matches[e.matches.length-1];return n.route.id||Ve(!1),n.route.id}function JW(){var t;let e=P.useContext(JA),n=XW(Ip.UseRouteError),r=rI(Ip.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function eK(){let{router:t}=ZW(nI.UseNavigateStable),e=rI(Ip.UseNavigateStable),n=P.useRef(!1);return eI(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ap({fromRouteId:e},s)))},[t,e])}const nw={};function tK(t,e,n){nw[t]||(nw[t]=!0)}function nK(t){return jW(t.context)}function rK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=on.Pop,navigator:s,static:o=!1,future:a}=t;mf()&&Ve(!1);let l=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:s,static:o,future:Ap({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=na(r));let{pathname:h="/",search:d="",hash:f="",state:m=null,key:g="default"}=r,v=P.useMemo(()=>{let _=Qs(h,l);return _==null?null:{location:{pathname:_,search:d,hash:f,state:m,key:g},navigationType:i}},[l,h,d,f,m,g,i]);return v==null?null:P.createElement(ra.Provider,{value:c},P.createElement(Zy.Provider,{children:n,value:v}))}new Promise(()=>{});function iK(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:P.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:P.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}function iI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oK(t,e){return t.button===0&&(!e||e==="_self")&&!sK(t)}const aK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],lK=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],cK="6";try{window.__reactRouterVersion=cK}catch{}function uK(t,e){return _W({basename:void 0,future:Xc({},void 0,{v7_prependBasename:!0}),history:VH({window:void 0}),hydrationData:hK(),routes:t,mapRouteProperties:iK,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function hK(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Xc({},e,{errors:dK(e.errors)})),e}function dK(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new kp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const sI=P.createContext({isTransitioning:!1}),fK=P.createContext(new Map),pK="startTransition",rw=gg[pK],mK="flushSync",iw=jH[mK];function gK(t){rw?rw(t):t()}function dh(t){iw?iw(t):t()}class vK{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function yK(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=P.useState(n.state),[o,a]=P.useState(),[l,c]=P.useState({isTransitioning:!1}),[h,d]=P.useState(),[f,m]=P.useState(),[g,v]=P.useState(),_=P.useRef(new Map),{v7_startTransition:x}=r||{},b=P.useCallback(A=>{x?gK(A):A()},[x]),w=P.useCallback((A,O)=>{let{deletedFetchers:N,unstable_flushSync:z,unstable_viewTransitionOpts:H}=O;N.forEach(Z=>_.current.delete(Z)),A.fetchers.forEach((Z,te)=>{Z.data!==void 0&&_.current.set(te,Z.data)});let j=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!H||j){z?dh(()=>s(A)):b(()=>s(A));return}if(z){dh(()=>{f&&(h&&h.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let Z=n.window.document.startViewTransition(()=>{dh(()=>s(A))});Z.finished.finally(()=>{dh(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),dh(()=>m(Z));return}f?(h&&h.resolve(),f.skipTransition(),v({state:A,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(a(A),c({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[n.window,f,h,_,b]);P.useLayoutEffect(()=>n.subscribe(w),[n,w]),P.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new vK)},[l]),P.useEffect(()=>{if(h&&o&&n.window){let A=o,O=h.promise,N=n.window.document.startViewTransition(async()=>{b(()=>s(A)),await O});N.finished.finally(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(N)}},[b,o,h,n.window]),P.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,f,i.location,o]),P.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]),P.useEffect(()=>{},[]);let T=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,O,N)=>n.navigate(A,{state:O,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(A,O,N)=>n.navigate(A,{replace:!0,state:O,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),C=n.basename||"/",I=P.useMemo(()=>({router:n,navigator:T,static:!1,basename:C}),[n,T,C]),M=P.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return P.createElement(P.Fragment,null,P.createElement(pf.Provider,{value:I},P.createElement(Yy.Provider,{value:i},P.createElement(fK.Provider,{value:_.current},P.createElement(sI.Provider,{value:l},P.createElement(rK,{basename:C,location:i.location,navigationType:i.historyAction,navigator:T,future:M},i.initialized||n.future.v7_partialHydration?P.createElement(_K,{routes:n.routes,future:n.future,state:i}):e))))),null)}const _K=P.memo(xK);function xK(t){let{routes:e,future:n,state:r}=t;return GW(e,void 0,r,n)}const bK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SK=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,f=iI(e,aK),{basename:m}=P.useContext(ra),g,v=!1;if(typeof c=="string"&&wK.test(c)&&(g=c,bK))try{let w=new URL(window.location.href),T=c.startsWith("//")?new URL(w.protocol+c):new URL(c),C=Qs(T.pathname,m);T.origin===w.origin&&C!=null?c=C+T.search+T.hash:v=!0}catch{}let _=zW(c,{relative:i}),x=TK(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:d});function b(w){r&&r(w),w.defaultPrevented||x(w)}return P.createElement("a",Xc({},f,{href:g||_,onClick:v||s?r:b,ref:n,target:l}))}),Pp=P.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:h}=e,d=iI(e,lK),f=t2(l,{relative:d.relative}),m=gf(),g=P.useContext(Yy),{navigator:v,basename:_}=P.useContext(ra),x=g!=null&&LK(f)&&c===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,w=m.pathname,T=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(w=w.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&_&&(T=Qs(T,_)||T);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let I=w===b||!o&&w.startsWith(b)&&w.charAt(C)==="/",M=T!=null&&(T===b||!o&&T.startsWith(b)&&T.charAt(b.length)==="/"),A={isActive:I,isPending:M,isTransitioning:x},O=I?r:void 0,N;typeof s=="function"?N=s(A):N=[s,I?"active":null,M?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(A):a;return P.createElement(SK,Xc({},d,{"aria-current":O,className:N,ref:n,style:z,to:l,unstable_viewTransition:c}),typeof h=="function"?h(A):h)});var B5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(B5||(B5={}));var sw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sw||(sw={}));function EK(t){let e=P.useContext(pf);return e||Ve(!1),e}function TK(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=tI(),c=gf(),h=t2(t,{relative:o});return P.useCallback(d=>{if(oK(d,n)){d.preventDefault();let f=r!==void 0?r:dl(c)===dl(h);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function LK(t,e){e===void 0&&(e={});let n=P.useContext(sI);n==null&&Ve(!1);let{basename:r}=EK(B5.useViewTransitionState),i=t2(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Qs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Qs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cp(i.pathname,o)!=null||Cp(i.pathname,s)!=null}var Rp={},ow=Gy;Rp.createRoot=ow.createRoot,Rp.hydrateRoot=ow.hydrateRoot;var oI={exports:{}},aI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf=P;function CK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kK=typeof Object.is=="function"?Object.is:CK,AK=vf.useSyncExternalStore,IK=vf.useRef,PK=vf.useEffect,RK=vf.useMemo,MK=vf.useDebugValue;aI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=IK(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=RK(function(){function l(m){if(!c){if(c=!0,h=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,kK(h,m))return g;var v=r(m);return i!==void 0&&i(g,v)?g:(h=m,d=v)}var c=!1,h,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=AK(t,s[0],s[1]);return PK(function(){o.hasValue=!0,o.value=a},[a]),MK(a),a};oI.exports=aI;var DK=oI.exports,Ir="default"in gg?Cn:gg,aw=Symbol.for("react-redux-context"),lw=typeof globalThis<"u"?globalThis:{};function OK(){if(!Ir.createContext)return{};const t=lw[aw]??(lw[aw]=new Map);let e=t.get(Ir.createContext);return e||(e=Ir.createContext(null),t.set(Ir.createContext,e)),e}var Yo=OK(),NK=()=>{throw new Error("uSES not initialized!")};function Xy(t=Yo){return function(){return Ir.useContext(t)}}var lI=Xy(),cI=NK,FK=t=>{cI=t},$K=(t,e)=>t===e;function zK(t=Yo){const e=t===Yo?lI:Xy(t),n=(r,i={})=>{const{equalityFn:s=$K,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:h,identityFunctionCheck:d}=e();Ir.useRef(!0);const f=Ir.useCallback({[r.name](g){return r(g)}}[r.name],[r,h,o.stabilityCheck]),m=cI(l.addNestedSub,a.getState,c||a.getState,f,s);return Ir.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var Qn=zK();function BK(t){t()}function UK(){let t=null,e=null;return{clear(){t=null,e=null},notify(){BK(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var cw={notify(){},get:()=>[]};function jK(t,e){let n,r=cw,i=0,s=!1;function o(v){h();const _=r.subscribe(v);let x=!1;return()=>{x||(x=!0,_(),d())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return s}function h(){i++,n||(n=t.subscribe(l),r=UK())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=cw)}function f(){s||(s=!0,h())}function m(){s&&(s=!1,d())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return g}var VK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GK=typeof navigator<"u"&&navigator.product==="ReactNative",HK=VK||GK?Ir.useLayoutEffect:Ir.useEffect;function WK({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Ir.useMemo(()=>{const c=jK(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Ir.useMemo(()=>t.getState(),[t]);HK(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||Yo;return Ir.createElement(l.Provider,{value:o},n)}var KK=WK;function uI(t=Yo){const e=t===Yo?lI:Xy(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var qK=uI();function YK(t=Yo){const e=t===Yo?qK:uI(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var hI=YK();FK(DK.useSyncExternalStoreWithSelector);const Qy="-",ZK=t=>{const e=QK(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Qy);return a[0]===""&&a.length!==1&&a.shift(),dI(a,e)||XK(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},dI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?dI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Qy);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},uw=/^\[(.+)\]$/,XK=t=>{if(uw.test(t)){const e=uw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},QK=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return eq(Object.entries(t.classGroups),n).forEach(([s,o])=>{U5(o,r,s,e)}),r},U5=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:hw(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(JK(i)){U5(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{U5(o,hw(e,s),n,r)})})},hw=(t,e)=>{let n=t;return e.split(Qy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},JK=t=>t.isThemeGetter,eq=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,tq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},fI="!",nq=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,h=0,d;for(let _=0;_<a.length;_++){let x=a[_];if(c===0){if(x===i&&(r||a.slice(_,_+s)===e)){l.push(a.slice(h,_)),h=_+s;continue}if(x==="/"){d=_;continue}}x==="["?c++:x==="]"&&c--}const f=l.length===0?a:a.substring(h),m=f.startsWith(fI),g=m?f.substring(1):f,v=d&&d>h?d-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},rq=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},iq=t=>({cache:tq(t.cacheSize),parseClassName:nq(t),...ZK(t)}),sq=/\s+/,oq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(sq);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let g=!!m,v=r(g?f.substring(0,m):f);if(!v){if(!g){a=c+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=c+(a.length>0?" "+a:a);continue}g=!1}const _=rq(h).join(":"),x=d?_+fI:_,b=x+v;if(s.includes(b))continue;s.push(b);const w=i(v,g);for(let T=0;T<w.length;++T){const C=w[T];s.push(x+C)}a=c+(a.length>0?" "+a:a)}return a};function aq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=pI(e))&&(r&&(r+=" "),r+=n);return r}const pI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=pI(t[r]))&&(n&&(n+=" "),n+=e);return n};function lq(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((h,d)=>d(h),t());return n=iq(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=oq(l,n);return i(l,h),h}return function(){return s(aq.apply(null,arguments))}}const Pt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},mI=/^\[(?:([a-z-]+):)?(.+)\]$/i,cq=/^\d+\/\d+$/,uq=new Set(["px","full","screen"]),hq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xs=t=>Ic(t)||uq.has(t)||cq.test(t),ho=t=>bu(t,"length",Sq),Ic=t=>!!t&&!Number.isNaN(Number(t)),i6=t=>bu(t,"number",Ic),fh=t=>!!t&&Number.isInteger(Number(t)),gq=t=>t.endsWith("%")&&Ic(t.slice(0,-1)),je=t=>mI.test(t),fo=t=>hq.test(t),vq=new Set(["length","size","percentage"]),yq=t=>bu(t,vq,gI),_q=t=>bu(t,"position",gI),xq=new Set(["image","url"]),bq=t=>bu(t,xq,Tq),wq=t=>bu(t,"",Eq),ph=()=>!0,bu=(t,e,n)=>{const r=mI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Sq=t=>dq.test(t)&&!fq.test(t),gI=()=>!1,Eq=t=>pq.test(t),Tq=t=>mq.test(t),Lq=()=>{const t=Pt("colors"),e=Pt("spacing"),n=Pt("blur"),r=Pt("brightness"),i=Pt("borderColor"),s=Pt("borderRadius"),o=Pt("borderSpacing"),a=Pt("borderWidth"),l=Pt("contrast"),c=Pt("grayscale"),h=Pt("hueRotate"),d=Pt("invert"),f=Pt("gap"),m=Pt("gradientColorStops"),g=Pt("gradientColorStopPositions"),v=Pt("inset"),_=Pt("margin"),x=Pt("opacity"),b=Pt("padding"),w=Pt("saturate"),T=Pt("scale"),C=Pt("sepia"),I=Pt("skew"),M=Pt("space"),A=Pt("translate"),O=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",je,e],H=()=>[je,e],j=()=>["",xs,ho],Z=()=>["auto",Ic,je],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",je],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Ic,je];return{cacheSize:500,separator:":",theme:{colors:[ph],spacing:[xs,ho],blur:["none","",fo,je],brightness:q(),borderColor:[t],borderRadius:["none","","full",fo,je],borderSpacing:H(),borderWidth:j(),contrast:q(),grayscale:W(),hueRotate:q(),invert:W(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[gq,ho],inset:z(),margin:z(),opacity:q(),padding:H(),saturate:q(),scale:q(),sepia:W(),skew:q(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[fo]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),je]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fh,je]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",fh,je]}],"grid-cols":[{"grid-cols":[ph]}],"col-start-end":[{col:["auto",{span:["full",fh,je]},je]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[ph]}],"row-start-end":[{row:["auto",{span:[fh,je]},je]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,e]}],"min-w":[{"min-w":[je,e,"min","max","fit"]}],"max-w":[{"max-w":[je,e,"none","full","min","max","fit","prose",{screen:[fo]},fo]}],h:[{h:[je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fo,ho]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",i6]}],"font-family":[{font:[ph]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",Ic,i6]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xs,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xs,ho]}],"underline-offset":[{"underline-offset":["auto",xs,je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),_q]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[xs,je]}],"outline-w":[{outline:[xs,ho]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[xs,ho]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",fo,wq]}],"shadow-color":[{shadow:[ph]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fo,je]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[fh,je]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xs,ho,i6]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Cq=lq(Lq);function vI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kq(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vI(t))&&(r&&(r+=" "),r+=e);return r}function dw(...t){return Cq(kq(t))}function yI({background:t,className:e,children:n,showRadialGradient:r=!0,...i}){const{newDesign:s}=Qn(o=>o.utils);return s?E.jsxs("main",{className:"fixed w-screen h-screen -z-10",children:[E.jsx("div",{className:"z-40 w-screen h-screen opacity-10 fixed bg-center bg-cover bg-no-repeat inset-0",style:{backgroundRepeat:"repeat",backgroundImage:`url(${t&&t})`}}),E.jsx("div",{class:"fixed w-screen h-screen inset-0 z-10 dark:bg-black/5 bg-[linear-gradient(to_right,rgba(255,255,255,.028)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,.028)_1px,transparent_1px)] bg-[size:4.2rem_4.2rem]"}),E.jsxs("div",{className:dw("fixed inset-0 w-screen h-screen flex flex-col -z-10 items-center justify-center bg-white dark:bg-black transition-bg",e),...i,children:[E.jsx("div",{className:"absolute inset-0 overflow-hidden",children:E.jsx("div",{className:dw(`
            [--dark-gradient:repeating-linear-gradient(110deg,var(--transparent)_0%,var(--black)_7%,var(--transparent)_10%,var(--transparent)_12%,var(--black)_16%)]
            [--aurora:repeating-linear-gradient(110deg,#60a5fa_10%,#e879f9_15%,#60a5fa_20%,#5eead4_25%,#60a5fa_30%)]
            [background-image:var(--dark-gradient),var(--aurora)]
            dark:[background-image:var(--dark-gradient),var(--aurora)]
            [background-size:60%,_70%]
            [background-position:10%_10%,10%_10%]
            filter blur-[40px]
            after:content-[""] after:absolute after:inset-0 after:[background-image:var(--dark-gradient),var(--aurora)] 
            after:dark:[background-image:var(--dark-gradient),var(--aurora)]
            after:[background-size:30%,_80%] 
            after:animate-aurora after:[background-attachment:fixed] after:mix-blend-difference
            pointer-events-none
            absolute -inset-[10px] dark:opacity-40 opacity-70 will-change-transform`,r&&"[mask-image:radial-gradient(ellipse_at_100%_0%,black_10%,var(--transparent)_75%)]")})}),n]})]}):E.jsx(E.Fragment,{})}var L3={},wu={},yf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getColorIndex=t.getColorDiffStatus=t.hexDiff=t.rgbDiff=t.deltaE94=t.rgbToCIELab=t.xyzToCIELab=t.rgbToXyz=t.hslToRgb=t.rgbToHsl=t.rgbToHex=t.hexToRgb=t.defer=t.RSHIFT=t.SIGBITS=t.DELTAE94_DIFF_STATUS=void 0,t.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},t.SIGBITS=5,t.RSHIFT=8-t.SIGBITS;function e(){var g,v,_=new Promise(function(x,b){g=x,v=b});return{resolve:g,reject:v,promise:_}}t.defer=e;function n(g){var v=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(g);return v===null?null:[v[1],v[2],v[3]].map(function(_){return parseInt(_,16)})}t.hexToRgb=n;function r(g,v,_){return"#"+((1<<24)+(g<<16)+(v<<8)+_).toString(16).slice(1,7)}t.rgbToHex=r;function i(g,v,_){g/=255,v/=255,_/=255;var x=Math.max(g,v,_),b=Math.min(g,v,_),w,T,C=(x+b)/2;if(x===b)w=T=0;else{var I=x-b;switch(T=C>.5?I/(2-x-b):I/(x+b),x){case g:w=(v-_)/I+(v<_?6:0);break;case v:w=(_-g)/I+2;break;case _:w=(g-v)/I+4;break}w/=6}return[w,T,C]}t.rgbToHsl=i;function s(g,v,_){var x,b,w;function T(M,A,O){return O<0&&(O+=1),O>1&&(O-=1),O<1/6?M+(A-M)*6*O:O<1/2?A:O<2/3?M+(A-M)*(2/3-O)*6:M}if(v===0)x=b=w=_;else{var C=_<.5?_*(1+v):_+v-_*v,I=2*_-C;x=T(I,C,g+1/3),b=T(I,C,g),w=T(I,C,g-1/3)}return[x*255,b*255,w*255]}t.hslToRgb=s;function o(g,v,_){g/=255,v/=255,_/=255,g=g>.04045?Math.pow((g+.005)/1.055,2.4):g/12.92,v=v>.04045?Math.pow((v+.005)/1.055,2.4):v/12.92,_=_>.04045?Math.pow((_+.005)/1.055,2.4):_/12.92,g*=100,v*=100,_*=100;var x=g*.4124+v*.3576+_*.1805,b=g*.2126+v*.7152+_*.0722,w=g*.0193+v*.1192+_*.9505;return[x,b,w]}t.rgbToXyz=o;function a(g,v,_){var x=95.047,b=100,w=108.883;g/=x,v/=b,_/=w,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,v=v>.008856?Math.pow(v,1/3):7.787*v+16/116,_=_>.008856?Math.pow(_,1/3):7.787*_+16/116;var T=116*v-16,C=500*(g-v),I=200*(v-_);return[T,C,I]}t.xyzToCIELab=a;function l(g,v,_){var x=o(g,v,_),b=x[0],w=x[1],T=x[2];return a(b,w,T)}t.rgbToCIELab=l;function c(g,v){var _=1,x=1,b=1,w=g[0],T=g[1],C=g[2],I=v[0],M=v[1],A=v[2],O=w-I,N=T-M,z=C-A,H=Math.sqrt(T*T+C*C),j=Math.sqrt(M*M+A*A),Z=I-w,te=j-H,G=Math.sqrt(O*O+N*N+z*z),ie=Math.sqrt(G)>Math.sqrt(Math.abs(Z))+Math.sqrt(Math.abs(te))?Math.sqrt(G*G-Z*Z-te*te):0,U=1+.045*H,W=1+.015*H;return Z/=_,te/=x*U,ie/=b*W,Math.sqrt(Z*Z+te*te+ie*ie)}t.deltaE94=c;function h(g,v){var _=l.apply(void 0,g),x=l.apply(void 0,v);return c(_,x)}t.rgbDiff=h;function d(g,v){var _=n(g),x=n(v);return h(_,x)}t.hexDiff=d;function f(g){return g<t.DELTAE94_DIFF_STATUS.NA?"N/A":g<=t.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":g<=t.DELTAE94_DIFF_STATUS.CLOSE?"Close":g<=t.DELTAE94_DIFF_STATUS.GOOD?"Good":g<t.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"}t.getColorDiffStatus=f;function m(g,v,_){return(g<<2*t.SIGBITS)+(v<<t.SIGBITS)+_}t.getColorIndex=m})(yf);function Aq(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var _I=Aq;function Iq(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var Pq=Iq,Rq=Pq,Mq=Rq(),Dq=Mq;function Oq(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Nq=Oq,Fq=typeof Je=="object"&&Je&&Je.Object===Object&&Je,xI=Fq,$q=xI,zq=typeof self=="object"&&self&&self.Object===Object&&self,Bq=$q||zq||Function("return this")(),ds=Bq,Uq=ds,jq=Uq.Symbol,_f=jq,fw=_f,bI=Object.prototype,Vq=bI.hasOwnProperty,Gq=bI.toString,mh=fw?fw.toStringTag:void 0;function Hq(t){var e=Vq.call(t,mh),n=t[mh];try{t[mh]=void 0;var r=!0}catch{}var i=Gq.call(t);return r&&(e?t[mh]=n:delete t[mh]),i}var Wq=Hq,Kq=Object.prototype,qq=Kq.toString;function Yq(t){return qq.call(t)}var Zq=Yq,pw=_f,Xq=Wq,Qq=Zq,Jq="[object Null]",eY="[object Undefined]",mw=pw?pw.toStringTag:void 0;function tY(t){return t==null?t===void 0?eY:Jq:mw&&mw in Object(t)?Xq(t):Qq(t)}var xf=tY;function nY(t){return t!=null&&typeof t=="object"}var El=nY,rY=xf,iY=El,sY="[object Arguments]";function oY(t){return iY(t)&&rY(t)==sY}var aY=oY,gw=aY,lY=El,wI=Object.prototype,cY=wI.hasOwnProperty,uY=wI.propertyIsEnumerable,hY=gw(function(){return arguments}())?gw:function(t){return lY(t)&&cY.call(t,"callee")&&!uY.call(t,"callee")},SI=hY,dY=Array.isArray,fs=dY,Mp={exports:{}};function fY(){return!1}var pY=fY;Mp.exports;(function(t,e){var n=ds,r=pY,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Mp,Mp.exports);var Jy=Mp.exports,mY=9007199254740991,gY=/^(?:0|[1-9]\d*)$/;function vY(t,e){var n=typeof t;return e=e??mY,!!e&&(n=="number"||n!="symbol"&&gY.test(t))&&t>-1&&t%1==0&&t<e}var e4=vY,yY=9007199254740991;function _Y(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yY}var t4=_Y,xY=xf,bY=t4,wY=El,SY="[object Arguments]",EY="[object Array]",TY="[object Boolean]",LY="[object Date]",CY="[object Error]",kY="[object Function]",AY="[object Map]",IY="[object Number]",PY="[object Object]",RY="[object RegExp]",MY="[object Set]",DY="[object String]",OY="[object WeakMap]",NY="[object ArrayBuffer]",FY="[object DataView]",$Y="[object Float32Array]",zY="[object Float64Array]",BY="[object Int8Array]",UY="[object Int16Array]",jY="[object Int32Array]",VY="[object Uint8Array]",GY="[object Uint8ClampedArray]",HY="[object Uint16Array]",WY="[object Uint32Array]",Mt={};Mt[$Y]=Mt[zY]=Mt[BY]=Mt[UY]=Mt[jY]=Mt[VY]=Mt[GY]=Mt[HY]=Mt[WY]=!0;Mt[SY]=Mt[EY]=Mt[NY]=Mt[TY]=Mt[FY]=Mt[LY]=Mt[CY]=Mt[kY]=Mt[AY]=Mt[IY]=Mt[PY]=Mt[RY]=Mt[MY]=Mt[DY]=Mt[OY]=!1;function KY(t){return wY(t)&&bY(t.length)&&!!Mt[xY(t)]}var qY=KY;function YY(t){return function(e){return t(e)}}var n4=YY,Dp={exports:{}};Dp.exports;(function(t,e){var n=xI,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Dp,Dp.exports);var r4=Dp.exports,ZY=qY,XY=n4,vw=r4,yw=vw&&vw.isTypedArray,QY=yw?XY(yw):ZY,EI=QY,JY=Nq,eZ=SI,tZ=fs,nZ=Jy,rZ=e4,iZ=EI,sZ=Object.prototype,oZ=sZ.hasOwnProperty;function aZ(t,e){var n=tZ(t),r=!n&&eZ(t),i=!n&&!r&&nZ(t),s=!n&&!r&&!i&&iZ(t),o=n||r||i||s,a=o?JY(t.length,String):[],l=a.length;for(var c in t)(e||oZ.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||rZ(c,l)))&&a.push(c);return a}var TI=aZ,lZ=Object.prototype;function cZ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||lZ;return t===n}var i4=cZ;function uZ(t,e){return function(n){return t(e(n))}}var LI=uZ,hZ=LI,dZ=hZ(Object.keys,Object),fZ=dZ,pZ=i4,mZ=fZ,gZ=Object.prototype,vZ=gZ.hasOwnProperty;function yZ(t){if(!pZ(t))return mZ(t);var e=[];for(var n in Object(t))vZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var _Z=yZ;function xZ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Tl=xZ,bZ=xf,wZ=Tl,SZ="[object AsyncFunction]",EZ="[object Function]",TZ="[object GeneratorFunction]",LZ="[object Proxy]";function CZ(t){if(!wZ(t))return!1;var e=bZ(t);return e==EZ||e==TZ||e==SZ||e==LZ}var CI=CZ,kZ=CI,AZ=t4;function IZ(t){return t!=null&&AZ(t.length)&&!kZ(t)}var n2=IZ,PZ=TI,RZ=_Z,MZ=n2;function DZ(t){return MZ(t)?PZ(t):RZ(t)}var bf=DZ,OZ=Dq,NZ=bf;function FZ(t,e){return t&&OZ(t,e,NZ)}var $Z=FZ,zZ=n2;function BZ(t,e){return function(n,r){if(n==null)return n;if(!zZ(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var UZ=BZ,jZ=$Z,VZ=UZ,GZ=VZ(jZ),HZ=GZ,WZ=HZ;function KZ(t,e){var n=[];return WZ(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}var qZ=KZ;function YZ(){this.__data__=[],this.size=0}var ZZ=YZ;function XZ(t,e){return t===e||t!==t&&e!==e}var wf=XZ,QZ=wf;function JZ(t,e){for(var n=t.length;n--;)if(QZ(t[n][0],e))return n;return-1}var r2=JZ,eX=r2,tX=Array.prototype,nX=tX.splice;function rX(t){var e=this.__data__,n=eX(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nX.call(e,n,1),--this.size,!0}var iX=rX,sX=r2;function oX(t){var e=this.__data__,n=sX(e,t);return n<0?void 0:e[n][1]}var aX=oX,lX=r2;function cX(t){return lX(this.__data__,t)>-1}var uX=cX,hX=r2;function dX(t,e){var n=this.__data__,r=hX(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var fX=dX,pX=ZZ,mX=iX,gX=aX,vX=uX,yX=fX;function Su(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Su.prototype.clear=pX;Su.prototype.delete=mX;Su.prototype.get=gX;Su.prototype.has=vX;Su.prototype.set=yX;var i2=Su,_X=i2;function xX(){this.__data__=new _X,this.size=0}var bX=xX;function wX(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var SX=wX;function EX(t){return this.__data__.get(t)}var TX=EX;function LX(t){return this.__data__.has(t)}var CX=LX,kX=ds,AX=kX["__core-js_shared__"],IX=AX,s6=IX,_w=function(){var t=/[^.]+$/.exec(s6&&s6.keys&&s6.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function PX(t){return!!_w&&_w in t}var RX=PX,MX=Function.prototype,DX=MX.toString;function OX(t){if(t!=null){try{return DX.call(t)}catch{}try{return t+""}catch{}}return""}var kI=OX,NX=CI,FX=RX,$X=Tl,zX=kI,BX=/[\\^$.*+?()[\]{}|]/g,UX=/^\[object .+?Constructor\]$/,jX=Function.prototype,VX=Object.prototype,GX=jX.toString,HX=VX.hasOwnProperty,WX=RegExp("^"+GX.call(HX).replace(BX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KX(t){if(!$X(t)||FX(t))return!1;var e=NX(t)?WX:UX;return e.test(zX(t))}var qX=KX;function YX(t,e){return t==null?void 0:t[e]}var ZX=YX,XX=qX,QX=ZX;function JX(t,e){var n=QX(t,e);return XX(n)?n:void 0}var Ll=JX,eQ=Ll,tQ=ds,nQ=eQ(tQ,"Map"),s4=nQ,rQ=Ll,iQ=rQ(Object,"create"),s2=iQ,xw=s2;function sQ(){this.__data__=xw?xw(null):{},this.size=0}var oQ=sQ;function aQ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lQ=aQ,cQ=s2,uQ="__lodash_hash_undefined__",hQ=Object.prototype,dQ=hQ.hasOwnProperty;function fQ(t){var e=this.__data__;if(cQ){var n=e[t];return n===uQ?void 0:n}return dQ.call(e,t)?e[t]:void 0}var pQ=fQ,mQ=s2,gQ=Object.prototype,vQ=gQ.hasOwnProperty;function yQ(t){var e=this.__data__;return mQ?e[t]!==void 0:vQ.call(e,t)}var _Q=yQ,xQ=s2,bQ="__lodash_hash_undefined__";function wQ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=xQ&&e===void 0?bQ:e,this}var SQ=wQ,EQ=oQ,TQ=lQ,LQ=pQ,CQ=_Q,kQ=SQ;function Eu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Eu.prototype.clear=EQ;Eu.prototype.delete=TQ;Eu.prototype.get=LQ;Eu.prototype.has=CQ;Eu.prototype.set=kQ;var AQ=Eu,bw=AQ,IQ=i2,PQ=s4;function RQ(){this.size=0,this.__data__={hash:new bw,map:new(PQ||IQ),string:new bw}}var MQ=RQ;function DQ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var OQ=DQ,NQ=OQ;function FQ(t,e){var n=t.__data__;return NQ(e)?n[typeof e=="string"?"string":"hash"]:n.map}var o2=FQ,$Q=o2;function zQ(t){var e=$Q(this,t).delete(t);return this.size-=e?1:0,e}var BQ=zQ,UQ=o2;function jQ(t){return UQ(this,t).get(t)}var VQ=jQ,GQ=o2;function HQ(t){return GQ(this,t).has(t)}var WQ=HQ,KQ=o2;function qQ(t,e){var n=KQ(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var YQ=qQ,ZQ=MQ,XQ=BQ,QQ=VQ,JQ=WQ,eJ=YQ;function Tu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tu.prototype.clear=ZQ;Tu.prototype.delete=XQ;Tu.prototype.get=QQ;Tu.prototype.has=JQ;Tu.prototype.set=eJ;var o4=Tu,tJ=i2,nJ=s4,rJ=o4,iJ=200;function sJ(t,e){var n=this.__data__;if(n instanceof tJ){var r=n.__data__;if(!nJ||r.length<iJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rJ(r)}return n.set(t,e),this.size=n.size,this}var oJ=sJ,aJ=i2,lJ=bX,cJ=SX,uJ=TX,hJ=CX,dJ=oJ;function Lu(t){var e=this.__data__=new aJ(t);this.size=e.size}Lu.prototype.clear=lJ;Lu.prototype.delete=cJ;Lu.prototype.get=uJ;Lu.prototype.has=hJ;Lu.prototype.set=dJ;var a4=Lu,fJ="__lodash_hash_undefined__";function pJ(t){return this.__data__.set(t,fJ),this}var mJ=pJ;function gJ(t){return this.__data__.has(t)}var vJ=gJ,yJ=o4,_J=mJ,xJ=vJ;function Op(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yJ;++e<n;)this.add(t[e])}Op.prototype.add=Op.prototype.push=_J;Op.prototype.has=xJ;var bJ=Op;function wJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var SJ=wJ;function EJ(t,e){return t.has(e)}var TJ=EJ,LJ=bJ,CJ=SJ,kJ=TJ,AJ=1,IJ=2;function PJ(t,e,n,r,i,s){var o=n&AJ,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var d=-1,f=!0,m=n&IJ?new LJ:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var g=t[d],v=e[d];if(r)var _=o?r(v,g,d,e,t,s):r(g,v,d,t,e,s);if(_!==void 0){if(_)continue;f=!1;break}if(m){if(!CJ(e,function(x,b){if(!kJ(m,b)&&(g===x||i(g,x,n,r,s)))return m.push(b)})){f=!1;break}}else if(!(g===v||i(g,v,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var AI=PJ,RJ=ds,MJ=RJ.Uint8Array,II=MJ;function DJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var OJ=DJ;function NJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var FJ=NJ,ww=_f,Sw=II,$J=wf,zJ=AI,BJ=OJ,UJ=FJ,jJ=1,VJ=2,GJ="[object Boolean]",HJ="[object Date]",WJ="[object Error]",KJ="[object Map]",qJ="[object Number]",YJ="[object RegExp]",ZJ="[object Set]",XJ="[object String]",QJ="[object Symbol]",JJ="[object ArrayBuffer]",eee="[object DataView]",Ew=ww?ww.prototype:void 0,o6=Ew?Ew.valueOf:void 0;function tee(t,e,n,r,i,s,o){switch(n){case eee:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case JJ:return!(t.byteLength!=e.byteLength||!s(new Sw(t),new Sw(e)));case GJ:case HJ:case qJ:return $J(+t,+e);case WJ:return t.name==e.name&&t.message==e.message;case YJ:case XJ:return t==e+"";case KJ:var a=BJ;case ZJ:var l=r&jJ;if(a||(a=UJ),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=VJ,o.set(t,e);var h=zJ(a(t),a(e),r,i,s,o);return o.delete(t),h;case QJ:if(o6)return o6.call(t)==o6.call(e)}return!1}var nee=tee;function ree(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var PI=ree,iee=PI,see=fs;function oee(t,e,n){var r=e(t);return see(t)?r:iee(r,n(t))}var RI=oee;function aee(){return[]}var MI=aee,lee=_I,cee=MI,uee=Object.prototype,hee=uee.propertyIsEnumerable,Tw=Object.getOwnPropertySymbols,dee=Tw?function(t){return t==null?[]:(t=Object(t),lee(Tw(t),function(e){return hee.call(t,e)}))}:cee,l4=dee,fee=RI,pee=l4,mee=bf;function gee(t){return fee(t,mee,pee)}var DI=gee,Lw=DI,vee=1,yee=Object.prototype,_ee=yee.hasOwnProperty;function xee(t,e,n,r,i,s){var o=n&vee,a=Lw(t),l=a.length,c=Lw(e),h=c.length;if(l!=h&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:_ee.call(e,f)))return!1}var m=s.get(t),g=s.get(e);if(m&&g)return m==e&&g==t;var v=!0;s.set(t,e),s.set(e,t);for(var _=o;++d<l;){f=a[d];var x=t[f],b=e[f];if(r)var w=o?r(b,x,f,e,t,s):r(x,b,f,t,e,s);if(!(w===void 0?x===b||i(x,b,n,r,s):w)){v=!1;break}_||(_=f=="constructor")}if(v&&!_){var T=t.constructor,C=e.constructor;T!=C&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof C=="function"&&C instanceof C)&&(v=!1)}return s.delete(t),s.delete(e),v}var bee=xee,wee=Ll,See=ds,Eee=wee(See,"DataView"),Tee=Eee,Lee=Ll,Cee=ds,kee=Lee(Cee,"Promise"),Aee=kee,Iee=Ll,Pee=ds,Ree=Iee(Pee,"Set"),Mee=Ree,Dee=Ll,Oee=ds,Nee=Dee(Oee,"WeakMap"),Fee=Nee,j5=Tee,V5=s4,G5=Aee,H5=Mee,W5=Fee,OI=xf,Cu=kI,Cw="[object Map]",$ee="[object Object]",kw="[object Promise]",Aw="[object Set]",Iw="[object WeakMap]",Pw="[object DataView]",zee=Cu(j5),Bee=Cu(V5),Uee=Cu(G5),jee=Cu(H5),Vee=Cu(W5),Aa=OI;(j5&&Aa(new j5(new ArrayBuffer(1)))!=Pw||V5&&Aa(new V5)!=Cw||G5&&Aa(G5.resolve())!=kw||H5&&Aa(new H5)!=Aw||W5&&Aa(new W5)!=Iw)&&(Aa=function(t){var e=OI(t),n=e==$ee?t.constructor:void 0,r=n?Cu(n):"";if(r)switch(r){case zee:return Pw;case Bee:return Cw;case Uee:return kw;case jee:return Aw;case Vee:return Iw}return e});var a2=Aa,a6=a4,Gee=AI,Hee=nee,Wee=bee,Rw=a2,Mw=fs,Dw=Jy,Kee=EI,qee=1,Ow="[object Arguments]",Nw="[object Array]",C3="[object Object]",Yee=Object.prototype,Fw=Yee.hasOwnProperty;function Zee(t,e,n,r,i,s){var o=Mw(t),a=Mw(e),l=o?Nw:Rw(t),c=a?Nw:Rw(e);l=l==Ow?C3:l,c=c==Ow?C3:c;var h=l==C3,d=c==C3,f=l==c;if(f&&Dw(t)){if(!Dw(e))return!1;o=!0,h=!1}if(f&&!h)return s||(s=new a6),o||Kee(t)?Gee(t,e,n,r,i,s):Hee(t,e,l,n,r,i,s);if(!(n&qee)){var m=h&&Fw.call(t,"__wrapped__"),g=d&&Fw.call(e,"__wrapped__");if(m||g){var v=m?t.value():t,_=g?e.value():e;return s||(s=new a6),i(v,_,n,r,s)}}return f?(s||(s=new a6),Wee(t,e,n,r,i,s)):!1}var Xee=Zee,Qee=Xee,$w=El;function NI(t,e,n,r,i){return t===e?!0:t==null||e==null||!$w(t)&&!$w(e)?t!==t&&e!==e:Qee(t,e,n,r,NI,i)}var FI=NI,Jee=a4,ete=FI,tte=1,nte=2;function rte(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Jee;if(r)var f=r(c,h,l,t,e,d);if(!(f===void 0?ete(h,c,tte|nte,r,d):f))return!1}}return!0}var ite=rte,ste=Tl;function ote(t){return t===t&&!ste(t)}var $I=ote,ate=$I,lte=bf;function cte(t){for(var e=lte(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ate(i)]}return e}var ute=cte;function hte(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var zI=hte,dte=ite,fte=ute,pte=zI;function mte(t){var e=fte(t);return e.length==1&&e[0][2]?pte(e[0][0],e[0][1]):function(n){return n===t||dte(n,t,e)}}var gte=mte,vte=xf,yte=El,_te="[object Symbol]";function xte(t){return typeof t=="symbol"||yte(t)&&vte(t)==_te}var c4=xte,bte=fs,wte=c4,Ste=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ete=/^\w*$/;function Tte(t,e){if(bte(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||wte(t)?!0:Ete.test(t)||!Ste.test(t)||e!=null&&t in Object(e)}var u4=Tte,BI=o4,Lte="Expected a function";function h4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Lte);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(h4.Cache||BI),n}h4.Cache=BI;var Cte=h4,kte=Cte,Ate=500;function Ite(t){var e=kte(t,function(r){return n.size===Ate&&n.clear(),r}),n=e.cache;return e}var Pte=Ite,Rte=Pte,Mte=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dte=/\\(\\)?/g,Ote=Rte(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mte,function(n,r,i,s){e.push(i?s.replace(Dte,"$1"):r||n)}),e}),Nte=Ote;function Fte(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var $te=Fte,zw=_f,zte=$te,Bte=fs,Ute=c4,jte=1/0,Bw=zw?zw.prototype:void 0,Uw=Bw?Bw.toString:void 0;function UI(t){if(typeof t=="string")return t;if(Bte(t))return zte(t,UI)+"";if(Ute(t))return Uw?Uw.call(t):"";var e=t+"";return e=="0"&&1/t==-jte?"-0":e}var Vte=UI,Gte=Vte;function Hte(t){return t==null?"":Gte(t)}var Wte=Hte,Kte=fs,qte=u4,Yte=Nte,Zte=Wte;function Xte(t,e){return Kte(t)?t:qte(t,e)?[t]:Yte(Zte(t))}var jI=Xte,Qte=c4,Jte=1/0;function ene(t){if(typeof t=="string"||Qte(t))return t;var e=t+"";return e=="0"&&1/t==-Jte?"-0":e}var l2=ene,tne=jI,nne=l2;function rne(t,e){e=tne(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[nne(e[n++])];return n&&n==r?t:void 0}var VI=rne,ine=VI;function sne(t,e,n){var r=t==null?void 0:ine(t,e);return r===void 0?n:r}var one=sne;function ane(t,e){return t!=null&&e in Object(t)}var lne=ane,cne=jI,une=SI,hne=fs,dne=e4,fne=t4,pne=l2;function mne(t,e,n){e=cne(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=pne(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&fne(i)&&dne(o,i)&&(hne(t)||une(t)))}var gne=mne,vne=lne,yne=gne;function _ne(t,e){return t!=null&&yne(t,e,vne)}var xne=_ne,bne=FI,wne=one,Sne=xne,Ene=u4,Tne=$I,Lne=zI,Cne=l2,kne=1,Ane=2;function Ine(t,e){return Ene(t)&&Tne(e)?Lne(Cne(t),e):function(n){var r=wne(n,t);return r===void 0&&r===e?Sne(n,t):bne(e,r,kne|Ane)}}var Pne=Ine;function Rne(t){return t}var d4=Rne;function Mne(t){return function(e){return e==null?void 0:e[t]}}var Dne=Mne,One=VI;function Nne(t){return function(e){return One(e,t)}}var Fne=Nne,$ne=Dne,zne=Fne,Bne=u4,Une=l2;function jne(t){return Bne(t)?$ne(Une(t)):zne(t)}var Vne=jne,Gne=gte,Hne=Pne,Wne=d4,Kne=fs,qne=Vne;function Yne(t){return typeof t=="function"?t:t==null?Wne:typeof t=="object"?Kne(t)?Hne(t[0],t[1]):Gne(t):qne(t)}var Zne=Yne,Xne=_I,Qne=qZ,Jne=Zne,ere=fs;function tre(t,e){var n=ere(t)?Xne:Qne;return n(t,Jne(e))}var nre=tre;Object.defineProperty(wu,"__esModule",{value:!0});wu.Swatch=void 0;var jw=yf,rre=nre,ire=function(){function t(e,n){this._rgb=e,this._population=n}return t.applyFilter=function(e,n){return typeof n=="function"?rre(e,function(r){var i=r.r,s=r.g,o=r.b;return n(i,s,o,255)}):e},Object.defineProperty(t.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rgb",{get:function(){return this._rgb},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hsl",{get:function(){if(!this._hsl){var e=this._rgb,n=e[0],r=e[1],i=e[2];this._hsl=jw.rgbToHsl(n,r,i)}return this._hsl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hex",{get:function(){if(!this._hex){var e=this._rgb,n=e[0],r=e[1],i=e[2];this._hex=jw.rgbToHex(n,r,i)}return this._hex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"population",{get:function(){return this._population},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},t.prototype.getRgb=function(){return this._rgb},t.prototype.getHsl=function(){return this.hsl},t.prototype.getPopulation=function(){return this._population},t.prototype.getHex=function(){return this.hex},t.prototype.getYiq=function(){if(!this._yiq){var e=this._rgb;this._yiq=(e[0]*299+e[1]*587+e[2]*114)/1e3}return this._yiq},Object.defineProperty(t.prototype,"titleTextColor",{get:function(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor},enumerable:!1,configurable:!0}),t.prototype.getTitleTextColor=function(){return this.titleTextColor},t.prototype.getBodyTextColor=function(){return this.bodyTextColor},t}();wu.Swatch=ire;var k3={};function sre(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var ore=sre,are=Ll,lre=function(){try{var t=are(Object,"defineProperty");return t({},"",{}),t}catch{}}(),GI=lre,Vw=GI;function cre(t,e,n){e=="__proto__"&&Vw?Vw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var HI=cre,ure=HI,hre=wf,dre=Object.prototype,fre=dre.hasOwnProperty;function pre(t,e,n){var r=t[e];(!(fre.call(t,e)&&hre(r,n))||n===void 0&&!(e in t))&&ure(t,e,n)}var WI=pre,mre=WI,gre=HI;function vre(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?gre(n,a,l):mre(n,a,l)}return n}var c2=vre,yre=c2,_re=bf;function xre(t,e){return t&&yre(e,_re(e),t)}var bre=xre;function wre(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Sre=wre,Ere=Tl,Tre=i4,Lre=Sre,Cre=Object.prototype,kre=Cre.hasOwnProperty;function Are(t){if(!Ere(t))return Lre(t);var e=Tre(t),n=[];for(var r in t)r=="constructor"&&(e||!kre.call(t,r))||n.push(r);return n}var Ire=Are,Pre=TI,Rre=Ire,Mre=n2;function Dre(t){return Mre(t)?Pre(t,!0):Rre(t)}var u2=Dre,Ore=c2,Nre=u2;function Fre(t,e){return t&&Ore(e,Nre(e),t)}var $re=Fre,Np={exports:{}};Np.exports;(function(t,e){var n=ds,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}t.exports=l})(Np,Np.exports);var zre=Np.exports;function Bre(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Ure=Bre,jre=c2,Vre=l4;function Gre(t,e){return jre(t,Vre(t),e)}var Hre=Gre,Wre=LI,Kre=Wre(Object.getPrototypeOf,Object),KI=Kre,qre=PI,Yre=KI,Zre=l4,Xre=MI,Qre=Object.getOwnPropertySymbols,Jre=Qre?function(t){for(var e=[];t;)qre(e,Zre(t)),t=Yre(t);return e}:Xre,qI=Jre,eie=c2,tie=qI;function nie(t,e){return eie(t,tie(t),e)}var rie=nie,iie=RI,sie=qI,oie=u2;function aie(t){return iie(t,oie,sie)}var lie=aie,cie=Object.prototype,uie=cie.hasOwnProperty;function hie(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&uie.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var die=hie,Gw=II;function fie(t){var e=new t.constructor(t.byteLength);return new Gw(e).set(new Gw(t)),e}var f4=fie,pie=f4;function mie(t,e){var n=e?pie(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var gie=mie,vie=/\w*$/;function yie(t){var e=new t.constructor(t.source,vie.exec(t));return e.lastIndex=t.lastIndex,e}var _ie=yie,Hw=_f,Ww=Hw?Hw.prototype:void 0,Kw=Ww?Ww.valueOf:void 0;function xie(t){return Kw?Object(Kw.call(t)):{}}var bie=xie,wie=f4;function Sie(t,e){var n=e?wie(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Eie=Sie,Tie=f4,Lie=gie,Cie=_ie,kie=bie,Aie=Eie,Iie="[object Boolean]",Pie="[object Date]",Rie="[object Map]",Mie="[object Number]",Die="[object RegExp]",Oie="[object Set]",Nie="[object String]",Fie="[object Symbol]",$ie="[object ArrayBuffer]",zie="[object DataView]",Bie="[object Float32Array]",Uie="[object Float64Array]",jie="[object Int8Array]",Vie="[object Int16Array]",Gie="[object Int32Array]",Hie="[object Uint8Array]",Wie="[object Uint8ClampedArray]",Kie="[object Uint16Array]",qie="[object Uint32Array]";function Yie(t,e,n){var r=t.constructor;switch(e){case $ie:return Tie(t);case Iie:case Pie:return new r(+t);case zie:return Lie(t,n);case Bie:case Uie:case jie:case Vie:case Gie:case Hie:case Wie:case Kie:case qie:return Aie(t,n);case Rie:return new r;case Mie:case Nie:return new r(t);case Die:return Cie(t);case Oie:return new r;case Fie:return kie(t)}}var Zie=Yie,Xie=Tl,qw=Object.create,Qie=function(){function t(){}return function(e){if(!Xie(e))return{};if(qw)return qw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Jie=Qie,ese=Jie,tse=KI,nse=i4;function rse(t){return typeof t.constructor=="function"&&!nse(t)?ese(tse(t)):{}}var ise=rse,sse=a2,ose=El,ase="[object Map]";function lse(t){return ose(t)&&sse(t)==ase}var cse=lse,use=cse,hse=n4,Yw=r4,Zw=Yw&&Yw.isMap,dse=Zw?hse(Zw):use,fse=dse,pse=a2,mse=El,gse="[object Set]";function vse(t){return mse(t)&&pse(t)==gse}var yse=vse,_se=yse,xse=n4,Xw=r4,Qw=Xw&&Xw.isSet,bse=Qw?xse(Qw):_se,wse=bse,Sse=a4,Ese=ore,Tse=WI,Lse=bre,Cse=$re,kse=zre,Ase=Ure,Ise=Hre,Pse=rie,Rse=DI,Mse=lie,Dse=a2,Ose=die,Nse=Zie,Fse=ise,$se=fs,zse=Jy,Bse=fse,Use=Tl,jse=wse,Vse=bf,Gse=u2,Hse=1,Wse=2,Kse=4,YI="[object Arguments]",qse="[object Array]",Yse="[object Boolean]",Zse="[object Date]",Xse="[object Error]",ZI="[object Function]",Qse="[object GeneratorFunction]",Jse="[object Map]",eoe="[object Number]",XI="[object Object]",toe="[object RegExp]",noe="[object Set]",roe="[object String]",ioe="[object Symbol]",soe="[object WeakMap]",ooe="[object ArrayBuffer]",aoe="[object DataView]",loe="[object Float32Array]",coe="[object Float64Array]",uoe="[object Int8Array]",hoe="[object Int16Array]",doe="[object Int32Array]",foe="[object Uint8Array]",poe="[object Uint8ClampedArray]",moe="[object Uint16Array]",goe="[object Uint32Array]",wt={};wt[YI]=wt[qse]=wt[ooe]=wt[aoe]=wt[Yse]=wt[Zse]=wt[loe]=wt[coe]=wt[uoe]=wt[hoe]=wt[doe]=wt[Jse]=wt[eoe]=wt[XI]=wt[toe]=wt[noe]=wt[roe]=wt[ioe]=wt[foe]=wt[poe]=wt[moe]=wt[goe]=!0;wt[Xse]=wt[ZI]=wt[soe]=!1;function f0(t,e,n,r,i,s){var o,a=e&Hse,l=e&Wse,c=e&Kse;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Use(t))return t;var h=$se(t);if(h){if(o=Ose(t),!a)return Ase(t,o)}else{var d=Dse(t),f=d==ZI||d==Qse;if(zse(t))return kse(t,a);if(d==XI||d==YI||f&&!i){if(o=l||f?{}:Fse(t),!a)return l?Pse(t,Cse(o,t)):Ise(t,Lse(o,t))}else{if(!wt[d])return i?t:{};o=Nse(t,d,a)}}s||(s=new Sse);var m=s.get(t);if(m)return m;s.set(t,o),jse(t)?t.forEach(function(_){o.add(f0(_,e,n,_,t,s))}):Bse(t)&&t.forEach(function(_,x){o.set(x,f0(_,e,n,x,t,s))});var g=c?l?Mse:Rse:l?Gse:Vse,v=h?void 0:g(t);return Ese(v||t,function(_,x){v&&(x=_,_=t[x]),Tse(o,x,f0(_,e,n,x,t,s))}),o}var voe=f0,yoe=voe,_oe=4;function xoe(t){return yoe(t,_oe)}var boe=xoe,Jw;function woe(){if(Jw)return k3;Jw=1;var t=Je&&Je.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(k3,"__esModule",{value:!0});var e=t(iP()),n=boe,r=function(){function i(s,o){o===void 0&&(o={}),this._src=s,this._opts=o,this._opts.filters=n(e.default.DefaultOpts.filters)}return i.prototype.maxColorCount=function(s){return this._opts.colorCount=s,this},i.prototype.maxDimension=function(s){return this._opts.maxDimension=s,this},i.prototype.addFilter=function(s){return this._opts.filters.push(s),this},i.prototype.removeFilter=function(s){var o=this._opts.filters.indexOf(s);return o>0&&this._opts.filters.splice(o),this},i.prototype.clearFilters=function(){return this._opts.filters=[],this},i.prototype.quality=function(s){return this._opts.quality=s,this},i.prototype.useImageClass=function(s){return this._opts.ImageClass=s,this},i.prototype.useGenerator=function(s){return this._opts.generator=s,this},i.prototype.useQuantizer=function(s){return this._opts.quantizer=s,this},i.prototype.build=function(){return new e.default(this._src,this._opts)},i.prototype.getPalette=function(s){return this.build().getPalette(s)},i.prototype.getSwatches=function(s){return this.build().getPalette(s)},i}();return k3.default=r,k3}var QI={},p4={},m4={};Object.defineProperty(m4,"__esModule",{value:!0});var dr=yf,Soe=function(){function t(e,n,r,i,s,o,a){this._volume=-1,this._count=-1,this.dimension={r1:e,r2:n,g1:r,g2:i,b1:s,b2:o},this.hist=a}return t.build=function(e,n){var r=1<<3*dr.SIGBITS,i=new Uint32Array(r),s,o,a,l,c,h,d,f,m,g;s=a=c=0,o=l=h=Number.MAX_VALUE;for(var v=e.length/4,_=0;_<v;){var x=_*4;if(_++,d=e[x+0],f=e[x+1],m=e[x+2],g=e[x+3],g!==0){d=d>>dr.RSHIFT,f=f>>dr.RSHIFT,m=m>>dr.RSHIFT;var b=dr.getColorIndex(d,f,m);i[b]+=1,d>s&&(s=d),d<o&&(o=d),f>a&&(a=f),f<l&&(l=f),m>c&&(c=m),m<h&&(h=m)}}return new t(o,s,l,a,h,c,i)},t.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},t.prototype.volume=function(){if(this._volume<0){var e=this.dimension,n=e.r1,r=e.r2,i=e.g1,s=e.g2,o=e.b1,a=e.b2;this._volume=(r-n+1)*(s-i+1)*(a-o+1)}return this._volume},t.prototype.count=function(){if(this._count<0){for(var e=this.hist,n=this.dimension,r=n.r1,i=n.r2,s=n.g1,o=n.g2,a=n.b1,l=n.b2,c=0,h=r;h<=i;h++)for(var d=s;d<=o;d++)for(var f=a;f<=l;f++){var m=dr.getColorIndex(h,d,f);c+=e[m]}this._count=c}return this._count},t.prototype.clone=function(){var e=this.hist,n=this.dimension,r=n.r1,i=n.r2,s=n.g1,o=n.g2,a=n.b1,l=n.b2;return new t(r,i,s,o,a,l,e)},t.prototype.avg=function(){if(!this._avg){var e=this.hist,n=this.dimension,r=n.r1,i=n.r2,s=n.g1,o=n.g2,a=n.b1,l=n.b2,c=0,h=1<<8-dr.SIGBITS,d=void 0,f=void 0,m=void 0;d=f=m=0;for(var g=r;g<=i;g++)for(var v=s;v<=o;v++)for(var _=a;_<=l;_++){var x=dr.getColorIndex(g,v,_),b=e[x];c+=b,d+=b*(g+.5)*h,f+=b*(v+.5)*h,m+=b*(_+.5)*h}c?this._avg=[~~(d/c),~~(f/c),~~(m/c)]:this._avg=[~~(h*(r+i+1)/2),~~(h*(s+o+1)/2),~~(h*(a+l+1)/2)]}return this._avg},t.prototype.contains=function(e){var n=e[0],r=e[1],i=e[2],s=this.dimension,o=s.r1,a=s.r2,l=s.g1,c=s.g2,h=s.b1,d=s.b2;return n>>=dr.RSHIFT,r>>=dr.RSHIFT,i>>=dr.RSHIFT,n>=o&&n<=a&&r>=l&&r<=c&&i>=h&&i<=d},t.prototype.split=function(){var e=this.hist,n=this.dimension,r=n.r1,i=n.r2,s=n.g1,o=n.g2,a=n.b1,l=n.b2,c=this.count();if(!c)return[];if(c===1)return[this.clone()];var h=i-r+1,d=o-s+1,f=l-a+1,m=Math.max(h,d,f),g=null,v,_;v=_=0;var x=null;if(m===h){x="r",g=new Uint32Array(i+1);for(var b=r;b<=i;b++){v=0;for(var w=s;w<=o;w++)for(var T=a;T<=l;T++){var C=dr.getColorIndex(b,w,T);v+=e[C]}_+=v,g[b]=_}}else if(m===d){x="g",g=new Uint32Array(o+1);for(var w=s;w<=o;w++){v=0;for(var b=r;b<=i;b++)for(var T=a;T<=l;T++){var C=dr.getColorIndex(b,w,T);v+=e[C]}_+=v,g[w]=_}}else{x="b",g=new Uint32Array(l+1);for(var T=a;T<=l;T++){v=0;for(var b=r;b<=i;b++)for(var w=s;w<=o;w++){var C=dr.getColorIndex(b,w,T);v+=e[C]}_+=v,g[T]=_}}for(var I=-1,M=new Uint32Array(g.length),A=0;A<g.length;A++){var O=g[A];I<0&&O>_/2&&(I=A),M[A]=_-O}var N=this;function z(H){var j=H+"1",Z=H+"2",te=N.dimension[j],G=N.dimension[Z],ie=N.clone(),U=N.clone(),W=I-te,F=G-I;for(W<=F?(G=Math.min(G-1,~~(I+F/2)),G=Math.max(0,G)):(G=Math.max(te,~~(I-1-W/2)),G=Math.min(N.dimension[Z],G));!g[G];)G++;for(var q=M[G];!q&&g[G-1];)q=M[--G];return ie.dimension[Z]=G,U.dimension[j]=G+1,[ie,U]}return z(x)},t}();m4.default=Soe;var g4={};Object.defineProperty(g4,"__esModule",{value:!0});var Eoe=function(){function t(e){this._comparator=e,this.contents=[],this._sorted=!1}return t.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},t.prototype.push=function(e){this.contents.push(e),this._sorted=!1},t.prototype.peek=function(e){return this._sort(),e=typeof e=="number"?e:this.contents.length-1,this.contents[e]},t.prototype.pop=function(){return this._sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(e){return this._sort(),this.contents.map(e)},t}();g4.default=Eoe;var JI=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(p4,"__esModule",{value:!0});var Toe=wu,Loe=JI(m4),eS=JI(g4),Coe=.75;function tS(t,e){for(var n=t.size();t.size()<e;){var r=t.pop();if(r&&r.count()>0){var i=r.split(),s=i[0],o=i[1];if(t.push(s),o&&o.count()>0&&t.push(o),t.size()===n)break;n=t.size()}else break}}var koe=function(t,e){if(t.length===0||e.colorCount<2||e.colorCount>256)throw new Error("Wrong MMCQ parameters");var n=Loe.default.build(t),r=n.hist;Object.keys(r).length;var i=new eS.default(function(o,a){return o.count()-a.count()});i.push(n),tS(i,Coe*e.colorCount);var s=new eS.default(function(o,a){return o.count()*o.volume()-a.count()*a.volume()});return s.contents=i.contents,tS(s,e.colorCount-s.size()),Aoe(s)};function Aoe(t){for(var e=[];t.size();){var n=t.pop(),r=n.avg();r[0],r[1],r[2],e.push(new Toe.Swatch(r,n.count()))}return e}p4.default=koe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebWorker=void 0;var e=p4;Object.defineProperty(t,"MMCQ",{enumerable:!0,get:function(){return e.default}}),t.WebWorker=null})(QI);var eP={},v4={};function Ioe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Poe=Ioe,Roe=Poe,nS=Math.max;function Moe(t,e,n){return e=nS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=nS(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Roe(t,this,a)}}var Doe=Moe;function Ooe(t){return function(){return t}}var Noe=Ooe,Foe=Noe,rS=GI,$oe=d4,zoe=rS?function(t,e){return rS(t,"toString",{configurable:!0,enumerable:!1,value:Foe(e),writable:!0})}:$oe,Boe=zoe,Uoe=800,joe=16,Voe=Date.now;function Goe(t){var e=0,n=0;return function(){var r=Voe(),i=joe-(r-n);if(n=r,i>0){if(++e>=Uoe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Hoe=Goe,Woe=Boe,Koe=Hoe,qoe=Koe(Woe),Yoe=qoe,Zoe=d4,Xoe=Doe,Qoe=Yoe;function Joe(t,e){return Qoe(Xoe(t,e,Zoe),t+"")}var eae=Joe,tae=wf,nae=n2,rae=e4,iae=Tl;function sae(t,e,n){if(!iae(n))return!1;var r=typeof e;return(r=="number"?nae(n)&&rae(e,n.length):r=="string"&&e in n)?tae(n[e],t):!1}var oae=sae,aae=eae,lae=wf,cae=oae,uae=u2,tP=Object.prototype,hae=tP.hasOwnProperty,dae=aae(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&cae(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=uae(s),a=-1,l=o.length;++a<l;){var c=o[a],h=t[c];(h===void 0||lae(h,tP[c])&&!hae.call(t,c))&&(t[c]=s[c])}return t}),nP=dae;Object.defineProperty(v4,"__esModule",{value:!0});var bs=wu,ws=yf,fae=nP,pae={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function mae(t){var e=0;return t.forEach(function(n){e=Math.max(e,n.getPopulation())}),e}function gae(t,e){return t.Vibrant===e||t.DarkVibrant===e||t.LightVibrant===e||t.Muted===e||t.DarkMuted===e||t.LightMuted===e}function vae(t,e,n,r,i,s,o){function a(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];for(var d=0,f=0,m=0;m<c.length;m+=2){var g=c[m],v=c[m+1];d+=g*v,f+=v}return d/f}function l(c,h){return 1-Math.abs(c-h)}return a(l(t,e),o.weightSaturation,l(n,r),o.weightLuma,i/s,o.weightPopulation)}function jl(t,e,n,r,i,s,o,a,l,c){var h=null,d=0;return e.forEach(function(f){var m=f.getHsl(),g=m[1],v=m[2];if(g>=a&&g<=l&&v>=i&&v<=s&&!gae(t,f)){var _=vae(g,o,v,r,f.getPopulation(),n,c);(h===null||_>d)&&(h=f,d=_)}}),h}function yae(t,e,n){var r={};return r.Vibrant=jl(r,t,e,n.targetNormalLuma,n.minNormalLuma,n.maxNormalLuma,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),r.LightVibrant=jl(r,t,e,n.targetLightLuma,n.minLightLuma,1,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),r.DarkVibrant=jl(r,t,e,n.targetDarkLuma,0,n.maxDarkLuma,n.targetVibrantSaturation,n.minVibrantSaturation,1,n),r.Muted=jl(r,t,e,n.targetNormalLuma,n.minNormalLuma,n.maxNormalLuma,n.targetMutesSaturation,0,n.maxMutesSaturation,n),r.LightMuted=jl(r,t,e,n.targetLightLuma,n.minLightLuma,1,n.targetMutesSaturation,0,n.maxMutesSaturation,n),r.DarkMuted=jl(r,t,e,n.targetDarkLuma,0,n.maxDarkLuma,n.targetMutesSaturation,0,n.maxMutesSaturation,n),r}function _ae(t,e,n){if(t.Vibrant===null&&t.DarkVibrant===null&&t.LightVibrant===null){if(t.DarkVibrant===null&&t.DarkMuted!==null){var r=t.DarkMuted.getHsl(),i=r[0],s=r[1],o=r[2];o=n.targetDarkLuma,t.DarkVibrant=new bs.Swatch(ws.hslToRgb(i,s,o),0)}if(t.LightVibrant===null&&t.LightMuted!==null){var a=t.LightMuted.getHsl(),i=a[0],s=a[1],o=a[2];o=n.targetDarkLuma,t.DarkVibrant=new bs.Swatch(ws.hslToRgb(i,s,o),0)}}if(t.Vibrant===null&&t.DarkVibrant!==null){var l=t.DarkVibrant.getHsl(),i=l[0],s=l[1],o=l[2];o=n.targetNormalLuma,t.Vibrant=new bs.Swatch(ws.hslToRgb(i,s,o),0)}else if(t.Vibrant===null&&t.LightVibrant!==null){var c=t.LightVibrant.getHsl(),i=c[0],s=c[1],o=c[2];o=n.targetNormalLuma,t.Vibrant=new bs.Swatch(ws.hslToRgb(i,s,o),0)}if(t.DarkVibrant===null&&t.Vibrant!==null){var h=t.Vibrant.getHsl(),i=h[0],s=h[1],o=h[2];o=n.targetDarkLuma,t.DarkVibrant=new bs.Swatch(ws.hslToRgb(i,s,o),0)}if(t.LightVibrant===null&&t.Vibrant!==null){var d=t.Vibrant.getHsl(),i=d[0],s=d[1],o=d[2];o=n.targetLightLuma,t.LightVibrant=new bs.Swatch(ws.hslToRgb(i,s,o),0)}if(t.Muted===null&&t.Vibrant!==null){var f=t.Vibrant.getHsl(),i=f[0],s=f[1],o=f[2];o=n.targetMutesSaturation,t.Muted=new bs.Swatch(ws.hslToRgb(i,s,o),0)}if(t.DarkMuted===null&&t.DarkVibrant!==null){var m=t.DarkVibrant.getHsl(),i=m[0],s=m[1],o=m[2];o=n.targetMutesSaturation,t.DarkMuted=new bs.Swatch(ws.hslToRgb(i,s,o),0)}if(t.LightMuted===null&&t.LightVibrant!==null){var g=t.LightVibrant.getHsl(),i=g[0],s=g[1],o=g[2];o=n.targetMutesSaturation,t.LightMuted=new bs.Swatch(ws.hslToRgb(i,s,o),0)}}var xae=function(t,e){e=fae({},e,pae);var n=mae(t),r=yae(t,n,e);return _ae(r,n,e),r};v4.default=xae;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=v4;Object.defineProperty(t,"Default",{enumerable:!0,get:function(){return e.default}})})(eP);var rP={},y4={};Object.defineProperty(y4,"__esModule",{value:!0});function bae(t,e,n,r){return r>=125&&!(t>250&&e>250&&n>250)}y4.default=bae;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.combineFilters=void 0;var e=y4;Object.defineProperty(t,"Default",{enumerable:!0,get:function(){return e.default}});function n(r){return!Array.isArray(r)||r.length===0?null:function(i,s,o,a){if(a===0)return!1;for(var l=0;l<r.length;l++)if(!r[l](i,s,o,a))return!1;return!0}}t.combineFilters=n})(rP);var iS;function iP(){if(iS)return L3;iS=1;var t=Je&&Je.__createBinding||(Object.create?function(f,m,g,v){v===void 0&&(v=g),Object.defineProperty(f,v,{enumerable:!0,get:function(){return m[g]}})}:function(f,m,g,v){v===void 0&&(v=g),f[v]=m[g]}),e=Je&&Je.__setModuleDefault||(Object.create?function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}:function(f,m){f.default=m}),n=Je&&Je.__importStar||function(f){if(f&&f.__esModule)return f;var m={};if(f!=null)for(var g in f)g!=="default"&&Object.hasOwnProperty.call(f,g)&&t(m,f,g);return e(m,f),m},r=Je&&Je.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(L3,"__esModule",{value:!0});var i=wu,s=r(woe()),o=n(yf),a=n(QI),l=n(eP),c=n(rP),h=nP,d=function(){function f(m,g){this._src=m,this.opts=h({},g,f.DefaultOpts),this.opts.combinedFilter=c.combineFilters(this.opts.filters)}return f.from=function(m){return new s.default(m)},f.prototype._process=function(m,g){var v=g.quantizer,_=g.generator;return m.scaleDown(g),m.applyFilter(g.combinedFilter).then(function(x){return v(x.data,g)}).then(function(x){return i.Swatch.applyFilter(x,g.combinedFilter)}).then(function(x){return Promise.resolve(_(x))})},f.prototype.palette=function(){return this.swatches()},f.prototype.swatches=function(){return this._palette},f.prototype.getPalette=function(m){var g=this,v=new this.opts.ImageClass,_=v.load(this._src).then(function(x){return g._process(x,g.opts)}).then(function(x){return g._palette=x,v.remove(),x},function(x){throw v.remove(),x});return m&&_.then(function(x){return m(null,x)},function(x){return m(x)}),_},f.Builder=s.default,f.Quantizer=a,f.Generator=l,f.Filter=c,f.Util=o,f.Swatch=i.Swatch,f.DefaultOpts={colorCount:64,quality:5,generator:l.Default,ImageClass:null,quantizer:a.MMCQ,filters:[c.Default]},f}();return L3.default=d,L3}var _4={},h2={};Object.defineProperty(h2,"__esModule",{value:!0});h2.ImageBase=void 0;var wae=function(){function t(){}return t.prototype.scaleDown=function(e){var n=this.getWidth(),r=this.getHeight(),i=1;if(e.maxDimension>0){var s=Math.max(n,r);s>e.maxDimension&&(i=e.maxDimension/s)}else i=1/e.quality;i<1&&this.resize(n*i,r*i,i)},t.prototype.applyFilter=function(e){var n=this.getImageData();if(typeof e=="function")for(var r=n.data,i=r.length/4,s=void 0,o=void 0,a=void 0,l=void 0,c=void 0,h=0;h<i;h++)s=h*4,o=r[s+0],a=r[s+1],l=r[s+2],c=r[s+3],e(o,a,l,c)||(r[s+3]=0);return Promise.resolve(n)},t}();h2.ImageBase=wae;var ku={},Fp={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Fp.exports;(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Je=="object"&&Je;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,c=1,h=26,d=38,f=700,m=72,g=128,v="-",_=/^xn--/,x=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=l-c,C=Math.floor,I=String.fromCharCode,M;function A(F){throw new RangeError(w[F])}function O(F,q){for(var re=F.length,le=[];re--;)le[re]=q(F[re]);return le}function N(F,q){var re=F.split("@"),le="";re.length>1&&(le=re[0]+"@",F=re[1]),F=F.replace(b,".");var he=F.split("."),de=O(he,q).join(".");return le+de}function z(F){for(var q=[],re=0,le=F.length,he,de;re<le;)he=F.charCodeAt(re++),he>=55296&&he<=56319&&re<le?(de=F.charCodeAt(re++),(de&64512)==56320?q.push(((he&1023)<<10)+(de&1023)+65536):(q.push(he),re--)):q.push(he);return q}function H(F){return O(F,function(q){var re="";return q>65535&&(q-=65536,re+=I(q>>>10&1023|55296),q=56320|q&1023),re+=I(q),re}).join("")}function j(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:l}function Z(F,q){return F+22+75*(F<26)-((q!=0)<<5)}function te(F,q,re){var le=0;for(F=re?C(F/f):F>>1,F+=C(F/q);F>T*h>>1;le+=l)F=C(F/T);return C(le+(T+1)*F/(F+d))}function G(F){var q=[],re=F.length,le,he=0,de=g,ce=m,Se,Xe,Qt,$t,At,Pe,De,Oe,Ge;for(Se=F.lastIndexOf(v),Se<0&&(Se=0),Xe=0;Xe<Se;++Xe)F.charCodeAt(Xe)>=128&&A("not-basic"),q.push(F.charCodeAt(Xe));for(Qt=Se>0?Se+1:0;Qt<re;){for($t=he,At=1,Pe=l;Qt>=re&&A("invalid-input"),De=j(F.charCodeAt(Qt++)),(De>=l||De>C((a-he)/At))&&A("overflow"),he+=De*At,Oe=Pe<=ce?c:Pe>=ce+h?h:Pe-ce,!(De<Oe);Pe+=l)Ge=l-Oe,At>C(a/Ge)&&A("overflow"),At*=Ge;le=q.length+1,ce=te(he-$t,le,$t==0),C(he/le)>a-de&&A("overflow"),de+=C(he/le),he%=le,q.splice(he++,0,de)}return H(q)}function ie(F){var q,re,le,he,de,ce,Se,Xe,Qt,$t,At,Pe=[],De,Oe,Ge,nn;for(F=z(F),De=F.length,q=g,re=0,de=m,ce=0;ce<De;++ce)At=F[ce],At<128&&Pe.push(I(At));for(le=he=Pe.length,he&&Pe.push(v);le<De;){for(Se=a,ce=0;ce<De;++ce)At=F[ce],At>=q&&At<Se&&(Se=At);for(Oe=le+1,Se-q>C((a-re)/Oe)&&A("overflow"),re+=(Se-q)*Oe,q=Se,ce=0;ce<De;++ce)if(At=F[ce],At<q&&++re>a&&A("overflow"),At==q){for(Xe=re,Qt=l;$t=Qt<=de?c:Qt>=de+h?h:Qt-de,!(Xe<$t);Qt+=l)nn=Xe-$t,Ge=l-$t,Pe.push(I(Z($t+nn%Ge,0))),Xe=C(nn/Ge);Pe.push(I(Z(Xe,0))),de=te(re,Oe,le==he),re=0,++le}++re,++q}return Pe.join("")}function U(F){return N(F,function(q){return _.test(q)?G(q.slice(4).toLowerCase()):q})}function W(F){return N(F,function(q){return x.test(q)?"xn--"+ie(q):q})}if(o={version:"1.4.1",ucs2:{decode:z,encode:H},decode:G,encode:ie,toASCII:W,toUnicode:U},r&&i)if(t.exports==r)i.exports=o;else for(M in o)o.hasOwnProperty(M)&&(r[M]=o[M]);else n.punycode=o})(Je)})(Fp,Fp.exports);var Sae=Fp.exports,Eae=Error,Tae=EvalError,Lae=RangeError,Cae=ReferenceError,sP=SyntaxError,Sf=TypeError,kae=URIError,Aae=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0},sS=typeof Symbol<"u"&&Symbol,Iae=Aae,Pae=function(){return typeof sS!="function"||typeof Symbol!="function"||typeof sS("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Iae()},l6={__proto__:null,foo:{}},Rae=Object,Mae=function(){return{__proto__:l6}.foo===l6.foo&&!(l6 instanceof Rae)},Dae="Function.prototype.bind called on incompatible ",Oae=Object.prototype.toString,Nae=Math.max,Fae="[object Function]",oS=function(e,n){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var s=0;s<n.length;s+=1)r[s+e.length]=n[s];return r},$ae=function(e,n){for(var r=[],i=n,s=0;i<e.length;i+=1,s+=1)r[s]=e[i];return r},zae=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},Bae=function(e){var n=this;if(typeof n!="function"||Oae.apply(n)!==Fae)throw new TypeError(Dae+n);for(var r=$ae(arguments,1),i,s=function(){if(this instanceof i){var h=n.apply(this,oS(r,arguments));return Object(h)===h?h:this}return n.apply(e,oS(r,arguments))},o=Nae(0,n.length-r.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+zae(a,",")+"){ return binder.apply(this,arguments); }")(s),n.prototype){var c=function(){};c.prototype=n.prototype,i.prototype=new c,c.prototype=null}return i},Uae=Bae,x4=Function.prototype.bind||Uae,jae=Function.prototype.call,Vae=Object.prototype.hasOwnProperty,Gae=x4,Hae=Gae.call(jae,Vae),Qe,Wae=Eae,Kae=Tae,qae=Lae,Yae=Cae,Qc=sP,Pc=Sf,Zae=kae,oP=Function,c6=function(t){try{return oP('"use strict"; return ('+t+").constructor;")()}catch{}},Ka=Object.getOwnPropertyDescriptor;if(Ka)try{Ka({},"")}catch{Ka=null}var u6=function(){throw new Pc},Xae=Ka?function(){try{return arguments.callee,u6}catch{try{return Ka(arguments,"callee").get}catch{return u6}}}():u6,Vl=Pae(),Qae=Mae(),bn=Object.getPrototypeOf||(Qae?function(t){return t.__proto__}:null),Jl={},Jae=typeof Uint8Array>"u"||!bn?Qe:bn(Uint8Array),qa={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Qe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Qe:ArrayBuffer,"%ArrayIteratorPrototype%":Vl&&bn?bn([][Symbol.iterator]()):Qe,"%AsyncFromSyncIteratorPrototype%":Qe,"%AsyncFunction%":Jl,"%AsyncGenerator%":Jl,"%AsyncGeneratorFunction%":Jl,"%AsyncIteratorPrototype%":Jl,"%Atomics%":typeof Atomics>"u"?Qe:Atomics,"%BigInt%":typeof BigInt>"u"?Qe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Qe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Qe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Qe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Wae,"%eval%":eval,"%EvalError%":Kae,"%Float32Array%":typeof Float32Array>"u"?Qe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Qe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Qe:FinalizationRegistry,"%Function%":oP,"%GeneratorFunction%":Jl,"%Int8Array%":typeof Int8Array>"u"?Qe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Qe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Qe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Vl&&bn?bn(bn([][Symbol.iterator]())):Qe,"%JSON%":typeof JSON=="object"?JSON:Qe,"%Map%":typeof Map>"u"?Qe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Vl||!bn?Qe:bn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Qe:Promise,"%Proxy%":typeof Proxy>"u"?Qe:Proxy,"%RangeError%":qae,"%ReferenceError%":Yae,"%Reflect%":typeof Reflect>"u"?Qe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Qe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Vl||!bn?Qe:bn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Qe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Vl&&bn?bn(""[Symbol.iterator]()):Qe,"%Symbol%":Vl?Symbol:Qe,"%SyntaxError%":Qc,"%ThrowTypeError%":Xae,"%TypedArray%":Jae,"%TypeError%":Pc,"%Uint8Array%":typeof Uint8Array>"u"?Qe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Qe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Qe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Qe:Uint32Array,"%URIError%":Zae,"%WeakMap%":typeof WeakMap>"u"?Qe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Qe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Qe:WeakSet};if(bn)try{null.error}catch(t){var ele=bn(bn(t));qa["%Error.prototype%"]=ele}var tle=function t(e){var n;if(e==="%AsyncFunction%")n=c6("async function () {}");else if(e==="%GeneratorFunction%")n=c6("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=c6("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&bn&&(n=bn(i.prototype))}return qa[e]=n,n},aS={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ef=x4,$p=Hae,nle=Ef.call(Function.call,Array.prototype.concat),rle=Ef.call(Function.apply,Array.prototype.splice),lS=Ef.call(Function.call,String.prototype.replace),zp=Ef.call(Function.call,String.prototype.slice),ile=Ef.call(Function.call,RegExp.prototype.exec),sle=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ole=/\\(\\)?/g,ale=function(e){var n=zp(e,0,1),r=zp(e,-1);if(n==="%"&&r!=="%")throw new Qc("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Qc("invalid intrinsic syntax, expected opening `%`");var i=[];return lS(e,sle,function(s,o,a,l){i[i.length]=a?lS(l,ole,"$1"):o||s}),i},lle=function(e,n){var r=e,i;if($p(aS,r)&&(i=aS[r],r="%"+i[0]+"%"),$p(qa,r)){var s=qa[r];if(s===Jl&&(s=tle(r)),typeof s>"u"&&!n)throw new Pc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new Qc("intrinsic "+e+" does not exist!")},Au=function(e,n){if(typeof e!="string"||e.length===0)throw new Pc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Pc('"allowMissing" argument must be a boolean');if(ile(/^%?[^%]*%?$/,e)===null)throw new Qc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=ale(e),i=r.length>0?r[0]:"",s=lle("%"+i+"%",n),o=s.name,a=s.value,l=!1,c=s.alias;c&&(i=c[0],rle(r,nle([0,1],c)));for(var h=1,d=!0;h<r.length;h+=1){var f=r[h],m=zp(f,0,1),g=zp(f,-1);if((m==='"'||m==="'"||m==="`"||g==='"'||g==="'"||g==="`")&&m!==g)throw new Qc("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),i+="."+f,o="%"+i+"%",$p(qa,o))a=qa[o];else if(a!=null){if(!(f in a)){if(!n)throw new Pc("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ka&&h+1>=r.length){var v=Ka(a,f);d=!!v,d&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[f]}else d=$p(a,f),a=a[f];d&&!l&&(qa[o]=a)}}return a},aP={exports:{}},h6,cS;function b4(){if(cS)return h6;cS=1;var t=Au,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return h6=e,h6}var cle=Au,p0=cle("%Object.getOwnPropertyDescriptor%",!0);if(p0)try{p0([],"length")}catch{p0=null}var lP=p0,uS=b4(),ule=sP,Gl=Sf,hS=lP,hle=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Gl("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Gl("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Gl("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Gl("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Gl("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Gl("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!hS&&hS(e,n);if(uS)uS(e,n,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:r,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)e[n]=r;else throw new ule("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},K5=b4(),cP=function(){return!!K5};cP.hasArrayLengthDefineBug=function(){if(!K5)return null;try{return K5([],"length",{value:1}).length!==1}catch{return!0}};var dle=cP,fle=Au,dS=hle,ple=dle(),fS=lP,pS=Sf,mle=fle("%Math.floor%"),gle=function(e,n){if(typeof e!="function")throw new pS("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||mle(n)!==n)throw new pS("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&fS){var o=fS(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!r)&&(ple?dS(e,"length",n,!0,!0):dS(e,"length",n)),e};(function(t){var e=x4,n=Au,r=gle,i=Sf,s=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||e.call(o,s),l=b4(),c=n("%Math.max%");t.exports=function(f){if(typeof f!="function")throw new i("a function is required");var m=a(e,o,arguments);return r(m,1+c(0,f.length-(arguments.length-1)),!0)};var h=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h})(aP);var vle=aP.exports,uP=Au,hP=vle,yle=hP(uP("String.prototype.indexOf")),_le=function(e,n){var r=uP(e,!!n);return typeof r=="function"&&yle(e,".prototype.")>-1?hP(r):r};const xle={},ble=Object.freeze(Object.defineProperty({__proto__:null,default:xle},Symbol.toStringTag,{value:"Module"})),wle=ov(ble);var w4=typeof Map=="function"&&Map.prototype,d6=Object.getOwnPropertyDescriptor&&w4?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Bp=w4&&d6&&typeof d6.get=="function"?d6.get:null,mS=w4&&Map.prototype.forEach,S4=typeof Set=="function"&&Set.prototype,f6=Object.getOwnPropertyDescriptor&&S4?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Up=S4&&f6&&typeof f6.get=="function"?f6.get:null,gS=S4&&Set.prototype.forEach,Sle=typeof WeakMap=="function"&&WeakMap.prototype,Zh=Sle?WeakMap.prototype.has:null,Ele=typeof WeakSet=="function"&&WeakSet.prototype,Xh=Ele?WeakSet.prototype.has:null,Tle=typeof WeakRef=="function"&&WeakRef.prototype,vS=Tle?WeakRef.prototype.deref:null,Lle=Boolean.prototype.valueOf,Cle=Object.prototype.toString,kle=Function.prototype.toString,Ale=String.prototype.match,E4=String.prototype.slice,ko=String.prototype.replace,Ile=String.prototype.toUpperCase,yS=String.prototype.toLowerCase,dP=RegExp.prototype.test,_S=Array.prototype.concat,Zi=Array.prototype.join,Ple=Array.prototype.slice,xS=Math.floor,q5=typeof BigInt=="function"?BigInt.prototype.valueOf:null,p6=Object.getOwnPropertySymbols,Y5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Jn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Jc||!0)?Symbol.toStringTag:null,fP=Object.prototype.propertyIsEnumerable,bS=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function wS(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||dP.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-xS(-t):xS(t);if(r!==t){var i=String(r),s=E4.call(e,i.length+1);return ko.call(i,n,"$&_")+"."+ko.call(ko.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ko.call(e,n,"$&_")}var Z5=wle,SS=Z5.custom,ES=mP(SS)?SS:null,Rle=function t(e,n,r,i){var s=n||{};if(xo(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(xo(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=xo(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(xo(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(xo(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return vP(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?wS(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?wS(e,c):c}var h=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=h&&h>0&&typeof e=="object")return X5(e)?"[Array]":"[Object]";var d=Zle(s,r);if(typeof i>"u")i=[];else if(gP(i,e)>=0)return"[Circular]";function f(j,Z,te){if(Z&&(i=Ple.call(i),i.push(Z)),te){var G={depth:s.depth};return xo(s,"quoteStyle")&&(G.quoteStyle=s.quoteStyle),t(j,G,r+1,i)}return t(j,s,r+1,i)}if(typeof e=="function"&&!TS(e)){var m=Ule(e),g=A3(e,f);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(g.length>0?" { "+Zi.call(g,", ")+" }":"")}if(mP(e)){var v=Jc?ko.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Y5.call(e);return typeof e=="object"&&!Jc?gh(v):v}if(Kle(e)){for(var _="<"+yS.call(String(e.nodeName)),x=e.attributes||[],b=0;b<x.length;b++)_+=" "+x[b].name+"="+pP(Mle(x[b].value),"double",s);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+yS.call(String(e.nodeName))+">",_}if(X5(e)){if(e.length===0)return"[]";var w=A3(e,f);return d&&!Yle(w)?"["+Q5(w,d)+"]":"[ "+Zi.call(w,", ")+" ]"}if(Ole(e)){var T=A3(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!fP.call(e,"cause")?"{ ["+String(e)+"] "+Zi.call(_S.call("[cause]: "+f(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Zi.call(T,", ")+" }"}if(typeof e=="object"&&o){if(ES&&typeof e[ES]=="function"&&Z5)return Z5(e,{depth:h-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(jle(e)){var C=[];return mS&&mS.call(e,function(j,Z){C.push(f(Z,e,!0)+" => "+f(j,e))}),LS("Map",Bp.call(e),C,d)}if(Hle(e)){var I=[];return gS&&gS.call(e,function(j){I.push(f(j,e))}),LS("Set",Up.call(e),I,d)}if(Vle(e))return m6("WeakMap");if(Wle(e))return m6("WeakSet");if(Gle(e))return m6("WeakRef");if(Fle(e))return gh(f(Number(e)));if(zle(e))return gh(f(q5.call(e)));if($le(e))return gh(Lle.call(e));if(Nle(e))return gh(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Je<"u"&&e===Je)return"{ [object globalThis] }";if(!Dle(e)&&!TS(e)){var M=A3(e,f),A=bS?bS(e)===Object.prototype:e instanceof Object||e.constructor===Object,O=e instanceof Object?"":"null prototype",N=!A&&Jn&&Object(e)===e&&Jn in e?E4.call(ia(e),8,-1):O?"Object":"",z=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",H=z+(N||O?"["+Zi.call(_S.call([],N||[],O||[]),": ")+"] ":"");return M.length===0?H+"{}":d?H+"{"+Q5(M,d)+"}":H+"{ "+Zi.call(M,", ")+" }"}return String(e)};function pP(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function Mle(t){return ko.call(String(t),/"/g,"&quot;")}function X5(t){return ia(t)==="[object Array]"&&(!Jn||!(typeof t=="object"&&Jn in t))}function Dle(t){return ia(t)==="[object Date]"&&(!Jn||!(typeof t=="object"&&Jn in t))}function TS(t){return ia(t)==="[object RegExp]"&&(!Jn||!(typeof t=="object"&&Jn in t))}function Ole(t){return ia(t)==="[object Error]"&&(!Jn||!(typeof t=="object"&&Jn in t))}function Nle(t){return ia(t)==="[object String]"&&(!Jn||!(typeof t=="object"&&Jn in t))}function Fle(t){return ia(t)==="[object Number]"&&(!Jn||!(typeof t=="object"&&Jn in t))}function $le(t){return ia(t)==="[object Boolean]"&&(!Jn||!(typeof t=="object"&&Jn in t))}function mP(t){if(Jc)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Y5)return!1;try{return Y5.call(t),!0}catch{}return!1}function zle(t){if(!t||typeof t!="object"||!q5)return!1;try{return q5.call(t),!0}catch{}return!1}var Ble=Object.prototype.hasOwnProperty||function(t){return t in this};function xo(t,e){return Ble.call(t,e)}function ia(t){return Cle.call(t)}function Ule(t){if(t.name)return t.name;var e=Ale.call(kle.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function gP(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function jle(t){if(!Bp||!t||typeof t!="object")return!1;try{Bp.call(t);try{Up.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Vle(t){if(!Zh||!t||typeof t!="object")return!1;try{Zh.call(t,Zh);try{Xh.call(t,Xh)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Gle(t){if(!vS||!t||typeof t!="object")return!1;try{return vS.call(t),!0}catch{}return!1}function Hle(t){if(!Up||!t||typeof t!="object")return!1;try{Up.call(t);try{Bp.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Wle(t){if(!Xh||!t||typeof t!="object")return!1;try{Xh.call(t,Xh);try{Zh.call(t,Zh)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Kle(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function vP(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return vP(E4.call(t,0,e.maxStringLength),e)+r}var i=ko.call(ko.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,qle);return pP(i,"single",e)}function qle(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+Ile.call(e.toString(16))}function gh(t){return"Object("+t+")"}function m6(t){return t+" { ? }"}function LS(t,e,n,r){var i=r?Q5(n,r):Zi.call(n,", ");return t+" ("+e+") {"+i+"}"}function Yle(t){for(var e=0;e<t.length;e++)if(gP(t[e],`
`)>=0)return!1;return!0}function Zle(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Zi.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Zi.call(Array(e+1),n)}}function Q5(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Zi.call(t,","+n)+`
`+e.prev}function A3(t,e){var n=X5(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=xo(t,i)?e(t[i],t):""}var s=typeof p6=="function"?p6(t):[],o;if(Jc){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)xo(t,l)&&(n&&String(Number(l))===l&&l<t.length||Jc&&o["$"+l]instanceof Symbol||(dP.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if(typeof p6=="function")for(var c=0;c<s.length;c++)fP.call(t,s[c])&&r.push("["+e(s[c])+"]: "+e(t[s[c]],t));return r}var yP=Au,Iu=_le,Xle=Rle,Qle=Sf,I3=yP("%WeakMap%",!0),P3=yP("%Map%",!0),Jle=Iu("WeakMap.prototype.get",!0),ece=Iu("WeakMap.prototype.set",!0),tce=Iu("WeakMap.prototype.has",!0),nce=Iu("Map.prototype.get",!0),rce=Iu("Map.prototype.set",!0),ice=Iu("Map.prototype.has",!0),T4=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},sce=function(t,e){var n=T4(t,e);return n&&n.value},oce=function(t,e,n){var r=T4(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},ace=function(t,e){return!!T4(t,e)},lce=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new Qle("Side channel does not contain "+Xle(s))},get:function(s){if(I3&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Jle(e,s)}else if(P3){if(n)return nce(n,s)}else if(r)return sce(r,s)},has:function(s){if(I3&&s&&(typeof s=="object"||typeof s=="function")){if(e)return tce(e,s)}else if(P3){if(n)return ice(n,s)}else if(r)return ace(r,s);return!1},set:function(s,o){I3&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new I3),ece(e,s,o)):P3?(n||(n=new P3),rce(n,s,o)):(r||(r={key:{},next:null}),oce(r,s,o))}};return i},cce=String.prototype.replace,uce=/%20/g,g6={RFC1738:"RFC1738",RFC3986:"RFC3986"},L4={default:g6.RFC3986,formatters:{RFC1738:function(t){return cce.call(t,uce,"+")},RFC3986:function(t){return String(t)}},RFC1738:g6.RFC1738,RFC3986:g6.RFC3986},hce=L4,v6=Object.prototype.hasOwnProperty,Da=Array.isArray,Hi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),dce=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(Da(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},_P=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},fce=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(Da(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!v6.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return Da(e)&&!Da(n)&&(i=_P(e,r)),Da(e)&&Da(n)?(n.forEach(function(s,o){if(v6.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var a=n[o];return v6.call(s,o)?s[o]=t(s[o],a,r):s[o]=a,s},i)},pce=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},mce=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},y6=1024,gce=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=y6){for(var c=o.length>=y6?o.slice(l,l+y6):o,h=[],d=0;d<c.length;++d){var f=c.charCodeAt(d);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===hce.RFC1738&&(f===40||f===41)){h[h.length]=c.charAt(d);continue}if(f<128){h[h.length]=Hi[f];continue}if(f<2048){h[h.length]=Hi[192|f>>6]+Hi[128|f&63];continue}if(f<55296||f>=57344){h[h.length]=Hi[224|f>>12]+Hi[128|f>>6&63]+Hi[128|f&63];continue}d+=1,f=65536+((f&1023)<<10|c.charCodeAt(d)&1023),h[h.length]=Hi[240|f>>18]+Hi[128|f>>12&63]+Hi[128|f>>6&63]+Hi[128|f&63]}a+=h.join("")}return a},vce=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],h=o[c];typeof h=="object"&&h!==null&&r.indexOf(h)===-1&&(n.push({obj:o,prop:c}),r.push(h))}return dce(n),e},yce=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},_ce=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},xce=function(e,n){return[].concat(e,n)},bce=function(e,n){if(Da(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},xP={arrayToObject:_P,assign:pce,combine:xce,compact:vce,decode:mce,encode:gce,isBuffer:_ce,isRegExp:yce,maybeMap:bce,merge:fce},bP=lce,m0=xP,Qh=L4,wce=Object.prototype.hasOwnProperty,wP={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},qi=Array.isArray,Sce=Array.prototype.push,SP=function(t,e){Sce.apply(t,qi(e)?e:[e])},Ece=Date.prototype.toISOString,CS=Qh.default,dn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:m0.encode,encodeValuesOnly:!1,format:CS,formatter:Qh.formatters[CS],indices:!1,serializeDate:function(e){return Ece.call(e)},skipNulls:!1,strictNullHandling:!1},Tce=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},_6={},Lce=function t(e,n,r,i,s,o,a,l,c,h,d,f,m,g,v,_,x,b){for(var w=e,T=b,C=0,I=!1;(T=T.get(_6))!==void 0&&!I;){var M=T.get(e);if(C+=1,typeof M<"u"){if(M===C)throw new RangeError("Cyclic object value");I=!0}typeof T.get(_6)>"u"&&(C=0)}if(typeof h=="function"?w=h(n,w):w instanceof Date?w=m(w):r==="comma"&&qi(w)&&(w=m0.maybeMap(w,function(F){return F instanceof Date?m(F):F})),w===null){if(o)return c&&!_?c(n,dn.encoder,x,"key",g):n;w=""}if(Tce(w)||m0.isBuffer(w)){if(c){var A=_?n:c(n,dn.encoder,x,"key",g);return[v(A)+"="+v(c(w,dn.encoder,x,"value",g))]}return[v(n)+"="+v(String(w))]}var O=[];if(typeof w>"u")return O;var N;if(r==="comma"&&qi(w))_&&c&&(w=m0.maybeMap(w,c)),N=[{value:w.length>0?w.join(",")||null:void 0}];else if(qi(h))N=h;else{var z=Object.keys(w);N=d?z.sort(d):z}var H=l?n.replace(/\./g,"%2E"):n,j=i&&qi(w)&&w.length===1?H+"[]":H;if(s&&qi(w)&&w.length===0)return j+"[]";for(var Z=0;Z<N.length;++Z){var te=N[Z],G=typeof te=="object"&&typeof te.value<"u"?te.value:w[te];if(!(a&&G===null)){var ie=f&&l?te.replace(/\./g,"%2E"):te,U=qi(w)?typeof r=="function"?r(j,ie):j:j+(f?"."+ie:"["+ie+"]");b.set(e,C);var W=bP();W.set(_6,b),SP(O,t(G,U,r,i,s,o,a,l,r==="comma"&&_&&qi(w)?null:c,h,d,f,m,g,v,_,x,W))}}return O},Cce=function(e){if(!e)return dn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||dn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Qh.default;if(typeof e.format<"u"){if(!wce.call(Qh.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Qh.formatters[r],s=dn.filter;(typeof e.filter=="function"||qi(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in wP?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=dn.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:dn.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:dn.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:dn.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:dn.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?dn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:dn.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:dn.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:dn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:dn.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:dn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:dn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:dn.strictNullHandling}},kce=function(t,e){var n=t,r=Cce(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):qi(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a=wP[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var c=bP(),h=0;h<i.length;++h){var d=i[h];r.skipNulls&&n[d]===null||SP(o,Lce(n[d],d,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var f=o.join(r.delimiter),m=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),f.length>0?m+f:""},eu=xP,J5=Object.prototype.hasOwnProperty,Ace=Array.isArray,qt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:eu.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},Ice=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},EP=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Pce="utf8=%26%2310003%3B",Rce="utf8=%E2%9C%93",Mce=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,l,c=n.charset;if(n.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===Rce?c="utf-8":o[l]===Pce&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var h=o[l],d=h.indexOf("]="),f=d===-1?h.indexOf("="):d+1,m,g;f===-1?(m=n.decoder(h,qt.decoder,c,"key"),g=n.strictNullHandling?null:""):(m=n.decoder(h.slice(0,f),qt.decoder,c,"key"),g=eu.maybeMap(EP(h.slice(f+1),n),function(_){return n.decoder(_,qt.decoder,c,"value")})),g&&n.interpretNumericEntities&&c==="iso-8859-1"&&(g=Ice(g)),h.indexOf("[]=")>-1&&(g=Ace(g)?[g]:g);var v=J5.call(r,m);v&&n.duplicates==="combine"?r[m]=eu.combine(r[m],g):(!v||n.duplicates==="last")&&(r[m]=g)}return r},Dce=function(t,e,n,r){for(var i=r?e:EP(e,n),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&n.parseArrays)o=n.allowEmptyArrays&&(i===""||n.strictNullHandling&&i===null)?[]:[].concat(i);else{o=n.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,h=parseInt(c,10);!n.parseArrays&&c===""?o={0:i}:!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(o=[],o[h]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},Oce=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(s),c=l?s.slice(0,l.index):s,h=[];if(c){if(!r.plainObjects&&J5.call(Object.prototype,c)&&!r.allowPrototypes)return;h.push(c)}for(var d=0;r.depth>0&&(l=a.exec(s))!==null&&d<r.depth;){if(d+=1,!r.plainObjects&&J5.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(l[1])}if(l){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");h.push("["+s.slice(l.index)+"]")}return Dce(h,n,r,i)}},Nce=function(e){if(!e)return qt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?qt.charset:e.charset,r=typeof e.duplicates>"u"?qt.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:qt.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:qt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:qt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:qt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:qt.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:qt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:qt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:qt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:qt.decoder,delimiter:typeof e.delimiter=="string"||eu.isRegExp(e.delimiter)?e.delimiter:qt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:qt.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:qt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:qt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:qt.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:qt.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:qt.strictNullHandling}},Fce=function(t,e){var n=Nce(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?Mce(t,n):t,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],l=Oce(a,r[a],n,typeof t=="string");i=eu.merge(i,l,n)}return n.allowSparse===!0?i:eu.compact(i)},$ce=kce,zce=Fce,Bce=L4,Uce={formats:Bce,parse:zce,stringify:$ce},jce=Sae;function ii(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Vce=/^([a-z0-9.+-]+:)/i,Gce=/:[0-9]*$/,Hce=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Wce=["<",">",'"',"`"," ","\r",`
`,"	"],Kce=["{","}","|","\\","^","`"].concat(Wce),e7=["'"].concat(Kce),kS=["%","/","?",";","#"].concat(e7),AS=["/","?","#"],qce=255,IS=/^[+a-z0-9A-Z_-]{0,63}$/,Yce=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Zce={javascript:!0,"javascript:":!0},t7={javascript:!0,"javascript:":!0},Rc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},n7=Uce;function Tf(t,e,n){if(t&&typeof t=="object"&&t instanceof ii)return t;var r=new ii;return r.parse(t,e,n),r}ii.prototype.parse=function(t,e,n){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var l=Hce.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=n7.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=Vce.exec(a);if(c){c=c[0];var h=c.toLowerCase();this.protocol=h,a=a.substr(c.length)}if(n||c||a.match(/^\/\/[^@/]+@[^@/]+/)){var d=a.substr(0,2)==="//";d&&!(c&&t7[c])&&(a=a.substr(2),this.slashes=!0)}if(!t7[c]&&(d||c&&!Rc[c])){for(var f=-1,m=0;m<AS.length;m++){var g=a.indexOf(AS[m]);g!==-1&&(f===-1||g<f)&&(f=g)}var v,_;f===-1?_=a.lastIndexOf("@"):_=a.lastIndexOf("@",f),_!==-1&&(v=a.slice(0,_),a=a.slice(_+1),this.auth=decodeURIComponent(v)),f=-1;for(var m=0;m<kS.length;m++){var g=a.indexOf(kS[m]);g!==-1&&(f===-1||g<f)&&(f=g)}f===-1&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var b=this.hostname.split(/\./),m=0,w=b.length;m<w;m++){var T=b[m];if(T&&!T.match(IS)){for(var C="",I=0,M=T.length;I<M;I++)T.charCodeAt(I)>127?C+="x":C+=T[I];if(!C.match(IS)){var A=b.slice(0,m),O=b.slice(m+1),N=T.match(Yce);N&&(A.push(N[1]),O.unshift(N[2])),O.length&&(a="/"+O.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>qce?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=jce.toASCII(this.hostname));var z=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+z,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Zce[h])for(var m=0,w=e7.length;m<w;m++){var j=e7[m];if(a.indexOf(j)!==-1){var Z=encodeURIComponent(j);Z===j&&(Z=escape(j)),a=a.split(j).join(Z)}}var te=a.indexOf("#");te!==-1&&(this.hash=a.substr(te),a=a.slice(0,te));var G=a.indexOf("?");if(G!==-1?(this.search=a.substr(G),this.query=a.substr(G+1),e&&(this.query=n7.parse(this.query)),a=a.slice(0,G)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Rc[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",ie=this.search||"";this.path=z+ie}return this.href=this.format(),this};function Xce(t){return typeof t=="string"&&(t=Tf(t)),t instanceof ii?t.format():ii.prototype.format.call(t)}ii.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=n7.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Rc[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function Qce(t,e){return Tf(t,!1,!0).resolve(e)}ii.prototype.resolve=function(t){return this.resolveObject(Tf(t,!1,!0)).format()};function Jce(t,e){return t?Tf(t,!1,!0).resolveObject(e):e}ii.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new ii;e.parse(t,!1,!0),t=e}for(var n=new ii,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=t[l])}return Rc[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Rc[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var d=c[h];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!t7[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),n.pathname=w.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var f=n.pathname||"",m=n.search||"";n.path=f+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&n.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",_=v||g||n.host&&t.pathname,x=_,b=n.pathname&&n.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],T=n.protocol&&!Rc[n.protocol];if(T&&(n.hostname="",n.port=null,n.host&&(b[0]===""?b[0]=n.host:b.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),_=_&&(w[0]===""||b[0]==="")),v)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,b=w;else if(w.length)b||(b=[]),b.pop(),b=b.concat(w),n.search=t.search,n.query=t.query;else if(t.search!=null){if(T){n.host=b.shift(),n.hostname=n.host;var C=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;C&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)}return n.search=t.search,n.query=t.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var I=b.slice(-1)[0],M=(n.host||t.host||b.length>1)&&(I==="."||I==="..")||I==="",A=0,O=b.length;O>=0;O--)I=b[O],I==="."?b.splice(O,1):I===".."?(b.splice(O,1),A++):A&&(b.splice(O,1),A--);if(!_&&!x)for(;A--;A)b.unshift("..");_&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),M&&b.join("/").substr(-1)!=="/"&&b.push("");var N=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(T){n.hostname=N?"":b.length?b.shift():"",n.host=n.hostname;var C=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;C&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)}return _=_||n.host&&b.length,_&&!N&&b.unshift(""),b.length>0?n.pathname=b.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};ii.prototype.parseHost=function(){var t=this.host,e=Gce.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};ku.parse=Tf;ku.resolve=Qce;ku.resolveObject=Jce;ku.format=Xce;ku.Url=ii;var eue=Je&&Je.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tue=Je&&Je.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),nue=Je&&Je.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rue=Je&&Je.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&tue(e,t,n);return nue(e,t),e};Object.defineProperty(_4,"__esModule",{value:!0});var iue=h2,r7=rue(ku);function sue(t){var e=r7.parse(t);return e.protocol===null&&e.host===null&&e.port===null}function oue(t,e){var n=r7.parse(t),r=r7.parse(e);return n.protocol===r.protocol&&n.hostname===r.hostname&&n.port===r.port}var aue=function(t){eue(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._initCanvas=function(){var n=this.image,r=this._canvas=document.createElement("canvas"),i=this._context=r.getContext("2d");r.className="vibrant-canvas",r.style.display="none",this._width=r.width=n.width,this._height=r.height=n.height,i.drawImage(n,0,0),document.body.appendChild(r)},e.prototype.load=function(n){var r=this,i=null,s=null;if(typeof n=="string")i=document.createElement("img"),!sue(n)&&!oue(window.location.href,n)&&(i.crossOrigin="anonymous"),s=i.src=n;else if(n instanceof HTMLImageElement)i=n,s=n.src;else return Promise.reject(new Error("Cannot load buffer as an image in browser"));return this.image=i,new Promise(function(o,a){var l=function(){r._initCanvas(),o(r)};i.complete?l():(i.onload=l,i.onerror=function(c){return a(new Error("Fail to load image: "+s))})})},e.prototype.clear=function(){this._context.clearRect(0,0,this._width,this._height)},e.prototype.update=function(n){this._context.putImageData(n,0,0)},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.resize=function(n,r,i){var s=this,o=s._canvas,a=s._context,l=s.image;this._width=o.width=n,this._height=o.height=r,a.scale(i,i),a.drawImage(l,0,0)},e.prototype.getPixelCount=function(){return this._width*this._height},e.prototype.getImageData=function(){return this._context.getImageData(0,0,this._width,this._height)},e.prototype.remove=function(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)},e}(iue.ImageBase);_4.default=aue;var TP=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},LP=TP(iP()),lue=TP(_4);LP.default.DefaultOpts.ImageClass=lue.default;var cue=LP.default;const x6=to(cue);var uue=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},hue=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},PS=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},CP=function(t){hue(e,t);function e(){var n,r,i;uue(this,e);for(var s=arguments.length,o=Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=(n=(r=PS(this,t.call.apply(t,[this].concat(o))),r),r.processImage=function(){r.props.children?r.props.children.props.src&&r.parseImage(r.props.children.props.src,r.props):r.props.src&&typeof r.props.src=="string"&&r.props.src.length>0?r.parseImage(r.props.src,r.props):console.error("Please provide an image url using the 'src' prop or wrap an image element under the <ColorExtractor /> component. Check out the docs for more info - https://goo.gl/rMZ5L7")},r.parseImage=function(l,c){x6.from(l).maxColorCount(c.maxColors).getSwatches().then(function(h){return c.getColors(r.getColorsFromSwatches(h,c))}).catch(function(h){h&&r.useDefaultImageClass(l,c)})},r.useDefaultImageClass=function(l,c){new x6.DefaultOpts.ImageClass().load(l.src).then(function(h){h.image&&x6.from(h.image).getSwatches().then(function(d){return c.getColors(r.getColorsFromSwatches(d,c))}).catch(function(d){d&&c.onError(d)})}).catch(function(h){h&&c.onError(h)})},r.getColorsFromSwatches=function(l,c){var h=[];for(var d in l)l.hasOwnProperty(d)&&l[d]&&(c.rgb?h.push(l[d].getRgb()):h.push(l[d].getHex()));return h},n),PS(r,i)}return e.prototype.componentDidMount=function(){this.processImage()},e.prototype.componentDidUpdate=function(r){r.src!==this.props.src&&typeof this.props.src=="string"&&this.props.src.length>0?this.parseImage(this.props.src,this.props):this.props.children&&r.children.props.src!==this.props.children.props.src&&this.parseImage(this.props.children.props.src,this.props)},e.prototype.render=function(){var r=P.Children.count(this.props.children);if(r>1)throw new Error("Expected only one image element.");if(r===1){if(this.props.children.type==="img")return this.props.children;throw new Error('Expected children to be an image element but instead got a "'+this.props.children.type+'"')}else return null},e}(P.Component);CP.defaultProps={onError:function(e){},getColors:function(e){},rgb:!1,hex:!0,src:null,maxColors:64};const due="selection",fue=[{icon:{paths:["M384 120.533c-118.4 34.133-201.6 99.2-253.867 197.333-67.2 125.867-53.333 237.867 35.2 283.733 37.333 19.2 46.933 20.267 128 8.533 49.067-7.467 96-9.6 105.6-6.4s24.533 33.067 34.133 67.2c34.133 123.733 48 156.8 74.667 186.667 80 85.333 203.733 78.933 308.267-17.067 133.333-121.6 161.067-348.8 62.933-515.2-41.6-71.467-142.933-160-214.4-186.667-76.8-28.8-212.267-37.333-280.533-18.133zM537.6 251.733c9.6 8.533 17.067 25.6 17.067 36.267 0 45.867-57.6 69.333-89.6 36.267-33.067-32-9.6-89.6 36.267-89.6 10.667 0 27.733 7.467 36.267 17.067zM686.933 294.4c21.333 21.333 21.333 51.2 0 72.533s-51.2 21.333-72.533 0c-33.067-32-9.6-89.6 36.267-89.6 10.667 0 27.733 7.467 36.267 17.067zM772.267 422.4c33.067 32 9.6 89.6-36.267 89.6-25.6 0-53.333-27.733-53.333-53.333 0-45.867 57.6-69.333 89.6-36.267zM793.6 571.733c33.067 32 9.6 89.6-36.267 89.6-25.6 0-53.333-27.733-53.333-53.333 0-45.867 57.6-69.333 89.6-36.267zM686.933 678.4c33.067 32 9.6 89.6-36.267 89.6-25.6 0-53.333-27.733-53.333-53.333s27.733-53.333 53.333-53.333c10.667 0 27.733 7.467 36.267 17.067z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,grid:0,tags:["PaletteFilled"],colorPermutations:{"1145692551255255255183252241":[{}]}},attrs:[{}],properties:{order:223,id:142,name:"PaletteFilled",prevSize:32},setIdx:0,setId:3,iconIdx:0},{icon:{paths:["M436.096 106.688c16.768-22.208 42.752-42.688 75.904-42.688s59.136 20.48 75.904 42.688c17.216 22.72 28.8 52.032 32.64 81.088 3.84 28.8 0.64 61.44-17.088 88-18.88 28.224-50.56 44.224-91.456 44.224-40.96 0-72.576-16-91.456-44.224-17.664-26.624-20.928-59.264-17.088-88 3.84-29.056 15.424-58.368 32.64-81.088zM129.92 489.6c11.028-60.409 63.249-105.6 126.025-105.6 0.019 0 0.039 0 0.058 0l511.997-0c66.225 0.006 120.7 50.304 127.315 114.783l0.045 0.545c-28.639 28.221-58.387 55.801-88.961 82.459l-2.367 2.021c-27.456 23.616-56.192 46.592-81.728 63.552q-19.264 12.8-33.472 19.264c-4.875 2.61-10.551 4.499-16.561 5.345l-0.271 0.031c-16.512 0-27.648-10.624-52.544-37.696l-0.192-0.192c-21.504-23.296-53.504-58.112-107.264-58.112s-85.76 34.816-107.264 58.112l-0.192 0.192c-24.96 27.072-36.032 37.696-52.544 37.696-1.5-0.17-2.865-0.485-4.167-0.937l0.135 0.041c-4.251-1.253-7.901-2.733-11.366-4.52l0.358 0.168c-12.802-6.286-23.638-12.715-33.925-19.88l0.837 0.552c-25.344-17.024-54.4-40.128-82.176-63.808-33.916-29.049-64.221-56.617-93.702-85.035l0.646 0.619q0.512-4.864 1.28-9.6zM128 586.24c15.552 14.272 33.472 30.208 52.224 46.208 28.544 24.32 59.648 49.216 88.064 68.224 14.144 9.472 28.288 17.92 41.472 24.128 12.48 5.824 27.392 11.264 42.24 11.264 46.592 0 76.288-32.64 95.68-54.016l3.968-4.288c22.72-24.768 37.44-37.76 60.352-37.76s37.632 12.992 60.352 37.696l3.968 4.288c19.392 21.376 49.088 54.016 95.68 54.016 15.104 0 30.272-5.184 43.328-11.136 16.404-7.828 30.288-15.884 43.464-24.9l-1.096 0.708c28.8-19.072 59.84-44.096 88.128-68.48 18.048-15.488 35.2-31.040 50.176-44.928v244.736h32c17.673 0 32 14.327 32 32s-14.327 32-32 32v0h-832c-17.673 0-32-14.327-32-32s14.327-32 32-32v0h32z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,grid:0,tags:["FluentFoodCake16Filled"],colorPermutations:{"1145692551255255255183252241":[{}]}},attrs:[{}],properties:{order:224,id:141,name:"FluentFoodCake16Filled",prevSize:32},setIdx:0,setId:3,iconIdx:1},{icon:{paths:["M397.867 104.533c-145.067 52.267-248.533 195.2-248.533 343.467 0 119.467 50.133 204.8 225.067 387.2 136.533 140.8 138.667 140.8 275.2 0 187.733-194.133 233.6-280.533 221.867-416-9.6-125.867-88.533-240-206.933-297.6-77.867-38.4-187.733-44.8-266.667-17.067zM564.267 356.267c71.467 37.333 69.333 152.533-4.267 185.6-54.4 24.533-114.133 7.467-139.733-41.6-50.133-97.067 46.933-194.133 144-144z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,grid:0,tags:["Location"],colorPermutations:{"1145692551255255255183252241":[{}]}},attrs:[{}],properties:{order:222,id:140,name:"Location",prevSize:32},setIdx:0,setId:3,iconIdx:2},{icon:{paths:["M534.528 88.064c-12.288 16.384-28.672 57.344-34.816 92.16-16.384 83.968 24.576 88.064 43.008 4.096 18.432-81.92 40.96-92.16 106.496-43.008 69.632 57.344 88.064 36.864 26.624-28.672-53.248-57.344-106.496-65.536-141.312-24.576z","M778.24 112.64c-53.248 65.536 26.624 165.888 98.304 120.832 45.056-28.672 55.296-83.968 24.576-120.832-32.768-38.912-90.112-38.912-122.88 0z","M348.16 305.152c-90.112 28.672-172.032 77.824-225.28 135.168-38.912 40.96-51.2 75.776-51.2 149.504 0 196.608 169.984 321.536 440.32 321.536s440.32-124.928 440.32-321.536c0-110.592-51.2-178.176-184.32-247.808-90.112-45.056-329.728-67.584-419.84-36.864zM399.36 532.48c0 36.864-12.288 53.248-47.104 57.344-49.152 8.192-77.824-36.864-57.344-90.112 6.144-18.432 30.72-28.672 57.344-24.576 34.816 4.096 47.104 20.48 47.104 57.344zM727.040 532.48c0 36.864-12.288 53.248-47.104 57.344-26.624 4.096-51.2-6.144-57.344-24.576-20.48-53.248 8.192-98.304 57.344-90.112 34.816 4.096 47.104 20.48 47.104 57.344zM372.736 731.136c55.296 49.152 227.328 47.104 282.624-4.096 47.104-43.008 79.872-26.624 40.96 20.48-34.816 40.96-169.984 75.776-239.616 59.392-71.68-16.384-149.504-63.488-149.504-90.112 0-30.72 22.528-24.576 65.536 14.336z","M73.728 346.112c-20.48 22.528-32.768 55.296-28.672 73.728 4.096 26.624 22.528 16.384 75.776-38.912 63.488-65.536 65.536-73.728 30.72-73.728-24.576 0-59.392 18.432-77.824 38.912z","M903.168 380.928c53.248 55.296 71.68 65.536 75.776 38.912 10.24-45.056-53.248-112.64-106.496-112.64-34.816 0-32.768 8.192 30.72 73.728z"],attrs:[{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,grid:0,tags:["Reddit"],colorPermutations:{"1145692551255255255183252241":[{},{},{},{},{}]}},attrs:[{},{},{},{},{}],properties:{order:221,id:139,name:"Reddit",prevSize:32},setIdx:0,setId:3,iconIdx:3},{icon:{paths:["M471.467 109.867c-20.267 21.333-23.467 37.333-23.467 104.533 0 100.267 20.267 126.933 97.067 126.933 39.467 0 53.333 5.333 78.933 32 38.4 40.533 57.6 40.533 96 0 25.6-26.667 39.467-32 80-32 75.733 0 96-27.733 96-129.067 0-70.4-3.2-83.2-24.533-103.467-23.467-22.4-35.2-23.467-200.533-23.467-170.667 0-177.067 1.067-199.467 24.533z","M161.067 420.267c-92.8 51.2-53.333 198.4 52.267 198.4 54.4 0 106.667-52.267 106.667-105.6 0-80-88.533-132.267-158.933-92.8z","M464 414.933c-48 21.333-74.667 64-74.667 119.467 0 44.8 5.333 56.533 35.2 86.4s41.6 35.2 87.467 35.2c45.867 0 57.6-5.333 87.467-35.2s35.2-41.6 35.2-87.467c0-44.8-5.333-57.6-33.067-86.4-35.2-35.2-98.133-49.067-137.6-32z","M758.4 420.267c-92.8 51.2-53.333 198.4 52.267 198.4 54.4 0 106.667-52.267 106.667-105.6 0-80-88.533-132.267-158.933-92.8z","M64 704c-25.6 25.6-27.733 71.467-4.267 105.6 23.467 33.067 96 65.067 150.4 65.067 68.267 0 76.8-6.4 70.4-52.267-6.4-43.733 18.133-104.533 45.867-115.2 41.6-16 2.133-24.533-113.067-24.533-114.133 0-130.133 2.133-149.333 21.333z","M682.667 692.267c0 5.333 7.467 11.733 14.933 14.933 27.733 10.667 52.267 71.467 45.867 115.2-6.4 45.867 2.133 52.267 70.4 52.267 54.4 0 126.933-32 150.4-65.067 23.467-34.133 21.333-80-4.267-105.6-19.2-19.2-35.2-21.333-149.333-21.333-70.4 0-128 4.267-128 9.6z","M343.467 749.867c-71.467 76.8 28.8 188.8 168.533 188.8 140.8 0 244.267-117.333 167.467-189.867-23.467-21.333-35.2-23.467-168.533-23.467-137.6 0-146.133 1.067-167.467 24.533z"],attrs:[{},{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,grid:0,tags:["Community"],colorPermutations:{"1145692551255255255183252241":[{},{},{},{},{},{},{}]}},attrs:[{},{},{},{},{},{},{}],properties:{order:219,id:138,name:"Community",prevSize:32},setIdx:0,setId:3,iconIdx:4},{icon:{paths:["M0 0h318.755v239.066h119.533v-119.533h119.533v-119.533h318.755v358.599h-119.533v79.689h-79.689v119.533h79.689v119.533h119.533v358.599h-318.755v-119.533h-119.533v-119.533h-119.533v239.066h-318.755z"],attrs:[{fill:"rgb(83, 252, 24)"}],width:877,isMulticolor:!1,isMulticolor2:!1,grid:0,tags:["Kick"],colorPermutations:{"11254211456925512552552551":[{f:0}],"1145692551255255255183252241":[{f:1}]}},attrs:[{fill:"rgb(83, 252, 24)"}],properties:{order:220,id:137,name:"Kick",prevSize:32},setIdx:0,setId:3,iconIdx:5},{icon:{paths:["M501.413 85.315c64.845 0 117.413 52.568 117.413 117.413v618.604c0 64.845-52.568 117.413-117.413 117.413s-117.413-52.568-117.413-117.413v-618.604c0-64.845 52.568-117.413 117.413-117.413zM800.080 298.648c64.845 0 117.413 52.568 117.413 117.413v405.271c0 64.845-52.568 117.413-117.413 117.413s-117.413-52.568-117.413-117.413v-405.271c0-64.845 52.568-117.413 117.413-117.413zM202.746 511.981c64.845 0 117.413 52.568 117.413 117.413v191.937c0 64.845-52.568 117.413-117.413 117.413s-117.413-52.568-117.413-117.413v-191.937c0-64.845 52.568-117.413 117.413-117.413z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,grid:0,tags:["Poll"],colorPermutations:{"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]}},attrs:[{}],properties:{order:217,id:136,name:"Poll",prevSize:32},setIdx:0,setId:3,iconIdx:6},{icon:{paths:["M329.956 125.156c-20.48 20.48-22.756 37.547-22.756 199.111 0 241.209-26.169 221.867 307.2 221.867s307.2 19.342 307.2-221.867c0-241.209 26.169-221.867-307.2-221.867-246.898 0-262.827 1.138-284.444 22.756zM684.942 324.267l42.098 119.467h-27.307c-20.48 0-29.582-7.964-35.271-28.444-5.689-23.893-13.653-28.444-51.2-28.444s-45.511 4.551-51.2 28.444c-4.551 20.48-14.791 28.444-34.133 28.444h-26.169l42.098-119.467c37.547-109.227 43.236-119.467 70.542-119.467s32.996 10.24 70.542 119.467z","M595.058 300.373c-13.653 44.373-10.24 52.338 22.756 52.338 19.342 0 21.618-5.689 14.791-36.409-10.24-54.613-23.893-60.302-37.547-15.929z","M125.156 500.622c-20.48 20.48-22.756 37.547-22.756 199.111 0 241.209-26.169 221.867 307.2 221.867 326.542 0 307.2 11.378 307.2-176.356v-130.844h-216.178l11.378 29.582c17.067 42.098 13.653 98.987-5.689 127.431-13.653 18.204-14.791 29.582-5.689 47.787 10.24 19.342 9.102 22.756-9.102 22.756-11.378 0-25.031-3.413-29.582-7.964s-28.444-9.102-54.613-9.102c-87.609-2.276-139.947-102.4-96.711-187.733 12.516-25.031 11.378-30.72-22.756-60.302-19.342-17.067-39.822-46.649-43.236-64.853-6.827-30.72-11.378-34.133-52.338-34.133-29.582 0-52.338 7.964-67.129 22.756z","M364.089 642.844c-22.756 27.307-19.342 91.022 5.689 119.467 28.444 30.72 54.613 30.72 45.511-1.138-6.827-21.618-4.551-23.893 20.48-17.067 23.893 5.689 29.582 2.276 35.271-22.756 11.378-44.373-15.929-88.747-56.889-93.298-21.618-2.276-40.96 3.413-50.062 14.791z"],attrs:[{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,grid:0,tags:["QA"],colorPermutations:{"11254211456925512552552551":[{},{},{},{}],"1145692551255255255183252241":[{},{},{},{}]}},attrs:[{},{},{},{}],properties:{order:216,id:135,name:"QA",prevSize:32},setIdx:0,setId:3,iconIdx:7},{icon:{paths:["M393.6 105.6c-130.133 41.6-190.933 129.067-199.467 284.8-3.2 49.067-8.533 89.6-12.8 89.6-10.667 0-32 50.133-32 75.733 0 33.067 27.733 78.933 55.467 91.733 16 7.467 33.067 34.133 50.133 78.933 45.867 121.6 171.733 222.933 260.267 210.133 17.067-2.133 23.467-10.667 23.467-29.867 0-21.333-6.4-27.733-37.333-33.067-97.067-16-168.533-94.933-206.933-227.2-8.533-28.8-19.2-44.8-33.067-48-50.133-8.533-62.933-48-26.667-81.067 12.8-11.733 21.333-33.067 21.333-53.333 0-27.733 5.333-36.267 25.6-41.6 13.867-3.2 50.133-23.467 81.067-43.733l56.533-38.4 54.4 19.2c38.4 13.867 86.4 19.2 166.4 19.2 61.867 0 115.2 4.267 119.467 10.667 4.267 5.333 8.533 74.667 8.533 152.533v142.933l-30.933 30.933c-37.333 37.333-86.4 40.533-125.867 9.6-36.267-27.733-69.333-26.667-97.067 3.2-29.867 32-29.867 72.533 1.067 101.333s60.8 29.867 96 2.133c14.933-11.733 42.667-21.333 60.8-21.333 56.533 0 114.133-40.533 141.867-98.133 12.8-27.733 29.867-50.133 37.333-51.2 7.467 0 25.6-11.733 39.467-26.667 38.4-37.333 38.4-122.667 0-160-13.867-14.933-32-26.667-40.533-26.667-22.4 0-32-85.333-11.733-107.733 23.467-25.6 18.133-56.533-20.267-112-83.2-121.6-264.533-173.867-424.533-122.667z","M373.333 528c-16 19.2-10.667 48 13.867 62.933 36.267 23.467 77.867-28.8 50.133-62.933-17.067-20.267-46.933-20.267-64 0z","M586.667 528c-16 19.2-10.667 48 13.867 62.933 36.267 23.467 77.867-28.8 50.133-62.933-17.067-20.267-46.933-20.267-64 0z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,grid:0,tags:["SupportFilled"],colorPermutations:{"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]}},attrs:[{},{},{}],properties:{order:2,id:134,name:"SupportFilled",prevSize:32},setIdx:0,setId:3,iconIdx:8},{icon:{paths:["M464 137.6c-48 21.333-74.667 64-74.667 119.467 0 44.8 5.333 56.533 35.2 86.4s41.6 35.2 87.467 35.2c45.867 0 57.6-5.333 87.467-35.2s35.2-41.6 35.2-87.467c0-44.8-5.333-57.6-33.067-86.4-35.2-35.2-98.133-49.067-137.6-32z","M182.4 185.6c-92.8 51.2-53.333 198.4 52.267 198.4 54.4 0 106.667-52.267 106.667-105.6 0-80-88.533-132.267-158.933-92.8z","M737.067 185.6c-92.8 51.2-53.333 198.4 52.267 198.4 54.4 0 106.667-52.267 106.667-105.6 0-80-88.533-132.267-158.933-92.8z","M107.733 452.267c-22.4 24.533-24.533 33.067-20.267 137.6 2.133 93.867 7.467 117.333 25.6 141.867 36.267 49.067 74.667 71.467 132.267 76.8 55.467 5.333 55.467 4.267 46.933-20.267-12.8-33.067-12.8-318.933 0-343.467 7.467-16 1.067-18.133-75.733-18.133-75.733 0-87.467 3.2-108.8 25.6z","M343.467 451.2c-21.333 22.4-23.467 36.267-23.467 157.867 0 117.333 3.2 138.667 24.533 180.267 70.4 140.8 264.533 140.8 336 0 20.267-41.6 23.467-62.933 23.467-181.333 0-183.467 2.133-181.333-193.067-181.333-137.6 0-146.133 1.067-167.467 24.533z","M731.733 444.8c12.8 24.533 12.8 310.4 0 343.467-8.533 24.533-8.533 25.6 46.933 20.267 57.6-5.333 96-27.733 132.267-76.8 18.133-24.533 23.467-48 25.6-141.867 4.267-104.533 2.133-113.067-20.267-137.6-21.333-22.4-33.067-25.6-108.8-25.6-76.8 0-83.2 2.133-75.733 18.133z"],attrs:[{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{}]},tags:["GroupFilled"],grid:0},attrs:[{},{},{},{},{},{}],properties:{order:211,id:0,name:"GroupFilled",prevSize:32},setIdx:0,setId:3,iconIdx:9},{icon:{paths:["M229.376 51.2c-18.432 7.168-80.896 71.68-73.728 75.776s314.368-13.312 355.328-19.456c25.6-4.096 53.248-3.072 66.56 3.072 11.264 6.144 81.92 12.288 156.672 14.336l134.144 3.072-16.384-27.648c-32.768-55.296-57.344-59.392-342.016-58.368-142.336 0-268.288 4.096-280.576 9.216z","M155.648 184.32c-18.432 11.264-41.984 34.816-53.248 53.248-19.456 31.744-20.48 52.224-20.48 336.896 0 434.176-26.624 408.576 430.080 408.576 344.064 0 358.4-2.048 403.456-64.512 20.48-27.648 21.504-44.032 24.576-337.92 2.048-294.912 1.024-311.296-18.432-343.040-11.264-18.432-34.816-41.984-53.248-53.248-31.744-19.456-52.224-20.48-356.352-20.48s-324.608 1.024-356.352 20.48zM737.28 348.16c11.264 11.264 20.48 29.696 20.48 40.96 0 26.624-34.816 61.44-61.44 61.44-11.264 0-29.696-9.216-40.96-20.48s-20.48-29.696-20.48-40.96c0-11.264 9.216-29.696 20.48-40.96s29.696-20.48 40.96-20.48c11.264 0 29.696 9.216 40.96 20.48zM552.96 532.48c11.264 11.264 20.48 29.696 20.48 40.96 0 26.624-34.816 61.44-61.44 61.44-11.264 0-29.696-9.216-40.96-20.48s-20.48-29.696-20.48-40.96c0-11.264 9.216-29.696 20.48-40.96s29.696-20.48 40.96-20.48c11.264 0 29.696 9.216 40.96 20.48zM368.64 716.8c11.264 11.264 20.48 29.696 20.48 40.96 0 26.624-34.816 61.44-61.44 61.44s-61.44-34.816-61.44-61.44c0-11.264 9.216-29.696 20.48-40.96s29.696-20.48 40.96-20.48c11.264 0 29.696 9.216 40.96 20.48z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Dice"],grid:0},attrs:[{},{}],properties:{order:210,id:1,name:"Dice",prevSize:32},setIdx:0,setId:3,iconIdx:10},{icon:{paths:["M137.6 158.933l-30.933 30.933v452.267l30.933 30.933c17.067 17.067 41.6 30.933 53.333 30.933 20.267 0 21.333-7.467 24.533-176l3.2-176 35.2-34.133 34.133-35.2 480-6.4v-42.667c0-33.067-7.467-50.133-30.933-74.667l-30.933-30.933h-537.6l-30.933 30.933z","M286.933 350.933l-30.933 30.933v452.267l61.867 61.867h537.6l61.867-61.867v-452.267l-61.867-61.867h-537.6l-30.933 30.933z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Platform"],grid:0},attrs:[{},{}],properties:{order:209,id:2,name:"Platform",prevSize:32},setIdx:0,setId:3,iconIdx:11},{icon:{paths:["M465.92 50.176c-46.080 20.48-71.68 61.44-71.68 114.688 0 43.008 5.12 54.272 33.792 82.944s39.936 33.792 83.968 33.792c44.032 0 55.296-5.12 83.968-33.792s33.792-39.936 33.792-83.968c0-43.008-5.12-55.296-31.744-82.944-33.792-33.792-94.208-47.104-132.096-30.72zM568.32 107.52c51.2 50.176 15.36 138.24-56.32 138.24-41.984 0-81.92-39.936-81.92-81.92s39.936-81.92 81.92-81.92c19.456 0 40.96 9.216 56.32 25.6z","M366.592 323.584c-50.176 26.624-59.392 60.416-59.392 214.016 0 124.928 2.048 140.288 20.48 158.72 11.264 11.264 29.696 20.48 40.96 20.48 19.456 0 20.48 7.168 20.48 110.592 0 102.4 2.048 112.64 23.552 133.12 26.624 24.576 49.152 27.648 80.896 11.264 14.336-8.192 23.552-8.192 31.744 0 19.456 19.456 63.488 12.288 87.040-12.288 20.48-21.504 22.528-34.816 22.528-133.12 0-102.4 1.024-109.568 20.48-109.568 11.264 0 29.696-9.216 40.96-20.48 18.432-18.432 20.48-33.792 20.48-158.72 0-212.992-16.384-230.4-206.848-230.4-81.92 1.024-123.904 5.12-143.36 16.384zM654.336 371.712c20.48 23.552 21.504 32.768 19.456 161.792-3.072 113.664-6.144 137.216-18.432 137.216s-16.384-19.456-18.432-100.352c-2.048-90.112-4.096-99.328-22.528-99.328-19.456 0-20.48 10.24-22.528 232.448l-3.072 233.472h-51.2l-3.072-131.072c-2.048-120.832-4.096-130.048-22.528-130.048s-20.48 9.216-22.528 130.048l-3.072 131.072h-51.2l-3.072-233.472c-2.048-222.208-3.072-232.448-22.528-232.448-18.432 0-20.48 9.216-22.528 99.328-2.048 80.896-6.144 100.352-18.432 100.352s-15.36-23.552-18.432-137.216c-2.048-129.024-1.024-138.24 19.456-161.792 21.504-22.528 30.72-23.552 142.336-23.552s120.832 1.024 142.336 23.552z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Man"],grid:0},attrs:[{},{}],properties:{order:208,id:3,name:"Man",prevSize:32},setIdx:0,setId:3,iconIdx:12},{icon:{paths:["M512 85.333c-235.263 0-426.667 191.404-426.667 426.667s191.404 426.667 426.667 426.667c235.263 0 426.667-191.404 426.667-426.667s-191.404-426.667-426.667-426.667zM512 149.333c200.674 0 362.667 161.992 362.667 362.667s-161.992 362.667-362.667 362.667c-200.674 0-362.667-161.992-362.667-362.667s161.992-362.667 362.667-362.667zM479.5 255.542c-17.459 0.281-31.503 14.5-31.503 31.999 0 0.161 0.001 0.323 0.004 0.483l-0-0.024v234.667c0.002 8.836 3.584 16.835 9.375 22.625l106.667 106.667c5.833 6.068 14.019 9.838 23.085 9.838 17.675 0 32.003-14.328 32.003-32.003 0-9.066-3.77-17.252-9.828-23.075l-0.011-0.010-97.292-97.292v-221.417c0.002-0.137 0.003-0.298 0.003-0.459 0-17.675-14.328-32.003-32.003-32.003-0.176 0-0.351 0.001-0.527 0.004l0.026-0z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Clock"],grid:0},attrs:[{}],properties:{order:207,id:4,name:"Clock",prevSize:32},setIdx:0,setId:3,iconIdx:13},{icon:{paths:["M147.2 166.4c-57.6 30.933-61.867 53.333-61.867 345.6 0 294.4 4.267 315.733 64 346.667 45.867 23.467 679.467 23.467 725.333 0 59.733-30.933 64-52.267 64-346.667s-4.267-315.733-64-346.667c-45.867-23.467-683.733-23.467-727.467 1.067zM218.667 266.667c0 19.2-6.4 27.733-24.533 29.867-13.867 2.133-26.667-3.2-29.867-12.8-10.667-27.733 4.267-51.2 29.867-46.933 18.133 2.133 24.533 10.667 24.533 29.867zM346.667 266.667c0 19.2-6.4 27.733-24.533 29.867-25.6 4.267-40.533-19.2-29.867-46.933 3.2-9.6 16-14.933 29.867-12.8 18.133 2.133 24.533 10.667 24.533 29.867zM474.667 266.667c0 19.2-6.4 27.733-24.533 29.867-25.6 4.267-40.533-19.2-29.867-46.933 3.2-9.6 16-14.933 29.867-12.8 18.133 2.133 24.533 10.667 24.533 29.867zM602.667 266.667c0 19.2-6.4 27.733-24.533 29.867-13.867 2.133-26.667-3.2-29.867-12.8-10.667-27.733 4.267-51.2 29.867-46.933 18.133 2.133 24.533 10.667 24.533 29.867zM730.667 266.667c0 19.2-6.4 27.733-24.533 29.867-25.6 4.267-40.533-19.2-29.867-46.933 3.2-9.6 16-14.933 29.867-12.8 18.133 2.133 24.533 10.667 24.533 29.867zM858.667 266.667c0 19.2-6.4 27.733-24.533 29.867-25.6 4.267-40.533-19.2-29.867-46.933 3.2-9.6 16-14.933 29.867-12.8 18.133 2.133 24.533 10.667 24.533 29.867zM544 436.267c122.667 70.4 122.667 82.133-4.267 153.6-122.667 70.4-128 67.2-132.267-72.533-3.2-101.333 5.333-133.333 34.133-133.333 6.4 0 52.267 23.467 102.4 52.267zM218.667 757.333c0 19.2-6.4 27.733-24.533 29.867-25.6 4.267-40.533-19.2-29.867-46.933 3.2-9.6 16-14.933 29.867-12.8 18.133 2.133 24.533 10.667 24.533 29.867zM346.667 757.333c0 19.2-6.4 27.733-24.533 29.867-13.867 2.133-26.667-3.2-29.867-12.8-10.667-27.733 4.267-51.2 29.867-46.933 18.133 2.133 24.533 10.667 24.533 29.867zM474.667 757.333c0 19.2-6.4 27.733-24.533 29.867-13.867 2.133-26.667-3.2-29.867-12.8-10.667-27.733 4.267-51.2 29.867-46.933 18.133 2.133 24.533 10.667 24.533 29.867zM602.667 757.333c0 19.2-6.4 27.733-24.533 29.867-13.867 2.133-26.667-3.2-29.867-12.8-10.667-27.733 4.267-51.2 29.867-46.933 18.133 2.133 24.533 10.667 24.533 29.867zM730.667 757.333c0 19.2-6.4 27.733-24.533 29.867-13.867 2.133-26.667-3.2-29.867-12.8-10.667-27.733 4.267-51.2 29.867-46.933 18.133 2.133 24.533 10.667 24.533 29.867zM858.667 757.333c0 19.2-6.4 27.733-24.533 29.867-13.867 2.133-26.667-3.2-29.867-12.8-10.667-27.733 4.267-51.2 29.867-46.933 18.133 2.133 24.533 10.667 24.533 29.867z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Video"],grid:0},attrs:[{}],properties:{order:206,id:6,name:"Video",prevSize:32},setIdx:0,setId:3,iconIdx:14},{icon:{paths:["M156.8 157.867c-16 16-28.8 35.2-28.8 42.667 0 22.4 93.867 160 118.4 172.8 12.8 7.467 36.267 10.667 52.267 7.467 24.533-5.333 38.4 4.267 101.333 67.2 71.467 72.533 73.6 75.733 70.4 123.733l-3.2 49.067 137.6 137.6c119.467 120.533 141.867 137.6 171.733 137.6 91.733 0 145.067-80 104.533-157.867-24.533-45.867-243.2-256-276.267-263.467-16-4.267-39.467-5.333-53.333-1.067-19.2 4.267-38.4-8.533-100.267-70.4-66.133-66.133-75.733-80-70.4-104.533 3.2-16 0-39.467-7.467-52.267-12.8-24.533-150.4-118.4-173.867-118.4-7.467 0-26.667 13.867-42.667 29.867z","M581.333 147.2c-54.4 25.6-107.733 85.333-121.6 137.6-16 57.6-16 58.667 28.8 102.4 32 30.933 49.067 39.467 81.067 39.467 52.267 0 74.667 12.8 141.867 77.867l55.467 53.333 36.267-27.733c21.333-16 48-44.8 59.733-65.067 42.667-69.333 39.467-198.4-5.333-198.4-10.667 0-45.867 26.667-80 58.667-65.067 61.867-91.733 70.4-119.467 39.467-28.8-32-21.333-52.267 46.933-125.867 59.733-64 64-71.467 49.067-87.467-26.667-25.6-121.6-27.733-172.8-4.267z","M258.133 611.2c-106.667 106.667-121.6 126.933-126.933 165.333-5.333 39.467-2.133 48 32 82.133 65.067 65.067 100.267 54.4 227.2-71.467l87.467-85.333-25.6-38.4c-18.133-25.6-25.6-52.267-25.6-87.467s-6.4-55.467-19.2-67.2c-10.667-10.667-22.4-18.133-24.533-18.133s-58.667 54.4-124.8 120.533z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["Mechanic"],grid:0},attrs:[{},{},{}],properties:{order:212,id:7,name:"Mechanic",prevSize:32},setIdx:0,setId:3,iconIdx:15},{icon:{paths:["M494.933 186.667c-13.867 35.2 4.267 48 64 48 48 0 61.867 4.267 74.667 23.467 16 22.4 14.933 25.6-19.2 52.267-19.2 17.067-55.467 61.867-81.067 100.267-57.6 87.467-82.133 101.333-187.733 101.333-69.333 0-86.4 3.2-106.667 22.4-16 14.933-39.467 22.4-77.867 24.533-68.267 3.2-107.733 30.933-129.067 89.6-13.867 39.467-13.867 50.133 0 89.6 21.333 59.733 62.933 88.533 128 88.533s106.667-28.8 128-89.6c13.867-39.467 13.867-49.067-2.133-93.867l-18.133-49.067 28.8-22.4c16-12.8 33.067-22.4 38.4-22.4 6.4 0 19.2 28.8 29.867 64 11.733 37.333 30.933 73.6 46.933 87.467 24.533 23.467 36.267 24.533 173.867 24.533h146.133l17.067 35.2c22.4 45.867 82.133 75.733 135.467 67.2s89.6-38.4 107.733-89.6c13.867-39.467 13.867-50.133 0-89.6-21.333-59.733-62.933-88.533-126.933-89.6-41.6 0-59.733-7.467-91.733-33.067l-39.467-33.067 35.2-19.2c21.333-11.733 70.4-21.333 121.6-24.533 76.8-5.333 85.333-8.533 88.533-28.8 6.4-43.733-108.8-120.533-205.867-137.6-33.067-6.4-53.333-20.267-88.533-59.733l-46.933-52.267h-68.267c-51.2 0-70.4 4.267-74.667 16zM756.267 594.133c2.133 1.067-2.133 17.067-9.6 35.2-11.733 28.8-18.133 32-59.733 32h-45.867l16-44.8c24.533-70.4 34.133-77.867 67.2-49.067 14.933 13.867 29.867 25.6 32 26.667zM210.133 642.133c30.933 28.8 30.933 69.333 1.067 101.333-28.8 30.933-69.333 30.933-101.333 1.067-30.933-28.8-30.933-69.333-1.067-101.333 28.8-30.933 69.333-30.933 101.333-1.067zM914.133 642.133c30.933 28.8 30.933 69.333 1.067 101.333-30.933 33.067-75.733 32-103.467-3.2-12.8-16-22.4-36.267-22.4-46.933s9.6-30.933 22.4-46.933c26.667-34.133 68.267-36.267 102.4-4.267z","M98.133 325.333c-46.933 21.333-56.533 30.933-53.333 50.133 2.133 19.2 14.933 25.6 69.333 36.267 36.267 7.467 74.667 18.133 87.467 24.533 11.733 6.4 67.2 11.733 122.667 11.733h102.4l36.267-51.2 37.333-50.133-66.133-6.4c-36.267-3.2-91.733-13.867-123.733-23.467-82.133-25.6-145.067-22.4-212.267 8.533z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Motorcycle"],grid:0},attrs:[{},{}],properties:{order:203,id:8,name:"Motorcycle",prevSize:32},setIdx:0,setId:3,iconIdx:16},{icon:{paths:["M185.6 148.267c-44.8 27.733-58.667 68.267-55.467 161.067 2.133 59.733 7.467 80 22.4 89.6 12.8 8.533 23.467 8.533 37.333 0 13.867-9.6 19.2-30.933 23.467-96l5.333-84.267 84.267-5.333c65.067-4.267 86.4-9.6 96-24.533 8.533-12.8 8.533-23.467 0-37.333-18.133-28.8-168.533-30.933-213.333-3.2z","M631.467 140.8c-17.067 17.067-16 45.867 1.067 59.733 7.467 6.4 49.067 12.8 92.8 14.933l80 3.2 5.333 84.267c4.267 65.067 9.6 86.4 23.467 96 13.867 8.533 24.533 8.533 37.333 0 14.933-9.6 20.267-29.867 22.4-92.8 5.333-138.667-33.067-178.133-171.733-178.133-45.867 0-83.2 5.333-90.667 12.8z","M140.8 631.467c-7.467 7.467-12.8 44.8-12.8 90.667 0 138.667 39.467 177.067 178.133 171.733 62.933-2.133 83.2-7.467 92.8-21.333 8.533-13.867 8.533-24.533 0-38.4-9.6-13.867-30.933-19.2-96-23.467l-84.267-5.333-3.2-80c-2.133-43.733-8.533-85.333-14.933-92.8-13.867-17.067-42.667-18.133-59.733-1.067z","M823.467 632.533c-6.4 7.467-12.8 49.067-14.933 92.8l-3.2 80-84.267 5.333c-65.067 4.267-86.4 9.6-96 23.467-8.533 13.867-8.533 24.533 0 38.4 9.6 13.867 29.867 19.2 92.8 21.333 138.667 5.333 178.133-33.067 178.133-171.733 0-45.867-5.333-83.2-12.8-90.667-17.067-17.067-45.867-16-59.733 1.067z"],attrs:[{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{},{},{},{}],"1145692551255255255183252241":[{},{},{},{}]},tags:["Fullscreen"],grid:0},attrs:[{},{},{},{}],properties:{order:202,id:9,name:"Fullscreen",prevSize:32},setIdx:0,setId:3,iconIdx:17},{icon:{paths:["M158.933 137.6l-30.933 30.933v686.933l30.933 30.933c29.867 28.8 36.267 30.933 118.4 30.933s88.533-2.133 118.4-30.933l30.933-30.933v-686.933l-30.933-30.933c-29.867-28.8-36.267-30.933-118.4-30.933s-88.533 2.133-118.4 30.933z","M628.267 137.6l-30.933 30.933v686.933l30.933 30.933c29.867 28.8 36.267 30.933 118.4 30.933s88.533-2.133 118.4-30.933l30.933-30.933v-686.933l-30.933-30.933c-29.867-28.8-36.267-30.933-118.4-30.933s-88.533 2.133-118.4 30.933z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Pause"],grid:0},attrs:[{},{}],properties:{order:199,id:10,name:"Pause",prevSize:32},setIdx:0,setId:3,iconIdx:18},{icon:{paths:["M200.533 101.333c-16 9.6-34.133 25.6-40.533 37.333-14.933 27.733-14.933 718.933 0 747.733 16 28.8 72.533 55.467 102.4 48 39.467-10.667 626.133-337.067 647.467-360.533 23.467-27.733 23.467-96 0-123.733-24.533-26.667-615.467-354.133-652.8-360.533-14.933-2.133-40.533 3.2-56.533 11.733z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Play"],grid:0},attrs:[{}],properties:{order:200,id:11,name:"Play",prevSize:32},setIdx:0,setId:3,iconIdx:19},{icon:{paths:["M189.867 145.067c-58.667 30.933-61.867 51.2-61.867 366.933 0 317.867 3.2 337.067 64 368 45.867 23.467 594.133 23.467 640 0 60.8-30.933 64-50.133 64-368s-3.2-337.067-64-368c-44.8-23.467-599.467-23.467-642.133 1.067zM814.933 209.067c14.933 13.867 17.067 56.533 17.067 300.8v283.733l-141.867-140.8c-125.867-123.733-147.2-140.8-178.133-140.8s-52.267 17.067-178.133 140.8l-141.867 140.8v-283.733c0-244.267 2.133-286.933 17.067-300.8 24.533-25.6 581.333-25.6 605.867 0zM656 704l128 128h-544l128-128c70.4-70.4 135.467-128 144-128s73.6 57.6 144 128z","M585.6 308.267c-21.333 21.333-30.933 41.6-30.933 65.067 0 45.867 50.133 96 96 96s96-50.133 96-96c0-23.467-9.6-43.733-30.933-65.067-42.667-41.6-87.467-41.6-130.133 0zM677.333 373.333c0 19.2-6.4 27.733-24.533 29.867-25.6 4.267-40.533-19.2-29.867-46.933 3.2-9.6 16-14.933 29.867-12.8 18.133 2.133 24.533 10.667 24.533 29.867z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Picture"],grid:0},attrs:[{},{}],properties:{order:201,id:12,name:"Picture",prevSize:32},setIdx:0,setId:3,iconIdx:20},{icon:{paths:["M189.867 145.067c-58.667 30.933-61.867 51.2-61.867 369.067 0 164.267 4.267 298.667 10.667 307.2 7.467 12.8 42.667-17.067 173.867-147.2 146.133-144 167.467-162.133 199.467-162.133s53.333 18.133 199.467 162.133c131.2 130.133 166.4 160 173.867 147.2 6.4-8.533 10.667-142.933 10.667-307.2 0-320-3.2-339.2-64-370.133-44.8-23.467-599.467-23.467-642.133 1.067zM715.733 308.267c21.333 21.333 30.933 41.6 30.933 65.067s-9.6 43.733-30.933 65.067c-42.667 41.6-87.467 41.6-130.133 0-21.333-21.333-30.933-41.6-30.933-65.067s9.6-43.733 30.933-65.067c42.667-41.6 87.467-41.6 130.133 0z","M622.933 356.267c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M342.4 729.6c-118.4 118.4-148.267 154.667-134.4 160 23.467 8.533 584.533 8.533 608 0 13.867-5.333-16-41.6-134.4-160-84.267-84.267-161.067-153.6-169.6-153.6s-85.333 69.333-169.6 153.6z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["PictureFilled"],grid:0},attrs:[{},{},{}],properties:{order:2,id:13,name:"PictureFilled",prevSize:32},setIdx:0,setId:3,iconIdx:21},{icon:{paths:["M874.667 170.667h-725.333c-11.797 0-21.333 9.557-21.333 21.333v682.667c0 35.285 28.715 64 64 64h640c35.285 0 64-28.715 64-64v-682.667c0-11.776-9.536-21.333-21.333-21.333z","M832 874.667h-640c-23.573 0-42.667-19.093-42.667-42.667v-682.667h725.333v682.667c0 23.573-19.093 42.667-42.667 42.667z","M832 896h-640c-35.285 0-64-28.715-64-64v-682.667c0-11.797 9.557-21.333 21.333-21.333h725.333c11.776 0 21.333 9.536 21.333 21.333v682.667c0 35.285-28.715 64-64 64zM170.667 170.667v661.333c0 11.776 9.579 21.333 21.333 21.333h640c11.755 0 21.333-9.557 21.333-21.333v-661.333h-682.667z","M737.941 362.816c-18.752 0-17.963-3.883-53.973-3.883v13.824h4.629c9.408 0.917 39.531 6.869 28.757 33.28l-101.717 235.584-65.941-132.651 55.851-99.712c5.291-8.064 25.643-35.648 57.664-36.523v-13.824c-34.389 0-38.891 3.883-57.728 3.883-20.352 0-19.499-3.883-58.581-3.883v13.824c8.405 0.747 47.573 7.040 33.28 34.069-1.088 2.048-1.771 3.712-2.283 5.227l-39.595 74.005-39.595-79.68c-3.371-8.981-6.144-34.027 25.813-33.557-0.192-0.021-0.363-0.043-0.555-0.064h4.267v-13.845c-41.664 0-43.157 3.883-65.984 3.883-24.661 0-13.227-3.883-60.608-3.883v13.824h2.432c6.229 0.32 28.523 3.904 46.528 37.013l60.267 127.573-57.088 106.709-106.709-236.949c-1.92-7.083-5.227-34.773 28.757-34.304-0.192-0.021-0.405-0.043-0.597-0.064h8.832v-13.845c-44.693 0-50.539 3.883-75.051 3.883-26.453 0-25.323-3.883-76.16-3.883v13.824h10.112l-5.227 0.235c0 0 39.253-2.389 59.584 42.688 0.491 1.088 1.003 1.877 1.515 2.859l127.104 289.323 12.245 0.192 83.157-148.459 70.037 148.267 1.131-0.064-0.021 0.064 11.413 0.192 137.408-300.523c5.099-9.728 20.523-33.941 48.469-34.773h1.323v-13.845c-31.637 0.107-35.797 3.989-53.163 3.989z"],attrs:[{fill:"rgb(0, 0, 0)"},{fill:"rgb(255, 255, 255)"},{fill:"rgb(0, 0, 0)"},{fill:"rgb(0, 0, 0)"}],isMulticolor:!0,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{f:0},{f:3},{f:0},{f:0}],"1145692551255255255183252241":[{f:0},{f:3},{f:0},{f:0}]},tags:["Wiki"],grid:0},attrs:[{fill:"rgb(0, 0, 0)"},{fill:"rgb(255, 255, 255)"},{fill:"rgb(0, 0, 0)"},{fill:"rgb(0, 0, 0)"}],properties:{order:198,id:14,name:"Wiki",prevSize:32},setIdx:0,setId:3,iconIdx:22},{icon:{paths:["M7.103 8.040h335.189v223.29h111.73v-111.645h111.731v-111.645h335.191v334.935h-111.733v111.644h-111.728v111.647h111.728v111.644h111.733v334.936h-335.191v-111.645h-111.731v-111.647h-111.73v223.292h-335.189v-1004.805z"],width:910,attrs:[{fill:"rgb(255, 255, 255)"}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{f:3}],"1145692551255255255183252241":[{f:3}]},tags:["KickWhite"],grid:0},attrs:[{fill:"rgb(255, 255, 255)"}],properties:{order:214,id:15,name:"KickWhite",prevSize:32},setIdx:0,setId:3,iconIdx:23},{icon:{paths:["M186.762 9.535l-180.061 179.678v646.837h216.073v179.676l180.061-179.676h144.049l324.11-323.419v-503.096h-684.231zM798.969 476.696l-144.049 143.742h-144.048l-126.043 125.773v-125.773h-162.055v-539.031h576.195v395.289z","M690.933 207.18h-72.025v215.613h72.025v-215.613z","M492.865 207.18h-72.023v215.613h72.023v-215.613z"],width:872,attrs:[{fill:"rgb(255, 255, 255)"},{fill:"rgb(255, 255, 255)"},{fill:"rgb(255, 255, 255)"}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"11254211456925512552552551":[{f:3},{f:3},{f:3}],"1145692551255255255183252241":[{f:3},{f:3},{f:3}]},tags:["TwitchWhite"],grid:0},attrs:[{fill:"rgb(255, 255, 255)"},{fill:"rgb(255, 255, 255)"},{fill:"rgb(255, 255, 255)"}],properties:{order:215,id:16,name:"TwitchWhite",prevSize:32},setIdx:0,setId:3,iconIdx:24},{icon:{paths:["M418.133 100.267c-149.333 49.067-226.133 171.733-226.133 362.667 0 89.6-3.2 107.733-32 168.533-38.4 81.067-39.467 98.133-5.333 131.2 23.467 24.533 34.133 26.667 126.933 26.667h100.267l7.467 30.933c3.2 16 21.333 43.733 38.4 60.8 45.867 44.8 122.667 44.8 168.533 0 17.067-17.067 35.2-44.8 38.4-60.8l7.467-30.933h100.267c92.8 0 103.467-2.133 126.933-26.667 34.133-33.067 33.067-50.133-2.133-122.667-24.533-50.133-29.867-77.867-35.2-186.667-7.467-141.867-24.533-196.267-84.267-264.533-72.533-82.133-224-122.667-329.6-88.533zM590.933 162.133c58.667 17.067 147.2 105.6 164.267 164.267 7.467 24.533 12.8 92.8 12.8 152.533 0 99.2 3.2 114.133 32 171.733 18.133 35.2 32 66.133 32 69.333s-144 5.333-320 5.333c-176 0-320-2.133-320-5.333s12.8-30.933 28.8-61.867c25.6-49.067 29.867-71.467 35.2-188.8 7.467-152.533 24.533-198.4 94.933-257.067 70.4-59.733 150.4-76.8 240-50.133zM576 800c0 18.133-41.6 53.333-64 53.333s-64-35.2-64-53.333c0-6.4 28.8-10.667 64-10.667s64 4.267 64 10.667z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Notification"],grid:0},attrs:[{}],properties:{order:193,id:18,name:"Notification",prevSize:32},setIdx:0,setId:3,iconIdx:25},{icon:{paths:["M418.133 100.267c-99.2 33.067-181.333 116.267-211.2 217.6-8.533 26.667-14.933 87.467-14.933 136.533 0 75.733-4.267 97.067-32 155.733-38.4 81.067-39.467 98.133-5.333 131.2l25.6 26.667h663.467l25.6-26.667c33.067-33.067 33.067-50.133-2.133-122.667-23.467-48-29.867-78.933-35.2-176-7.467-130.133-26.667-187.733-84.267-253.867-72.533-82.133-224-122.667-329.6-88.533z","M391.467 830.933c3.2 10.667 19.2 34.133 37.333 50.133 25.6 25.6 40.533 30.933 83.2 30.933s57.6-5.333 83.2-30.933c18.133-16 34.133-39.467 37.333-50.133 5.333-19.2-2.133-20.267-120.533-20.267s-125.867 1.067-120.533 20.267z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["NotificationFilled"],grid:0},attrs:[{},{}],properties:{order:192,id:19,name:"NotificationFilled",prevSize:32},setIdx:0,setId:3,iconIdx:26},{icon:{paths:["M405.049 119.467c-25.031 9.102-58.027 25.031-73.956 37.547-36.409 26.169-80.782 110.364-80.782 152.462 0 31.858 1.138 31.858 73.956 31.858 67.129 0 73.956-2.276 73.956-22.756 0-40.96 50.062-79.644 102.4-79.644 59.164 0 84.196 13.653 101.262 54.613 18.204 44.373 2.276 83.058-51.2 124.018-23.893 17.067-62.578 50.062-86.471 72.818-38.684 37.547-43.236 47.787-43.236 100.124v58.027h73.956c71.68 0 73.956-1.138 73.956-29.582 0-44.373 18.204-69.404 84.196-111.502 77.369-48.924 111.502-97.849 118.329-166.116 6.827-75.093-13.653-129.707-67.129-175.218-72.818-61.44-201.387-81.92-299.236-46.649z","M432.356 773.689c-13.653 13.653-22.756 37.547-22.756 62.578 0 52.338 32.996 85.333 85.333 85.333s85.333-32.996 85.333-85.333c0-25.031-9.102-48.924-22.756-62.578s-37.547-22.756-62.578-22.756c-25.031 0-48.924 9.102-62.578 22.756z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Question"],grid:0},attrs:[{},{}],properties:{order:191,id:20,name:"Question",prevSize:32},setIdx:0,setId:3,iconIdx:27},{icon:{paths:["M778.411 96h141.141l-308.352 352.427 362.752 479.573h-284.032l-222.464-290.859-254.549 290.859h-141.227l329.813-376.96-347.989-455.040h291.243l201.088 265.856zM728.875 843.52h78.208l-504.832-667.477h-83.925z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["x","twitter"],grid:0},attrs:[{}],properties:{order:1,id:21,prevSize:32,name:"Twitter"},setIdx:0,setId:3,iconIdx:28},{icon:{paths:["M560 162.133c-3.2 7.467-6.4 52.267-7.467 98.133l-3.2 84.267-60.8 13.867c-132.267 30.933-259.2 119.467-318.933 222.933-35.2 61.867-66.133 185.6-60.8 246.4 3.2 36.267 6.4 41.6 28.8 41.6 21.333 0 27.733-8.533 39.467-49.067 8.533-26.667 34.133-70.4 56.533-97.067 56.533-64 131.2-96 237.867-102.4l82.133-5.333 3.2 94.933c4.267 137.6 9.6 135.467 201.6-55.467 87.467-87.467 158.933-166.4 158.933-174.933 0-22.4-310.4-330.667-333.867-330.667-10.667 0-21.333 6.4-23.467 12.8z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["ShareFilled"],grid:0},attrs:[{}],properties:{order:187,id:22,name:"ShareFilled",prevSize:32},setIdx:0,setId:3,iconIdx:29},{icon:{paths:["M562.133 156.8c-4.267 3.2-7.467 48-7.467 98.133v91.733l-61.867 11.733c-203.733 39.467-347.733 189.867-377.6 395.733-13.867 97.067-8.533 123.733 24.533 118.4 18.133-2.133 27.733-17.067 41.6-59.733 37.333-114.133 141.867-182.4 290.133-192l82.133-5.333 3.2 94.933c4.267 137.6 9.6 135.467 201.6-55.467 87.467-87.467 158.933-166.4 158.933-174.933 0-21.333-310.4-330.667-331.733-330.667-9.6 0-20.267 3.2-23.467 7.467zM730.667 586.667l-106.667 107.733-10.667-134.4-90.667-3.2c-109.867-4.267-204.8 18.133-266.667 62.933-51.2 37.333-53.333 29.867-10.667-35.2 57.6-86.4 144-137.6 281.6-167.467l86.4-18.133 6.4-136.533 217.6 217.6-106.667 106.667z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Share"],grid:0},attrs:[{}],properties:{order:186,id:23,name:"Share",prevSize:32},setIdx:0,setId:3,iconIdx:30},{icon:{paths:["M232.533 102.4c-59.733 32-61.867 48-61.867 409.6 0 364.8 2.133 378.667 64 410.667 26.667 13.867 78.933 16 332.8 13.867l301.867-3.2v-53.333l-307.2-5.333c-257.067-4.267-308.267-7.467-316.8-21.333s28.8-17.067 307.2-21.333l316.8-5.333 3.2-323.2c3.2-355.2 0-370.133-61.867-402.133-44.8-23.467-535.467-22.4-578.133 1.067zM793.6 166.4c14.933 13.867 17.067 57.6 17.067 309.333v292.267h-576v-292.267c0-251.733 2.133-295.467 17.067-309.333 24.533-25.6 517.333-25.6 541.867 0z","M324.267 357.333c-4.267 8.533-4.267 23.467 0 32 5.333 13.867 34.133 16 200.533 13.867l195.2-3.2v-53.333l-195.2-3.2c-166.4-2.133-195.2 0-200.533 13.867z","M324.267 506.667c-4.267 8.533-4.267 23.467 0 32 5.333 13.867 30.933 16 168.533 13.867l163.2-3.2v-53.333l-163.2-3.2c-137.6-2.133-163.2 0-168.533 13.867z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["Read"],grid:0},attrs:[{},{},{}],properties:{order:185,id:24,name:"Read",prevSize:32},setIdx:0,setId:3,iconIdx:31},{icon:{paths:["M484.267 100.267c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M309.333 138.667c-77.867 43.733-130.133 96-170.667 172.8-36.267 68.267-39.467 109.867-6.4 109.867 14.933 0 30.933-18.133 52.267-60.8 39.467-77.867 98.133-136.533 176-176 42.667-21.333 60.8-37.333 60.8-52.267 0-32-45.867-29.867-112 6.4z","M601.6 122.667c-9.6 22.4 0 32 64 62.933 73.6 36.267 134.4 97.067 173.867 174.933 21.333 42.667 37.333 60.8 52.267 60.8 33.067 0 29.867-41.6-7.467-112-39.467-74.667-103.467-136.533-179.2-174.933-60.8-30.933-94.933-35.2-103.467-11.733z","M577.067 348.8c-55.467 27.733-118.4 67.2-139.733 88.533-37.333 37.333-138.667 228.267-138.667 261.333 0 9.6 7.467 19.2 17.067 23.467 25.6 9.6 224-90.667 269.867-136.533s146.133-244.267 136.533-269.867c-10.667-26.667-36.267-20.267-145.067 33.067zM618.667 411.733c0 13.867-64 118.4-82.133 134.4-30.933 25.6-120.533 75.733-126.933 69.333-7.467-7.467 22.4-67.2 56.533-112 32-43.733 152.533-115.2 152.533-91.733z","M484.267 494.933c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M89.6 494.933c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M878.933 494.933c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M114.133 603.733c-23.467 24.533 22.4 129.067 89.6 200.533 48 53.333 158.933 116.267 194.133 110.933 45.867-6.4 27.733-41.6-37.333-75.733-77.867-39.467-136.533-98.133-176-176-28.8-56.533-53.333-76.8-70.4-59.733z","M872.533 603.733c-4.267 3.2-19.2 32-35.2 62.933-35.2 72.533-96 133.333-173.867 172.8-65.067 34.133-83.2 69.333-37.333 75.733 35.2 5.333 146.133-57.6 194.133-110.933 51.2-54.4 99.2-146.133 94.933-178.133-3.2-22.4-29.867-36.267-42.667-22.4z","M484.267 889.6c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z"],attrs:[{},{},{},{},{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{},{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{},{},{},{},{}]},tags:["Discover"],grid:0},attrs:[{},{},{},{},{},{},{},{},{},{}],properties:{order:184,id:25,name:"Discover",prevSize:32},setIdx:0,setId:3,iconIdx:32},{icon:{paths:["M394.667 103.467c-82.133 25.6-162.133 104.533-185.6 183.467-9.6 32-17.067 86.4-17.067 121.6 0 46.933-5.333 69.333-21.333 89.6-11.733 14.933-21.333 40.533-21.333 57.6 0 30.933 45.867 94.933 67.2 94.933 7.467 0 24.533 32 38.4 71.467 44.8 124.8 169.6 227.2 260.267 214.4 17.067-2.133 23.467-10.667 23.467-29.867 0-21.333-6.4-27.733-37.333-33.067-97.067-16-168.533-94.933-206.933-227.2-8.533-28.8-19.2-44.8-33.067-48-50.133-8.533-62.933-48-26.667-81.067 17.067-16 21.333-33.067 21.333-96 0-170.667 73.6-254.933 233.6-268.8 106.667-8.533 181.333 16 248.533 83.2 71.467 71.467 62.933 78.933-90.667 78.933-108.8 0-124.8-2.133-179.2-29.867-33.067-16-64-28.8-69.333-28.8-18.133 1.067-80 85.333-76.8 104.533 5.333 27.733 43.733 27.733 71.467-1.067 22.4-24.533 25.6-25.6 53.333-11.733 49.067 24.533 150.4 38.4 232.533 34.133 59.733-4.267 77.867-2.133 83.2 9.6 3.2 8.533 5.333 77.867 5.333 154.667v138.667l-30.933 30.933c-37.333 37.333-86.4 40.533-125.867 9.6-36.267-27.733-69.333-26.667-97.067 3.2-29.867 32-29.867 72.533 1.067 101.333s60.8 29.867 96 2.133c14.933-11.733 42.667-21.333 60.8-21.333 56.533 0 114.133-40.533 141.867-98.133 12.8-27.733 29.867-50.133 37.333-51.2 7.467 0 25.6-11.733 39.467-26.667 38.4-37.333 38.4-122.667 0-160-13.867-14.933-32-26.667-40.533-26.667-22.4 0-32-85.333-11.733-107.733 22.4-25.6 18.133-54.4-17.067-107.733-34.133-52.267-86.4-92.8-154.667-121.6-61.867-25.6-199.467-29.867-272-7.467z","M373.333 528c-16 19.2-10.667 48 13.867 62.933 36.267 23.467 77.867-28.8 50.133-62.933-17.067-20.267-46.933-20.267-64 0z","M586.667 528c-16 19.2-10.667 48 13.867 62.933 36.267 23.467 77.867-28.8 50.133-62.933-17.067-20.267-46.933-20.267-64 0z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["Support"],grid:0},attrs:[{},{},{}],properties:{order:2,id:26,name:"Support",prevSize:32},setIdx:0,setId:3,iconIdx:33},{icon:{paths:["M448 130.133c-44.8 92.8-51.2 129.067-28.8 163.2 9.6 14.933 12.8 48 9.6 108.8l-4.267 88.533h-90.667c-167.467 0-184.533 24.533-184.533 260.267v165.333l-40.533 3.2c-34.133 3.2-39.467 6.4-39.467 29.867v26.667h885.333v-26.667c0-23.467-5.333-26.667-39.467-29.867l-40.533-3.2v-165.333c0-235.733-17.067-260.267-184.533-260.267h-90.667l-4.267-88.533c-3.2-60.8 0-93.867 9.6-108.8 22.4-34.133 16-70.4-28.8-163.2-32-68.267-46.933-87.467-64-87.467s-32 19.2-64 87.467zM537.6 197.333c21.333 52.267 12.8 80-25.6 80s-46.933-27.733-25.6-80c11.733-26.667 22.4-48 25.6-48s13.867 21.333 25.6 48zM531.2 419.2c3.2 66.133 1.067 71.467-19.2 71.467-19.2 0-21.333-6.4-21.333-67.2 0-37.333 3.2-71.467 7.467-75.733 18.133-18.133 29.867 6.4 33.067 71.467zM793.6 571.733c23.467 22.4 22.4 108.8-1.067 134.4-35.2 38.4-101.333 14.933-112-39.467-5.333-32-55.467-28.8-59.733 3.2-4.267 27.733-56.533 55.467-103.467 55.467-45.867 0-100.267-28.8-112-58.667-12.8-34.133-56.533-34.133-61.867 0-10.667 54.4-71.467 76.8-110.933 40.533-24.533-22.4-26.667-110.933-2.133-135.467 24.533-25.6 538.667-25.6 563.2 0zM410.667 763.733c42.667 27.733 133.333 30.933 187.733 7.467 45.867-20.267 48-20.267 78.933-1.067 23.467 14.933 45.867 19.2 83.2 16l50.133-4.267v135.467h-597.333v-135.467l51.2 4.267c37.333 3.2 58.667-1.067 82.133-17.067 39.467-25.6 33.067-25.6 64-5.333z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Birthday"],grid:0},attrs:[{}],properties:{order:182,id:28,name:"Birthday",prevSize:32},setIdx:0,setId:3,iconIdx:34},{icon:{paths:["M125.867 166.4c-57.6 30.933-61.867 53.333-61.867 345.6 0 294.4 4.267 315.733 64 346.667 45.867 23.467 722.133 23.467 768 0 59.733-30.933 64-52.267 64-346.667s-4.267-315.733-64-346.667c-45.867-23.467-726.4-23.467-770.133 1.067zM551.467 375.467c28.8 55.467 30.933 56.533 92.8 67.2 35.2 6.4 65.067 17.067 68.267 24.533 2.133 6.4-16 30.933-40.533 52.267l-43.733 39.467 7.467 72.533c8.533 84.267 6.4 85.333-70.4 45.867l-53.333-26.667-53.333 26.667c-76.8 39.467-78.933 38.4-70.4-45.867l7.467-72.533-43.733-40.533c-24.533-22.4-41.6-45.867-39.467-52.267 2.133-7.467 32-17.067 67.2-23.467 61.867-10.667 64-11.733 92.8-67.2 17.067-29.867 34.133-55.467 39.467-55.467s22.4 25.6 39.467 55.467z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["MembershipFilled"],grid:0},attrs:[{}],properties:{order:181,id:29,name:"MembershipFilled",prevSize:32},setIdx:0,setId:3,iconIdx:35},{icon:{paths:["M112 197.333l-26.667 25.6v578.133l26.667 25.6 25.6 26.667h748.8l25.6-26.667 26.667-25.6v-578.133l-26.667-25.6-25.6-26.667h-748.8l-25.6 26.667zM853.333 512v256h-682.667v-512h682.667v256z","M373.333 389.333c-22.4 55.467-25.6 58.667-62.933 59.733-21.333 1.067-50.133 4.267-64 8.533-24.533 6.4-24.533 7.467 20.267 48 42.667 38.4 44.8 42.667 38.4 84.267-4.267 24.533-10.667 56.533-13.867 70.4-6.4 24.533-4.267 23.467 52.267-12.8l59.733-37.333 60.8 36.267c46.933 28.8 58.667 32 54.4 18.133-3.2-10.667-10.667-40.533-17.067-67.2l-12.8-48 50.133-43.733 51.2-43.733-35.2-6.4c-19.2-4.267-48-7.467-65.067-7.467-27.733 0-34.133-7.467-57.6-58.667-13.867-32-27.733-58.667-29.867-58.667-3.2 0-16 26.667-28.8 58.667z","M597.333 640v42.667h85.333v-85.333h-85.333v42.667z","M725.333 640v42.667h85.333v-85.333h-85.333v42.667z"],attrs:[{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{}],"11254211456925512552552551":[{},{},{},{}],"1145692551255255255183252241":[{},{},{},{}]},tags:["Membership"],grid:0},attrs:[{},{},{},{}],properties:{order:180,id:30,name:"Membership",prevSize:32},setIdx:0,setId:3,iconIdx:36},{icon:{paths:["M204.8 139.733c-75.733 22.4-140.8 118.4-140.8 208 0 37.333 49.067 141.867 70.4 150.4 11.733 4.267 14.933 40.533 14.933 172.8v167.467l51.2 50.133c27.733 27.733 57.6 50.133 67.2 50.133 20.267 0 137.6-118.4 137.6-138.667 0-7.467-10.667-25.6-23.467-39.467l-22.4-24.533 22.4-24.533c12.8-13.867 23.467-30.933 23.467-39.467s-10.667-25.6-23.467-39.467l-22.4-24.533 22.4-24.533c12.8-13.867 23.467-37.333 23.467-51.2 0-14.933 11.733-38.4 26.667-52.267 88.533-83.2 69.333-245.333-37.333-315.733-45.867-30.933-133.333-41.6-189.867-24.533zM349.867 213.333c92.8 56.533 101.333 167.467 19.2 244.267-14.933 14.933-27.733 36.267-27.733 49.067s-13.867 36.267-32 53.333c-38.4 36.267-39.467 54.4-8.533 87.467l22.4 24.533-22.4 24.533c-29.867 30.933-29.867 48 0 78.933l23.467 25.6-28.8 27.733-27.733 28.8-27.733-25.6c-26.667-24.533-26.667-27.733-26.667-186.667 0-160 0-162.133-27.733-187.733-37.333-35.2-57.6-75.733-57.6-118.4 0-73.6 74.667-147.2 149.333-147.2 20.267 0 53.333 9.6 72.533 21.333z","M245.333 272c-27.733 34.133 13.867 86.4 51.2 62.933 36.267-23.467 23.467-78.933-19.2-78.933-10.667 0-24.533 7.467-32 16z","M548.267 279.467c3.2 13.867 6.4 27.733 6.4 32 0 5.333 76.8 8.533 170.667 8.533h170.667v149.333h-369.067l-23.467 32-24.533 32h217.6c213.333 0 217.6 0 240-24.533 20.267-21.333 23.467-37.333 23.467-115.2 0-81.067-2.133-93.867-24.533-114.133-23.467-22.4-34.133-23.467-209.067-23.467h-184.533l6.4 23.467z","M448 602.667c0 2.133 5.333 17.067 12.8 32l11.733 26.667h423.467v149.333h-421.333l-36.267 64h237.867c234.667 0 237.867 0 260.267-24.533 20.267-21.333 23.467-37.333 23.467-115.2 0-81.067-2.133-93.867-24.533-114.133-23.467-22.4-33.067-23.467-256-23.467-126.933 0-231.467 2.133-231.467 5.333z"],attrs:[{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{}],"11254211456925512552552551":[{},{},{},{}],"1145692551255255255183252241":[{},{},{},{}]},tags:["Access"],grid:0},attrs:[{},{},{},{}],properties:{order:2,id:31,name:"Access",prevSize:32},setIdx:0,setId:3,iconIdx:37},{icon:{paths:["M160 125.867c-66.133 33.067-74.667 65.067-74.667 298.667 0 224 7.467 263.467 57.6 295.467 14.933 9.6 45.867 20.267 70.4 23.467l42.667 6.4v67.2c0 70.4 16 100.267 52.267 100.267 10.667 0 70.4-38.4 132.267-85.333l113.067-85.333h136.533c157.867 0 199.467-13.867 229.333-74.667 16-32 19.2-68.267 19.2-245.333 0-331.733 16-320-426.667-320-278.4 0-318.933 2.133-352 19.2zM279.467 359.467c18.133 16 20.267 16 39.467-1.067 42.667-39.467 87.467 5.333 48 48-17.067 19.2-17.067 21.333 0 40.533 39.467 42.667-5.333 87.467-48 48-19.2-17.067-21.333-17.067-40.533 0-42.667 39.467-87.467-5.333-48-48 17.067-19.2 17.067-21.333 1.067-39.467-43.733-48 0-91.733 48-48zM492.8 359.467c18.133 16 20.267 16 39.467-1.067 42.667-39.467 87.467 5.333 48 48-17.067 19.2-17.067 21.333 0 40.533 39.467 42.667-5.333 87.467-48 48-19.2-17.067-21.333-17.067-40.533 0-42.667 39.467-87.467-5.333-48-48 17.067-19.2 17.067-21.333 1.067-39.467-19.2-20.267-23.467-46.933-10.667-58.667 11.733-12.8 38.4-8.533 58.667 10.667zM706.133 359.467c18.133 16 20.267 16 39.467-1.067 42.667-39.467 87.467 5.333 48 48-17.067 19.2-17.067 21.333 0 40.533 39.467 42.667-5.333 87.467-48 48-19.2-17.067-21.333-17.067-40.533 0-42.667 39.467-87.467-5.333-48-48 17.067-19.2 17.067-21.333 1.067-39.467-43.733-48 0-91.733 48-48z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["AuthenticationFilled"],grid:0},attrs:[{}],properties:{order:3,id:32,name:"AuthenticationFilled",prevSize:32},setIdx:0,setId:3,iconIdx:38},{icon:{paths:["M334.933 148.267c-45.867 27.733-58.667 68.267-55.467 167.467 3.2 82.133 4.267 84.267 29.867 84.267s26.667-2.133 32-93.867c4.267-67.2 9.6-96 21.333-103.467 8.533-5.333 110.933-10.667 226.133-10.667 176 0 212.267 2.133 226.133 17.067 25.6 24.533 25.6 581.333 0 605.867-13.867 14.933-50.133 17.067-226.133 17.067-115.2 0-217.6-5.333-226.133-10.667-11.733-7.467-17.067-36.267-21.333-103.467-5.333-91.733-6.4-93.867-32-93.867s-26.667 2.133-29.867 87.467c-3.2 101.333 11.733 142.933 61.867 168.533 44.8 23.467 445.867 23.467 490.667 0 60.8-30.933 64-50.133 64-368s-3.2-337.067-64-368c-24.533-12.8-74.667-16-247.467-16-193.067 0-219.733 2.133-249.6 20.267z","M498.133 359.467c-16 16-5.333 43.733 30.933 78.933l37.333 36.267-433.067 10.667v53.333l217.6 3.2 218.667 2.133-40.533 41.6c-42.667 43.733-48 77.867-12.8 84.267 23.467 5.333 166.4-131.2 166.4-157.867 0-21.333-139.733-160-161.067-160-9.6 0-20.267 3.2-23.467 7.467z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Login"],grid:0},attrs:[{},{}],properties:{order:4,id:33,name:"Login",prevSize:32},setIdx:0,setId:3,iconIdx:39},{icon:{paths:["M160 125.867c-66.133 33.067-74.667 65.067-74.667 298.667 0 224 7.467 263.467 57.6 295.467 14.933 9.6 45.867 20.267 70.4 23.467l42.667 6.4v66.133c0 68.267 18.133 101.333 55.467 101.333 8.533 0 67.2-38.4 129.067-85.333l113.067-85.333h136.533c157.867 0 199.467-13.867 229.333-74.667 16-32 19.2-68.267 19.2-245.333 0-331.733 16-320-426.667-320-278.4 0-318.933 2.133-352 19.2zM850.133 194.133c24.533 22.4 24.533 27.733 24.533 231.467 0 270.933 10.667 257.067-194.133 257.067h-148.267l-211.2 160-3.2-76.8-3.2-77.867-58.667-3.2c-41.6-2.133-65.067-9.6-82.133-25.6-23.467-22.4-24.533-28.8-24.533-231.467 0-198.4 1.067-209.067 23.467-232.533l22.4-24.533h315.733c308.267 0 314.667 0 339.2 23.467z","M220.8 348.8c-12.8 11.733-8.533 38.4 10.667 58.667 16 18.133 16 20.267-1.067 39.467-39.467 42.667 5.333 87.467 48 48 19.2-17.067 21.333-17.067 40.533 0 42.667 39.467 87.467-5.333 48-48-17.067-19.2-17.067-21.333 0-40.533 39.467-42.667-5.333-87.467-48-48-19.2 17.067-21.333 17.067-39.467 1.067-20.267-19.2-46.933-23.467-58.667-10.667z","M434.133 348.8c-12.8 11.733-8.533 38.4 10.667 58.667 16 18.133 16 20.267-1.067 39.467-39.467 42.667 5.333 87.467 48 48 19.2-17.067 21.333-17.067 40.533 0 42.667 39.467 87.467-5.333 48-48-17.067-19.2-17.067-21.333 0-40.533 39.467-42.667-5.333-87.467-48-48-19.2 17.067-21.333 17.067-39.467 1.067-20.267-19.2-46.933-23.467-58.667-10.667z","M647.467 348.8c-12.8 11.733-8.533 38.4 10.667 58.667 16 18.133 16 20.267-1.067 39.467-39.467 42.667 5.333 87.467 48 48 19.2-17.067 21.333-17.067 40.533 0 42.667 39.467 87.467-5.333 48-48-17.067-19.2-17.067-21.333 0-40.533 39.467-42.667-5.333-87.467-48-48-19.2 17.067-21.333 17.067-39.467 1.067-20.267-19.2-46.933-23.467-58.667-10.667z"],attrs:[{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{}],"11254211456925512552552551":[{},{},{},{}],"1145692551255255255183252241":[{},{},{},{}]},tags:["Authentication"],grid:0},attrs:[{},{},{},{}],properties:{order:5,id:34,name:"Authentication",prevSize:32},setIdx:0,setId:3,iconIdx:40},{icon:{paths:["M204.8 139.733c-19.2 5.333-53.333 28.8-76.8 52.267-85.333 85.333-84.267 214.4 1.067 299.733l41.6 41.6v326.4l40.533 39.467c22.4 21.333 48 39.467 56.533 39.467 20.267 0 116.267-97.067 116.267-117.333 0-7.467-10.667-25.6-23.467-39.467l-22.4-24.533 22.4-24.533c12.8-13.867 23.467-30.933 23.467-39.467s-10.667-25.6-23.467-39.467l-22.4-24.533 22.4-24.533c12.8-13.867 23.467-35.2 23.467-48s19.2-42.667 41.6-65.067c96-96 80-253.867-30.933-327.467-45.867-30.933-133.333-41.6-189.867-24.533zM309.333 272c27.733 34.133-13.867 86.4-50.133 62.933-37.333-23.467-24.533-78.933 18.133-78.933 10.667 0 24.533 7.467 32 16z","M552.533 323.2c5.333 58.667-11.733 121.6-45.867 171.733l-25.6 38.4h216.533c212.267 0 216.533 0 238.933-24.533 20.267-21.333 23.467-37.333 23.467-104.533 0-70.4-3.2-83.2-24.533-103.467-23.467-22.4-35.2-23.467-205.867-23.467h-180.267l3.2 45.867z","M434.133 612.267c-3.2 8.533-1.067 29.867 6.4 48 9.6 25.6 9.6 40.533 0 66.133-8.533 22.4-9.6 40.533-3.2 53.333 6.4 10.667 10.667 30.933 10.667 45.867v27.733h232.533c229.333 0 233.6 0 256-24.533 20.267-21.333 23.467-37.333 23.467-104.533 0-70.4-3.2-83.2-24.533-103.467-23.467-22.4-33.067-23.467-260.267-23.467-194.133 0-236.8 3.2-241.067 14.933z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["AccessFilled"],grid:0},attrs:[{},{},{}],properties:{order:6,id:35,name:"AccessFilled",prevSize:32},setIdx:0,setId:3,iconIdx:41},{icon:{paths:["M834.965 560.683c-15.211-11.157-24.299-29.077-24.299-47.957s9.088-36.8 24.277-47.936l70.272-51.52c11.2-8.235 15.829-22.72 11.456-35.925-18.091-54.357-46.699-103.936-85.056-147.392-9.237-10.411-24.128-13.696-36.864-8.107l-79.125 34.795c-17.237 7.595-37.312 6.507-53.675-2.944-16.341-9.429-27.307-26.24-29.376-44.992l-9.515-86.869c-1.515-13.824-11.797-25.088-25.408-27.883-55.403-11.328-113.621-11.52-170.005-0.213-13.696 2.752-24 14.016-25.515 27.904l-9.429 86.315c-2.069 18.773-13.035 35.584-29.419 45.013-16.341 9.429-36.352 10.56-53.653 2.944l-79.552-34.987c-12.629-5.589-27.563-2.347-36.8 8.043-38.485 43.285-67.221 92.8-85.504 147.115-4.437 13.184 0.171 27.755 11.413 36.011l69.824 51.2c15.232 11.179 24.32 29.099 24.32 47.979s-9.088 36.8-24.277 47.936l-70.272 51.52c-11.2 8.235-15.829 22.72-11.456 35.925 18.091 54.357 46.699 103.936 85.056 147.392 9.237 10.432 24.171 13.739 36.864 8.107l79.125-34.795c17.237-7.595 37.291-6.507 53.675 2.944 16.341 9.429 27.307 26.24 29.376 44.992l9.515 86.869c1.515 13.824 11.797 25.088 25.408 27.883 28.032 5.717 56.832 8.619 85.653 8.619 28.117 0 56.491-2.837 84.331-8.427 13.696-2.752 24-14.016 25.515-27.904l9.451-86.315c2.069-18.773 13.035-35.584 29.419-45.013 16.341-9.408 36.373-10.517 53.653-2.944l79.552 34.987c12.672 5.611 27.563 2.368 36.8-8.043 38.485-43.285 67.221-92.8 85.504-147.115 4.437-13.184-0.171-27.755-11.413-36.011l-69.845-51.2zM512 661.333c-82.475 0-149.333-66.859-149.333-149.333s66.859-149.333 149.333-149.333 149.333 66.859 149.333 149.333-66.859 149.333-149.333 149.333z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["SettingsFilled"],grid:0},attrs:[{}],properties:{order:179,id:36,name:"SettingsFilled",prevSize:32},setIdx:0,setId:3,iconIdx:42},{icon:{paths:["M512 85.333c-33.64 0-66.077 4.254-97.042 11.458-13.144 3.145-23.019 14.089-24.528 27.563l-0.013 0.145-6.792 61.917c-2.221 20.29-13.942 38.242-31.625 48.458-17.648 10.196-39.069 11.326-57.75 3.125h-0.042l-56.875-25.042c-3.794-1.713-8.226-2.711-12.891-2.711-9.206 0-17.505 3.887-23.343 10.11l-0.016 0.017c-44.213 47.136-78.146 104.213-97.417 167.917-0.871 2.775-1.373 5.965-1.373 9.273 0 10.557 5.111 19.919 12.994 25.749l0.087 0.061 50.458 37c16.477 12.114 26.167 31.205 26.167 51.625 0 20.431-9.69 39.538-26.167 51.625l-50.458 36.958c-7.97 5.891-13.081 15.254-13.081 25.81 0 3.308 0.502 6.498 1.434 9.5l-0.061-0.227c19.268 63.697 53.174 120.816 97.417 167.958 5.853 6.223 14.14 10.098 23.332 10.098 4.675 0 9.117-1.003 13.12-2.804l-0.202 0.081 56.875-25.042c18.69-8.219 40.131-7.037 57.792 3.167 17.683 10.217 29.404 28.169 31.625 48.458l6.792 61.917c1.534 13.591 11.385 24.512 24.282 27.622l0.218 0.044c30.979 7.23 63.443 11.5 97.083 11.5s66.077-4.254 97.042-11.458c13.144-3.145 23.019-14.089 24.528-27.563l0.013-0.145 6.792-61.917c2.221-20.29 13.942-38.242 31.625-48.458 17.648-10.196 39.069-11.368 57.75-3.167l56.917 25.042c3.802 1.721 8.243 2.723 12.918 2.723 9.192 0 17.479-3.875 23.316-10.082l0.015-0.017c44.213-47.136 78.146-104.255 97.417-167.958 0.871-2.775 1.373-5.965 1.373-9.273 0-10.557-5.111-19.919-12.994-25.749l-0.087-0.062-50.458-36.958c-16.477-12.087-26.167-31.194-26.167-51.625s9.69-39.538 26.167-51.625l50.458-36.958c7.97-5.891 13.081-15.254 13.081-25.81 0-3.308-0.502-6.498-1.434-9.5l0.061 0.227c-19.271-63.704-53.203-120.822-97.417-167.958-5.853-6.223-14.14-10.098-23.332-10.098-4.675 0-9.117 1.003-13.12 2.804l0.202-0.081-56.917 25.042c-18.681 8.201-40.102 7.030-57.75-3.167-17.683-10.217-29.404-28.169-31.625-48.458l-6.792-61.917c-1.534-13.591-11.385-24.512-24.282-27.622l-0.218-0.044c-30.979-7.23-63.443-11.5-97.083-11.5zM512 149.333c20.785 0 40.745 3.731 60.75 7.25l4 36.792c4.435 40.51 27.984 76.541 63.25 96.917 35.289 20.389 78.253 22.733 115.542 6.333l33.833-14.875c25.98 31.197 46.55 66.435 60.917 105.042l-30 22c-32.846 24.094-52.292 62.455-52.292 103.208s19.446 79.114 52.292 103.208l30 22c-14.367 38.606-34.936 73.844-60.917 105.042l-33.833-14.875c-37.289-16.399-80.253-14.055-115.542 6.333-35.266 20.375-58.815 56.406-63.25 96.917l-4 36.792c-20.003 3.509-39.975 7.25-60.75 7.25-20.785 0-40.745-3.731-60.75-7.25l-4-36.792c-4.435-40.51-27.984-76.541-63.25-96.917-35.289-20.389-78.253-22.733-115.542-6.333l-33.833 14.875c-25.985-31.193-46.552-66.432-60.917-105.042l30-22c32.846-24.094 52.292-62.455 52.292-103.208s-19.462-79.139-52.292-103.25l-30-22c14.373-38.621 34.963-73.836 60.958-105.042l33.792 14.875c37.289 16.399 80.253 14.097 115.542-6.292 35.266-20.375 58.815-56.406 63.25-96.917l4-36.792c20.003-3.509 39.975-7.25 60.75-7.25zM512 341.333c-93.878 0-170.667 76.789-170.667 170.667s76.789 170.667 170.667 170.667c93.878 0 170.667-76.789 170.667-170.667s-76.789-170.667-170.667-170.667zM512 405.333c59.289 0 106.667 47.377 106.667 106.667s-47.377 106.667-106.667 106.667c-59.289 0-106.667-47.377-106.667-106.667s47.377-106.667 106.667-106.667z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Settings"],grid:0},attrs:[{}],properties:{order:178,id:37,name:"Settings",prevSize:32},setIdx:0,setId:3,iconIdx:43},{icon:{paths:["M150.4 200.533c-65.067 20.267-87.467 44.8-69.333 73.6 9.6 13.867 24.533 18.133 56.533 16l42.667-2.133 3.2 161.067c3.2 140.8 5.333 163.2 22.4 173.867 12.8 8.533 23.467 8.533 37.333 0 16-10.667 18.133-35.2 21.333-212.267 3.2-204.8-1.067-230.4-39.467-228.267-9.6 0-42.667 8.533-74.667 18.133z","M746.667 193.067c-60.8 24.533-90.667 74.667-61.867 103.467 18.133 18.133 38.4 16 69.333-8.533 38.4-29.867 75.733-27.733 90.667 6.4 16 35.2 1.067 60.8-39.467 68.267-65.067 11.733-61.867 72.533 5.333 86.4 52.267 10.667 68.267 45.867 36.267 77.867-22.4 23.467-59.733 21.333-92.8-4.267-30.933-24.533-51.2-26.667-69.333-8.533-21.333 21.333-14.933 48 19.2 76.8 121.6 101.333 305.067-28.8 225.067-160-17.067-28.8-18.133-36.267-5.333-58.667 57.6-104.533-60.8-225.067-177.067-179.2z","M408.533 409.6c-41.6 19.2-67.2 56.533-74.667 110.933-6.4 43.733 12.8 70.4 45.867 64 20.267-3.2 32-22.4 40.533-64 10.667-50.133 85.333-52.267 98.133-3.2 10.667 43.733-5.333 68.267-68.267 100.267-69.333 35.2-90.667 55.467-107.733 106.667-16 49.067-14.933 91.733 3.2 106.667 9.6 8.533 54.4 11.733 129.067 9.6 96-3.2 117.333-6.4 126.933-22.4 8.533-12.8 8.533-23.467 0-37.333-9.6-13.867-29.867-19.2-93.867-21.333-71.467-2.133-82.133-5.333-78.933-21.333 2.133-9.6 32-33.067 66.133-50.133 35.2-18.133 72.533-44.8 84.267-59.733 44.8-60.8 29.867-168.533-28.8-206.933-37.333-24.533-101.333-29.867-141.867-11.733z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["Numbers"],grid:0},attrs:[{},{},{}],properties:{order:177,id:38,name:"Numbers",prevSize:32},setIdx:0,setId:3,iconIdx:44},{icon:{paths:["M554.042 42.375c-8.646 0.26-16.392 3.91-21.993 9.66l-0.007 0.007-82.583 82.583c-2.293 1.76-4.282 3.748-5.986 5.966l-0.056 0.076-7.375 7.375c-5.789 5.791-9.369 13.79-9.369 22.625s3.58 16.834 9.369 22.625l96 96c5.833 6.068 14.019 9.838 23.085 9.838 17.675 0 32.003-14.328 32.003-32.003 0-9.066-3.77-17.252-9.828-23.075l-0.011-0.010-51.333-51.333c170.558 7.325 306.042 146.886 306.042 319.292 0 108.287-53.691 203.4-135.792 261.375-8.24 5.869-13.55 15.388-13.55 26.148 0 17.676 14.329 32.005 32.005 32.005 6.919 0 13.325-2.195 18.559-5.928l-0.098 0.066c98.38-69.47 162.875-184.173 162.875-313.667 0-200.595-154.753-365.548-351.083-382.333l32.375-32.375c5.971-5.82 9.675-13.941 9.675-22.927 0-17.675-14.328-32.003-32.003-32.003-0.324 0-0.647 0.005-0.969 0.014l0.047-0.001zM311 192.25c-0.393-0.017-0.853-0.027-1.316-0.027-7.069 0-13.603 2.292-18.898 6.173l0.090-0.063c-98.38 69.47-162.875 184.173-162.875 313.667 0 200.595 154.753 365.548 351.083 382.333l-32.375 32.375c-6.068 5.833-9.838 14.019-9.838 23.085 0 17.675 14.328 32.003 32.003 32.003 9.066 0 17.252-3.77 23.075-9.828l0.010-0.011 82.583-82.583c2.293-1.76 4.282-3.748 5.986-5.966l0.056-0.076 7.375-7.375c5.789-5.791 9.369-13.79 9.369-22.625s-3.58-16.834-9.369-22.625l-96-96c-5.822-5.991-13.956-9.708-22.958-9.708l-0-0c-17.672 0.004-31.995 14.331-31.995 32.003 0 9 3.715 17.133 9.696 22.948l0.007 0.007 51.333 51.333c-170.558-7.325-306.042-146.886-306.042-319.292 0-108.287 53.691-203.4 135.792-261.375 8.447-5.846 13.911-15.484 13.911-26.398 0-17.217-13.596-31.259-30.638-31.975l-0.065-0.002z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Sync"],grid:0},attrs:[{}],properties:{order:175,id:39,name:"Sync",prevSize:32},setIdx:0,setId:3,iconIdx:45},{icon:{paths:["M316.416 173.056l-29.696 29.696v638.976l59.392 59.392h331.776l59.392-59.392v-638.976l-59.392-59.392h-331.776l-29.696 29.696zM397.312 184.32c11.264 18.432 23.552 20.48 114.688 20.48s103.424-2.048 114.688-20.48c16.384-26.624 36.864-25.6 66.56 2.048l23.552 21.504v313.344c0 393.216 19.456 359.424-203.776 359.424-148.48 0-159.744-1.024-182.272-22.528l-23.552-21.504v-313.344c0-306.176 0-312.32 22.528-335.872 26.624-28.672 50.176-29.696 67.584-3.072z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Phone"],grid:0},attrs:[{}],properties:{order:174,id:40,name:"Phone",prevSize:32},setIdx:0,setId:3,iconIdx:46},{icon:{paths:["M691.2 157.013c-5.12 13.653-6.827 180.907-5.12 372.053l5.12 349.867h187.733v-733.867l-90.453-5.12c-61.44-3.413-92.16 1.707-97.28 17.067z","M418.133 361.813c-5.12 13.653-6.827 134.827-5.12 269.653l5.12 247.467h187.733v-529.067l-90.453-5.12c-63.147-3.413-92.16 1.707-97.28 17.067z","M143.36 568.32c-3.413 11.947-6.827 88.747-3.413 167.253l5.12 143.36h187.733v-324.267l-90.453-5.12c-63.147-3.413-92.16 1.707-98.987 18.773z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["Signal"],grid:0},attrs:[{},{},{}],properties:{order:4,id:41,name:"Signal",prevSize:32},setIdx:0,setId:3,iconIdx:47},{icon:{paths:["M332.8 244.8c-88 33.6-200 104-227.2 142.4-22.4 32-22.4 38.4 9.6 72 43.2 46.4 51.2 46.4 121.6-11.2 116.8-92.8 281.6-120 420.8-72 38.4 14.4 97.6 46.4 129.6 72 70.4 57.6 76.8 57.6 121.6 11.2 35.2-38.4 35.2-38.4 4.8-78.4-17.6-20.8-76.8-64-132.8-92.8-89.6-48-116.8-54.4-244.8-59.2-94.4-3.2-164.8 1.6-203.2 16z","M376 457.6c-35.2 12.8-84.8 40-112 60.8l-48 40 44.8 44.8c36.8 38.4 48 41.6 72 24 52.8-38.4 129.6-67.2 179.2-67.2s126.4 28.8 179.2 67.2c24 17.6 35.2 14.4 72-24l44.8-44.8-48-40c-100.8-81.6-257.6-105.6-384-60.8z","M419.2 665.6c-19.2 12.8-35.2 33.6-35.2 44.8 0 27.2 100.8 121.6 129.6 121.6 27.2 0 126.4-96 126.4-123.2 0-32-68.8-68.8-128-68.8-32 0-73.6 11.2-92.8 25.6z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["Wifi"],grid:0},attrs:[{},{},{}],properties:{order:3,id:42,name:"Wifi",prevSize:32},setIdx:0,setId:3,iconIdx:48},{icon:{paths:["M147.2 273.067c-53.333 28.8-61.867 61.867-61.867 238.933 0 263.467-10.667 256 384 256 317.867 0 337.067-3.2 368-64 8.533-17.067 16-48 16-69.333 0-34.133 3.2-37.333 29.867-37.333 43.733 0 55.467-18.133 55.467-85.333s-11.733-85.333-55.467-85.333c-26.667 0-29.867-3.2-29.867-37.333 0-51.2-25.6-97.067-64-117.333-44.8-23.467-599.467-23.467-642.133 1.067zM772.267 337.067c24.533 24.533 24.533 325.333 0 349.867-24.533 25.6-581.333 25.6-605.867 0-24.533-24.533-24.533-325.333 0-349.867 24.533-25.6 581.333-25.6 605.867 0z","M226.133 396.8c-17.067 17.067-17.067 213.333 0 230.4 18.133 18.133 468.267 18.133 486.4 0 17.067-17.067 17.067-213.333 0-230.4-18.133-18.133-468.267-18.133-486.4 0z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Battery"],grid:0},attrs:[{},{}],properties:{order:2,id:43,name:"Battery",prevSize:32},setIdx:0,setId:3,iconIdx:49},{icon:{paths:["M48 128c-8.832 0-16 7.152-16 16v96c0 8.848 7.168 16 16 16h41.625c17.744 0 33.976 9.742 42.344 25.406l36 67.406c-55.161 33.057-87.969 74.466-87.969 120.125 0 13.792 5.007 29.203 13.375 41.219 0.384 0.544 0.786 1.082 1.25 1.594l1.5 1.531c35.536 46.224 34.366 80.703 32.094 149.375l-0.219 6.406c-0.064 2.064 0 19 0 19v0.188c0 0.736 0.31 1.374 0.406 2.094 0.176 1.184 0.287 2.365 0.719 3.469 0.608 1.648 1.568 3.062 2.656 4.406 0.096 0.112 0.108 0.248 0.188 0.344 0.016 0.032 0.078 0.046 0.094 0.062 0.56 0.64 1.141 1.175 1.781 1.719 10.64 11.28 25.061 19.625 41.781 19.625 13.552 0 28.498-5.401 43.938-18.969 24.48-21.52 25.208-47.372 25.656-62.812 0.128-4.384-1.51-8.523-4.406-11.563 19.776 3.184 37.847 12.532 50.375 20.5 3.184 2.016 6.24 4.276 9.312 6.5 6.176 4.512 12.602 9.165 20.25 12.813 7.039 3.346 13.581 4.662 19.688 5.406l123.719 231.688c2.8 5.216 8.205 8.469 14.125 8.469h94.938c6.208 0 11.86-3.603 14.5-9.219l109.844-234.906c1.92-0.14 3.84-0.538 5.688-1.406 7.664-3.648 14.074-8.3 20.25-12.812 3.072-2.24 6.112-4.499 9.312-6.531 12.528-7.968 30.646-17.269 50.406-20.437-2.912 3.024-4.566 7.131-4.438 11.531 0.448 15.44 1.176 41.292 25.656 62.812 15.44 13.568 30.385 18.969 43.938 18.969 15.328 0 28.664-7.113 39-16.969 5.072-2.688 8.625-7.825 8.625-13.969 0-0.256-0.031-0.525-0.031-0.781 0-0.080 0.031-0.124 0.031-0.188 0 0 0.048-16.967 0-19.031l-0.219-6.375c-2.288-68.672-3.408-103.143 31.312-148.375l2.281-2.531c0.448-0.496 0.866-1.034 1.25-1.594 8.368-12.048 13.375-27.458 13.375-41.25 0-47.675-35.484-90.84-95.156-124.562l28.406-60.719c7.856-16.8 24.909-27.656 43.469-27.656h55.281c8.832 0 16-7.152 16-16v-96c0-8.848-7.168-16-16-16h-352c-8.832 0-16 7.152-16 16v96c0 8.848 7.168 16 16 16h27.719c11.232 0 21.11 5.465 27.094 14.969 3.21 5.105 4.647 10.741 4.625 16.625-52.327-10.053-110.178-15.625-171.438-15.625-6.656 0-13.114 0.308-19.688 0.438 0.153-0.274 0.212-0.573 0.375-0.844 5.824-9.744 16.094-15.562 27.437-15.562h23.875c8.832 0 16-7.152 16-16v-96c0-8.848-7.168-16-16-16h-496zM64 160h464v64h-7.875c-22.704 0-43.242 11.622-54.906 31.094-3.506 5.863-5.864 12.111-7.344 18.5-56.248 3.080-108.881 10.804-155.906 22.5l-33.031-63.812c-4.048-7.824-13.707-10.892-21.562-6.844-7.856 4.064-10.939 13.69-6.875 21.562l29.906 57.781c-27.262 8.253-52.007 17.96-74.281 28.781l-35.906-67.219c-13.952-26.112-41.010-42.344-70.594-42.344h-25.625v-64zM640 160h320v64h-39.281c-30.928 0-59.365 18.125-72.469 46.125l-27.906 59.656c-30.591-14.095-65.985-25.978-105.031-35.281 1.47-13.994-1.657-28.237-9.437-40.594-11.776-18.72-32.028-29.906-54.156-29.906h-11.719v-64zM512 303.969c216.816 0 400 75.561 400 164.969 0 7.008-2.788 15.659-7.156 22.219l-2.312 2.625c-30.96 40.24-38.54 74.149-39.5 117.125-59.792-67.616-194.599-114.906-351.031-114.906-165.072 0-293.684 42.169-351.156 108.969-1.584-40.304-10.091-73.068-40.187-112.156l-1.562-1.719c-4.336-6.576-7.094-15.164-7.094-22.156 0-89.408 183.184-164.969 400-164.969zM519.781 336.344c-9.956-0.058-20.14 0.092-30.406 0.469-39.39-0.103-67.058 3.174-93.375 6.375l-0.25 15.219 5.969-0.094c8.032-0.048 14.625 6.499 14.625 14.531v68.563c0 7.696-5.557 14.295-13.125 15.687-2.544 0.464-5.006 0.958-7.406 1.438v13.125c34.144-4.48 65.797-7.071 105.781-8.063v-13.125l-7.562-0.938c-8.016-1.024-14.031-7.842-14.031-15.906v-65.531c0-8.768 6.982-15.919 15.75-16.031 2.688-0.032 5.434-0.046 8.25-0.062v-0.156c0.052 0 0.104-0 0.156 0 6.336 0.064 12.050 3.895 14.562 9.719l44.906 104.188 38.563 3.281 39.906-94.938c2.828-6.721 9.787-10.319 16.906-9.469l3.188 0.781c7.184 1.744 12.219 8.17 12.219 15.562v67.531c0 9.84-8.819 17.334-18.531 15.75-2.896-0.464-5.761-0.912-8.625-1.312v13.156c39.712 8.288 80.796 18.609 123.5 37.969v-0.031c6.896 3.232 13.791 6.413 20.719 10.125v-65.313l-56.156 26.25v-55.062l25.688 33.969v-59.719c10.121 11.897 20.276 25.652 30.469 39.938v-59.938c-20.32-8.016-41.964-14.666-56.156-18.906-17.744-5.312-59.536-14.214-60.656-14.406-2.039-0.366-4.554-0.805-8.281-1.469-25.492-5.5-49.683-7.918-64.875-9.156l0.125 16.031c0 0 7.545 0.652 15.625 1.5 3.808 0.4 9.223 4.38 7.031 10.812-4.672 13.632-22.469 53.062-22.469 53.062l-23.875-52.188c0 0-9.194-16.060 7.062-14.844l16.5 1.094v-15.719c-22.284-1.632-50.93-3.569-81.719-3.75zM392.125 343.969c0 0-49.893 7.638-77.125 14.438-17.632 4.4-57.095 15.801-75.031 23.625v10.438h16c8.832 0 16 7.168 16 16v68.594c0 6.432-3.861 12.159-9.781 14.719-7.52 3.248-15.067 6.741-22.219 10.469v13.156c40.176-17.616 83.424-32.455 128-39.031v-13.125c-4.736 0.464-8.996 1-13.188 1.656-9.664 1.488-18.344-6.037-18.344-15.813v-25.531l23.656 18.219v-62.406l-23.656 24.469v-35.875c18.432 3.632 37.032 17.442 55.687 35.25v-59.25zM735.312 379.25c7.982 5.732 16.017 13.936 24.063 23.219l-24.063 13.562v-36.781zM512 528c13.107 0 25.825 0.469 38.375 1.094l26.625 64.719c2.496 6.080 8.342 9.858 15.094 9.906 6.592-0.128 12.431-4.293 14.719-10.469l20.688-56.031c31.339 5.109 60.198 12.134 86.125 20.75l-150.594 322.031h-75.156l-122.281-229c-0.082-0.213-0.222-0.385-0.312-0.594l-51.281-96.031c23.532-7.067 49.262-12.793 76.719-17.125l70.406 136.031c2.848 5.488 8.458 8.625 14.25 8.625 2.48 0 4.976-0.565 7.312-1.781 7.872-4.064 10.939-13.706 6.875-21.562l-65.187-125.938c27.821-3.025 57.143-4.625 87.625-4.625zM586.094 531.844c2.975 0.296 6.094 0.451 9.031 0.781l-4.125 11.125-4.906-11.906zM283.281 564.844l32.156 60.219c-2.341-1.678-4.663-3.42-7.062-4.938-18.416-11.712-47.040-25.826-78.688-26.562-1.792-0.032-3.412 0.078-5.156 0.094 16.763-10.767 36.612-20.373 58.75-28.813zM743.75 569.125c18.063 7.505 34.532 15.733 48.844 24.594-28.018 1.086-53.138 12.402-71.125 23.062l22.281-47.656zM218.781 625.688c-0.672 0.576-1.315 1.187-1.875 1.875-5.552 6.736-16.725 17.232-22.469 18.656-3.328 0.816-5.684 0.333-6.5-0.531-0.64-0.672-1.038-2.522-0.094-5.594 1.792-5.824 7.066-13.286 30.938-14.406zM805.219 625.688c23.872 1.12 29.146 8.582 30.938 14.406 0.944 3.056 0.546 4.922-0.094 5.594-0.816 0.864-3.172 1.363-6.5 0.531-5.184-1.28-16.020-10.864-22.5-18.656-0.56-0.672-1.188-1.299-1.844-1.875zM163.438 666.062c0.448 0.528 0.786 1.129 1.25 1.625 7.968 8.416 19.738 12.194 32.25 10.562-13.792 11.552-25.481 12.744-36.281 3.688 0.416-5.392 1.325-10.675 2.781-15.875zM859.875 666.938c1.68 5.040 2.768 10.070 3.312 15.094-10.752 8.912-22.412 7.707-36.156-3.781 12.496 1.664 24.313-2.146 32.281-10.562 0.208-0.224 0.354-0.526 0.563-0.75zM503.531 706.812c-2.075 0.158-4.126 0.738-6.094 1.75-7.856 4.064-10.939 13.691-6.875 21.562l17.875 34.563c2.848 5.488 8.458 8.625 14.25 8.625 2.48 0 4.976-0.565 7.312-1.781 7.856-4.064 10.939-13.69 6.875-21.562l-17.875-34.562c-3.036-5.856-9.244-9.067-15.469-8.594zM112 832c-8.832 0-16 7.152-16 16v32c0 8.848 7.168 16 16 16s16-7.152 16-16v-32c0-8.848-7.168-16-16-16zM192 832c-8.832 0-16 7.152-16 16v32c0 8.848 7.168 16 16 16s16-7.152 16-16v-32c0-8.848-7.168-16-16-16zM272 832c-8.832 0-16 7.152-16 16v32c0 8.848 7.168 16 16 16s16-7.152 16-16v-32c0-8.848-7.168-16-16-16zM352 832c-8.832 0-16 7.152-16 16v32c0 8.848 7.168 16 16 16s16-7.152 16-16v-32c0-8.848-7.168-16-16-16zM672 832c-8.832 0-16 7.152-16 16v32c0 8.848 7.168 16 16 16s16-7.152 16-16v-32c0-8.848-7.168-16-16-16zM752 832c-8.832 0-16 7.152-16 16v32c0 8.848 7.168 16 16 16s16-7.152 16-16v-32c0-8.848-7.168-16-16-16zM832 832c-8.832 0-16 7.152-16 16v32c0 8.848 7.168 16 16 16s16-7.152 16-16v-32c0-8.848-7.168-16-16-16zM912 832c-8.832 0-16 7.152-16 16v32c0 8.848 7.168 16 16 16s16-7.152 16-16v-32c0-8.848-7.168-16-16-16z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["GTA"],grid:0},attrs:[{}],properties:{order:173,id:44,name:"GTA",prevSize:32},setIdx:0,setId:3,iconIdx:50},{icon:{paths:["M464 52.267c-11.733 5.333-64 36.267-115.2 68.267-51.2 33.067-117.333 67.2-147.2 76.8-28.8 9.6-57.6 26.667-62.933 37.333-16 29.867-12.8 186.667 5.333 272 52.267 245.333 229.333 474.667 368 474.667 52.267 0 136.533-51.2 196.267-119.467 66.133-74.667 150.4-246.4 170.667-352 19.2-92.8 22.4-245.333 6.4-275.2-5.333-10.667-34.133-27.733-62.933-37.333-29.867-9.6-99.2-45.867-155.733-82.133-103.467-65.067-158.933-82.133-202.667-62.933zM640 174.933c51.2 32 114.133 65.067 139.733 73.6l46.933 16v105.6c0 57.6-3.2 113.067-7.467 122.667-7.467 17.067-24.533 19.2-157.867 19.2h-149.333v202.667c0 134.4-4.267 202.667-10.667 202.667-55.467 0-177.067-129.067-233.6-248.533-23.467-48-44.8-103.467-49.067-122.667l-7.467-34.133h300.8v-203.733c0-235.733-13.867-220.8 128-133.333z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["AdminFilled"],grid:0},attrs:[{}],properties:{order:171,id:45,name:"AdminFilled",prevSize:32},setIdx:0,setId:3,iconIdx:51},{icon:{paths:["M464 52.267c-11.733 5.333-64 36.267-115.2 68.267-51.2 33.067-117.333 67.2-147.2 76.8-28.8 9.6-57.6 26.667-62.933 37.333-16 29.867-12.8 186.667 5.333 272 52.267 245.333 229.333 474.667 368 474.667 52.267 0 136.533-51.2 196.267-119.467 66.133-74.667 150.4-246.4 170.667-352 19.2-92.8 22.4-245.333 6.4-275.2-5.333-10.667-34.133-27.733-62.933-37.333-29.867-9.6-99.2-45.867-155.733-82.133-103.467-65.067-158.933-82.133-202.667-62.933zM480 201.6c0 69.333-2.133 74.667-23.467 77.867-18.133 2.133-24.533 10.667-24.533 29.867s6.4 27.733 24.533 29.867c20.267 3.2 23.467 9.6 23.467 56.533 0 45.867-3.2 52.267-22.4 52.267-12.8 0-24.533 8.533-27.733 21.333-4.267 17.067-14.933 21.333-56.533 21.333s-52.267-4.267-56.533-21.333c-7.467-28.8-50.133-28.8-57.6 0-3.2 13.867-14.933 21.333-29.867 21.333-32 0-44.8-59.733-13.867-67.2 26.667-7.467 25.6-50.133-2.133-57.6-19.2-5.333-22.4-12.8-19.2-53.333 3.2-46.933 5.333-49.067 50.133-64 26.667-8.533 58.667-22.4 71.467-30.933 20.267-13.867 23.467-13.867 29.867 1.067 3.2 10.667 16 16 29.867 13.867 19.2-2.133 24.533-10.667 24.533-34.133 1.067-23.467 9.6-37.333 32-51.2 18.133-10.667 35.2-19.2 40.533-19.2 4.267 0 7.467 33.067 7.467 73.6zM647.467 181.333c49.067 28.8 108.8 59.733 133.333 68.267 45.867 14.933 45.867 14.933 49.067 71.467 2.133 32 1.067 83.2-3.2 113.067l-6.4 56.533h-276.267v-181.333c0-100.267 3.2-181.333 8.533-181.333 4.267 0 46.933 23.467 94.933 53.333zM480 730.667c0 131.2-3.2 176-12.8 176-29.867 0-154.667-145.067-193.067-224-66.133-138.667-72.533-128 76.8-128h129.067v176zM685.867 576c3.2 12.8 14.933 21.333 28.8 21.333s25.6-8.533 28.8-21.333c4.267-13.867 14.933-21.333 32-21.333 28.8 0 28.8 7.467-9.6 98.133-17.067 39.467-27.733 51.2-49.067 53.333-25.6 3.2-28.8 8.533-28.8 40.533 0 51.2-11.733 67.2-36.267 51.2-10.667-6.4-27.733-8.533-37.333-5.333-19.2 7.467-23.467 44.8-5.333 55.467 16 10.667-20.267 48-45.867 48-16 0-19.2-8.533-19.2-62.933 0-45.867 4.267-64 16-69.333 8.533-3.2 16-16 16-27.733s-7.467-24.533-16-27.733c-10.667-4.267-16-22.4-16-57.6s5.333-53.333 16-57.6c8.533-3.2 16-12.8 16-22.4 0-11.733 12.8-16 52.267-16 42.667 0 53.333 3.2 57.6 21.333z","M260.267 292.267c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M345.6 377.6c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M601.6 633.6c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z"],attrs:[{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{}],"11254211456925512552552551":[{},{},{},{}],"1145692551255255255183252241":[{},{},{},{}]},tags:["Admin"],grid:0},attrs:[{},{},{},{}],properties:{order:172,id:46,name:"Admin",prevSize:32},setIdx:0,setId:3,iconIdx:52},{icon:{paths:["M189.867 145.067c-58.667 30.933-61.867 51.2-61.867 366.933 0 317.867 3.2 337.067 64 368 44.8 23.467 445.867 23.467 490.667 0 61.867-32 86.4-128 33.067-128-20.267 0-27.733 7.467-34.133 30.933-5.333 17.067-14.933 35.2-22.4 39.467-7.467 5.333-108.8 9.6-224 9.6-176 0-212.267-2.133-226.133-17.067-25.6-24.533-25.6-581.333 0-605.867 13.867-14.933 50.133-17.067 226.133-17.067 115.2 0 216.533 4.267 224 9.6 7.467 4.267 17.067 22.4 22.4 39.467 6.4 23.467 13.867 30.933 34.133 30.933 53.333 0 28.8-96-33.067-128-44.8-23.467-450.133-22.4-492.8 1.067z","M690.133 338.133c-17.067 17.067-4.267 44.8 40.533 88.533l49.067 48-475.733 10.667v53.333l238.933 3.2 240 2.133-51.2 52.267c-53.333 53.333-61.867 88.533-23.467 94.933 23.467 5.333 187.733-152.533 187.733-179.2 0-21.333-161.067-181.333-182.4-181.333-9.6 0-20.267 3.2-23.467 7.467z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Logout"],grid:0},attrs:[{},{}],properties:{order:170,id:47,name:"Logout",prevSize:32},setIdx:0,setId:3,iconIdx:53},{icon:{paths:["M554.667 251.733c-458.667 137.6-435.2 129.067-453.333 164.267-20.267 39.467-21.333 151.467 0 192 11.733 23.467 30.933 35.2 84.267 53.333 64 21.333 68.267 24.533 75.733 61.867 27.733 150.4 182.4 199.467 286.933 91.733l34.133-35.2 122.667 36.267c67.2 20.267 132.267 37.333 146.133 37.333s39.467-13.867 56.533-30.933l30.933-30.933v-558.933l-30.933-30.933c-21.333-20.267-41.6-30.933-61.867-29.867-16 0-147.2 36.267-291.2 80zM872.533 509.867c2.133 225.067 0 269.867-12.8 275.2-13.867 5.333-653.867-177.067-689.067-197.333-19.2-10.667-28.8-125.867-11.733-142.933 14.933-14.933 662.4-209.067 689.067-206.933 20.267 2.133 21.333 10.667 24.533 272zM437.333 736l78.933 23.467-28.8 25.6c-34.133 28.8-70.4 32-113.067 10.667-42.667-22.4-74.667-99.2-35.2-87.467 9.6 2.133 54.4 14.933 98.133 27.733z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Megaphone"],grid:0},attrs:[{}],properties:{order:169,id:48,name:"Megaphone",prevSize:32},setIdx:0,setId:3,iconIdx:54},{icon:{paths:["M483.2 291.2c-200.533 61.867-362.667 118.4-375.467 129.067-19.2 17.067-22.4 33.067-22.4 102.4 0 97.067 12.8 113.067 108.8 141.867 57.6 18.133 60.8 20.267 67.2 60.8 13.867 81.067 86.4 149.333 158.933 149.333 42.667 0 118.4-37.333 138.667-69.333l16-24.533 134.4 41.6c141.867 43.733 173.867 43.733 196.267 0 7.467-12.8 11.733-124.8 11.733-302.933 0-253.867-2.133-284.8-18.133-304-10.667-11.733-28.8-24.533-40.533-26.667-11.733-3.2-180.267 42.667-375.467 102.4zM434.133 738.133l81.067 23.467-28.8 24.533c-33.067 27.733-69.333 30.933-112 9.6-40.533-21.333-75.733-102.4-37.333-87.467 8.533 3.2 52.267 17.067 97.067 29.867z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["MegaphoneFilled"],grid:0},attrs:[{}],properties:{order:168,id:49,name:"MegaphoneFilled",prevSize:32},setIdx:0,setId:3,iconIdx:55},{icon:{paths:["M285.867 205.867c-39.467 17.067-99.2 89.6-125.867 151.467-37.333 86.4-96 294.4-96 338.133 0 22.4 7.467 55.467 16 72.533 17.067 33.067 78.933 85.333 100.267 85.333 7.467 0 52.267-33.067 98.133-74.667l85.333-74.667h296.533l85.333 74.667c45.867 40.533 90.667 74.667 98.133 74.667 22.4 0 83.2-52.267 101.333-87.467 23.467-44.8 16-113.067-27.733-254.933-45.867-147.2-74.667-209.067-124.8-262.4-44.8-46.933-110.933-70.4-134.4-46.933-14.933 14.933-280.533 16-290.133 1.067-8.533-13.867-46.933-12.8-82.133 3.2zM708.267 289.067c64 18.133 86.4 51.2 135.467 204.8 58.667 182.4 64 228.267 26.667 262.4l-26.667 25.6-78.933-71.467-78.933-70.4h-347.733l-78.933 70.4-78.933 71.467-26.667-25.6c-23.467-22.4-26.667-33.067-23.467-73.6 6.4-61.867 88.533-317.867 113.067-349.867 33.067-42.667 89.6-54.4 263.467-55.467 88.533 0 178.133 5.333 201.6 11.733z","M484.267 334.933c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M686.933 353.067c-10.667 18.133 13.867 38.4 28.8 23.467 12.8-12.8 4.267-35.2-11.733-35.2-5.333 0-12.8 5.333-17.067 11.733z","M288 378.667c-27.733 34.133 13.867 86.4 51.2 62.933 23.467-14.933 28.8-43.733 12.8-62.933-17.067-20.267-46.933-20.267-64 0z","M644.267 395.733c-10.667 18.133 13.867 38.4 28.8 23.467 12.8-12.8 4.267-35.2-11.733-35.2-5.333 0-12.8 5.333-17.067 11.733z","M729.6 395.733c-10.667 18.133 13.867 38.4 28.8 23.467 12.8-12.8 4.267-35.2-11.733-35.2-5.333 0-12.8 5.333-17.067 11.733z","M686.933 438.4c-10.667 18.133 13.867 38.4 28.8 23.467 12.8-12.8 4.267-35.2-11.733-35.2-5.333 0-12.8 5.333-17.067 11.733z","M565.333 485.333c-16 19.2-10.667 48 13.867 62.933 36.267 23.467 77.867-28.8 50.133-62.933-17.067-20.267-46.933-20.267-64 0z","M379.733 507.733c-9.6 8.533-17.067 25.6-17.067 36.267 0 45.867 57.6 69.333 89.6 36.267 33.067-32 9.6-89.6-36.267-89.6-10.667 0-27.733 7.467-36.267 17.067z"],attrs:[{},{},{},{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{},{},{},{}]},tags:["ControllerFilled"],grid:0},attrs:[{},{},{},{},{},{},{},{},{}],properties:{order:166,id:50,name:"ControllerFilled",prevSize:32},setIdx:0,setId:3,iconIdx:56},{icon:{paths:["M284.8 205.867c-73.6 32-144 165.333-199.467 377.6-25.6 98.133-26.667 142.933-5.333 184.533 17.067 33.067 78.933 85.333 100.267 85.333 7.467 0 52.267-33.067 98.133-74.667l85.333-74.667h296.533l85.333 74.667c45.867 40.533 90.667 74.667 98.133 74.667 21.333 0 83.2-52.267 100.267-85.333 21.333-41.6 20.267-86.4-5.333-185.6-59.733-226.133-134.4-357.333-216.533-381.867-32-9.6-45.867-9.6-61.867 0-24.533 16-282.667 18.133-292.267 2.133-8.533-13.867-46.933-12.8-83.2 3.2zM538.667 352c0 19.2-6.4 27.733-24.533 29.867-25.6 4.267-40.533-19.2-29.867-46.933 3.2-9.6 16-14.933 29.867-12.8 18.133 2.133 24.533 10.667 24.533 29.867zM721.067 353.067c10.667 18.133-13.867 38.4-28.8 23.467-12.8-12.8-4.267-35.2 11.733-35.2 5.333 0 12.8 5.333 17.067 11.733zM352 378.667c27.733 34.133-13.867 86.4-50.133 62.933-24.533-14.933-29.867-43.733-13.867-62.933 17.067-20.267 46.933-20.267 64 0zM678.4 395.733c10.667 18.133-13.867 38.4-28.8 23.467-12.8-12.8-4.267-35.2 11.733-35.2 5.333 0 12.8 5.333 17.067 11.733zM763.733 395.733c10.667 18.133-13.867 38.4-28.8 23.467-12.8-12.8-4.267-35.2 11.733-35.2 5.333 0 12.8 5.333 17.067 11.733zM721.067 438.4c10.667 18.133-13.867 38.4-28.8 23.467-12.8-12.8-4.267-35.2 11.733-35.2 5.333 0 12.8 5.333 17.067 11.733zM629.333 485.333c27.733 34.133-13.867 86.4-50.133 62.933-24.533-14.933-29.867-43.733-13.867-62.933 17.067-20.267 46.933-20.267 64 0zM452.267 507.733c33.067 32 9.6 89.6-36.267 89.6-10.667 0-27.733-7.467-36.267-17.067-9.6-8.533-17.067-25.6-17.067-36.267s7.467-27.733 17.067-36.267c8.533-9.6 25.6-17.067 36.267-17.067s27.733 7.467 36.267 17.067z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Controller"],grid:0},attrs:[{}],properties:{order:167,id:51,name:"Controller",prevSize:32},setIdx:0,setId:3,iconIdx:57},{icon:{paths:["M474.667 53.333c-3.2 5.333 0 38.4 6.4 73.6 11.733 54.4 10.667 69.333-5.333 112-14.933 39.467-16 53.333-6.4 65.067 23.467 27.733 39.467 17.067 64-39.467 25.6-58.667 25.6-129.067 1.067-193.067-10.667-28.8-45.867-39.467-59.733-18.133z","M635.733 102.4c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z","M294.4 166.4c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z","M858.667 164.267c-11.733 7.467-39.467 17.067-62.933 20.267-22.4 3.2-52.267 13.867-67.2 23.467-28.8 19.2-56.533 75.733-56.533 115.2 0 30.933-38.4 68.267-74.667 73.6l-26.667 3.2 28.8 29.867c28.8 28.8 30.933 28.8 61.867 12.8 40.533-21.333 64-57.6 71.467-110.933 7.467-52.267 37.333-81.067 92.8-89.6 22.4-3.2 52.267-13.867 66.133-23.467 28.8-19.2 34.133-53.333 8.533-62.933-21.333-8.533-17.067-8.533-41.6 8.533z","M166.4 262.4c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z","M306.133 290.133c-17.067 12.8-242.133 613.333-242.133 645.333 0 8.533 7.467 17.067 16 20.267 22.4 8.533 624-210.133 647.467-234.667 41.6-45.867 29.867-65.067-165.333-259.2-189.867-190.933-211.2-204.8-256-171.733z","M827.733 358.4c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z","M773.333 483.2c-62.933 24.533-75.733 36.267-62.933 57.6 13.867 21.333 30.933 21.333 98.133 2.133 35.2-10.667 54.4-11.733 92.8-1.067 56.533 14.933 82.133 7.467 77.867-22.4-5.333-41.6-135.467-64-205.867-36.267z","M827.733 635.733c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z","M763.733 785.067c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z"],attrs:[{},{},{},{},{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{},{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{},{},{},{},{}]},tags:["ConfettiFilled"],grid:0},attrs:[{},{},{},{},{},{},{},{},{},{}],properties:{order:165,id:52,name:"ConfettiFilled",prevSize:32},setIdx:0,setId:3,iconIdx:58},{icon:{paths:["M474.667 53.333c-4.267 6.4-1.067 35.2 5.333 65.067 16 64 8.533 107.733-26.667 161.067l-26.667 40.533-30.933-22.4c-30.933-22.4-60.8-22.4-94.933-1.067-12.8 8.533-236.8 611.2-236.8 638.933 0 8.533 7.467 17.067 16 20.267 18.133 7.467 620.8-206.933 642.133-228.267 26.667-27.733 28.8-66.133 4.267-99.2l-22.4-30.933 44.8-28.8c44.8-29.867 70.4-33.067 195.2-22.4 27.733 3.2 32 0 32-23.467 0-21.333-7.467-28.8-42.667-38.4-87.467-26.667-158.933-14.933-234.667 40.533l-41.6 29.867-40.533-39.467c-22.4-21.333-40.533-42.667-40.533-46.933 0-3.2 18.133-9.6 40.533-12.8 21.333-4.267 51.2-14.933 65.067-24.533 27.733-19.2 54.4-75.733 54.4-114.133 0-34.133 39.467-67.2 89.6-74.667 52.267-8.533 91.733-34.133 91.733-61.867s-26.667-37.333-56.533-18.133c-12.8 8.533-41.6 19.2-65.067 22.4-22.4 3.2-52.267 13.867-67.2 23.467-28.8 19.2-56.533 75.733-56.533 115.2 0 30.933-41.6 71.467-71.467 71.467-12.8 0-36.267 5.333-52.267 10.667-25.6 9.6-33.067 7.467-54.4-12.8l-24.533-25.6 26.667-36.267c58.667-78.933 72.533-170.667 38.4-259.2-11.733-28.8-45.867-39.467-59.733-18.133zM522.667 506.667c90.667 90.667 161.067 167.467 157.867 171.733-7.467 6.4-144 57.6-400 148.267l-130.133 46.933 46.933-130.133c56.533-158.933 129.067-358.4 138.667-384 4.267-9.6 10.667-18.133 14.933-18.133 3.2 0 81.067 74.667 171.733 165.333z","M635.733 102.4c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z","M294.4 166.4c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z","M166.4 262.4c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z","M827.733 358.4c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z","M827.733 635.733c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z","M763.733 785.067c-9.6 8.533-17.067 20.267-17.067 25.6 0 11.733 30.933 42.667 42.667 42.667s42.667-30.933 42.667-42.667c0-11.733-30.933-42.667-42.667-42.667-5.333 0-17.067 7.467-25.6 17.067z"],attrs:[{},{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{},{}]},tags:["Confetti"],grid:0},attrs:[{},{},{},{},{},{},{}],properties:{order:164,id:53,name:"Confetti",prevSize:32},setIdx:0,setId:3,iconIdx:59},{icon:{paths:["M331.733 100.267c-48 26.667-53.333 52.267-54.4 259.2v195.2h53.333c74.667 0 132.267 30.933 160 86.4 20.267 37.333 22.4 58.667 19.2 170.667l-3.2 128 256-6.4 3.2-341.333c3.2-366.933 0-389.333-50.133-414.933-33.067-17.067-310.4-91.733-338.133-91.733-11.733 1.067-32 7.467-45.867 14.933zM485.333 320c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533zM634.667 320c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533zM485.333 469.333c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533zM634.667 469.333c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533zM634.667 618.667c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533zM634.667 768c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533z","M810.667 500.267c0 73.6 0 74.667 29.867 77.867 25.6 3.2 28.8 7.467 28.8 40.533s-3.2 37.333-28.8 40.533c-24.533 3.2-29.867 8.533-29.867 34.133s5.333 30.933 29.867 34.133c25.6 3.2 28.8 7.467 28.8 40.533s-3.2 37.333-28.8 40.533c-28.8 3.2-29.867 5.333-29.867 67.2v64l144-6.4 3.2-205.867c2.133-167.467 0-211.2-13.867-236.8-18.133-35.2-65.067-64-106.667-64-25.6 0-26.667 2.133-26.667 73.6z","M121.6 617.6c-49.067 29.867-58.667 66.133-55.467 198.4l3.2 117.333h394.667l3.2-119.467c4.267-190.933-19.2-216.533-202.667-216.533-88.533 0-116.267 4.267-142.933 20.267zM229.333 768c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533zM378.667 768c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["CityFilled"],grid:0},attrs:[{},{},{}],properties:{order:163,id:54,name:"CityFilled",prevSize:32},setIdx:0,setId:3,iconIdx:60},{icon:{paths:["M310.4 100.267c-49.067 26.667-53.333 51.2-54.4 269.867v205.867h-48c-27.733 0-62.933 7.467-80 16-54.4 27.733-65.067 64-61.867 211.2l3.2 130.133h885.333l3.2-205.867c3.2-227.2-3.2-253.867-61.867-284.8-17.067-8.533-57.6-16-90.667-16h-58.667v-90.667c0-104.533-14.933-145.067-60.8-163.2-48-20.267-305.067-87.467-328.533-87.467-11.733 1.067-33.067 7.467-46.933 14.933zM510.933 187.733c80 21.333 151.467 42.667 158.933 49.067 9.6 8.533 12.8 86.4 12.8 324.267v313.6h-213.333v-101.333c0-70.4-5.333-112-16-133.333-18.133-35.2-65.067-64-106.667-64h-26.667v-200.533c0-197.333 4.267-226.133 36.267-226.133 5.333 0 75.733 17.067 154.667 38.4zM869.333 618.667c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533zM229.333 768c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533zM378.667 768c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533zM869.333 768c0 35.2-2.133 37.333-37.333 37.333-30.933 0-38.4-4.267-40.533-24.533-6.4-42.667 5.333-57.6 42.667-53.333 32 3.2 35.2 6.4 35.2 40.533z","M388.267 292.267c-3.2 8.533-4.267 26.667-2.133 40.533 2.133 20.267 9.6 24.533 40.533 24.533 35.2 0 37.333-2.133 37.333-37.333 0-34.133-3.2-37.333-35.2-40.533-22.4-2.133-36.267 2.133-40.533 12.8z","M537.6 292.267c-3.2 8.533-4.267 26.667-2.133 40.533 2.133 20.267 9.6 24.533 40.533 24.533 35.2 0 37.333-2.133 37.333-37.333 0-34.133-3.2-37.333-35.2-40.533-22.4-2.133-36.267 2.133-40.533 12.8z","M388.267 441.6c-3.2 8.533-4.267 26.667-2.133 40.533 2.133 20.267 9.6 24.533 40.533 24.533 35.2 0 37.333-2.133 37.333-37.333 0-34.133-3.2-37.333-35.2-40.533-22.4-2.133-36.267 2.133-40.533 12.8z","M537.6 441.6c-3.2 8.533-4.267 26.667-2.133 40.533 2.133 20.267 9.6 24.533 40.533 24.533 35.2 0 37.333-2.133 37.333-37.333 0-34.133-3.2-37.333-35.2-40.533-22.4-2.133-36.267 2.133-40.533 12.8z","M537.6 590.933c-3.2 8.533-4.267 26.667-2.133 40.533 2.133 20.267 9.6 24.533 40.533 24.533 35.2 0 37.333-2.133 37.333-37.333 0-34.133-3.2-37.333-35.2-40.533-22.4-2.133-36.267 2.133-40.533 12.8z","M537.6 740.267c-3.2 8.533-4.267 26.667-2.133 40.533 2.133 20.267 9.6 24.533 40.533 24.533 35.2 0 37.333-2.133 37.333-37.333 0-34.133-3.2-37.333-35.2-40.533-22.4-2.133-36.267 2.133-40.533 12.8z"],attrs:[{},{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{},{}]},tags:["City"],grid:0},attrs:[{},{},{},{},{},{},{}],properties:{order:162,id:55,name:"City",prevSize:32},setIdx:0,setId:3,iconIdx:61},{icon:{paths:["M487.467 134.4c-4.267 4.267-7.467 113.067-7.467 243.2v234.667l-41.6-40.533c-43.733-42.667-77.867-48-84.267-12.8-5.333 23.467 131.2 166.4 157.867 166.4s163.2-142.933 157.867-166.4c-6.4-35.2-40.533-29.867-84.267 12.8l-41.6 40.533-2.133-240c-3.2-231.467-4.267-238.933-24.533-242.133-12.8-2.133-25.6 0-29.867 4.267z","M189.867 378.667c-54.4 29.867-61.867 61.867-61.867 250.667 0 276.267-12.8 266.667 384 266.667 317.867 0 337.067-3.2 368-64 23.467-44.8 23.467-360.533 0-405.333-25.6-50.133-67.2-65.067-168.533-61.867-85.333 3.2-87.467 4.267-87.467 29.867s2.133 26.667 93.867 32c67.2 4.267 96 9.6 103.467 21.333 5.333 8.533 10.667 91.733 10.667 183.467 0 137.6-3.2 169.6-17.067 183.467-24.533 25.6-581.333 25.6-605.867 0-13.867-13.867-17.067-45.867-17.067-183.467 0-91.733 5.333-174.933 10.667-183.467 7.467-11.733 36.267-17.067 103.467-21.333 91.733-5.333 93.867-6.4 93.867-32 0-26.667-2.133-26.667-90.667-28.8-65.067-2.133-99.2 2.133-119.467 12.8z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Download"],grid:0},attrs:[{},{}],properties:{order:160,id:56,name:"Download",prevSize:32},setIdx:0,setId:3,iconIdx:62},{icon:{paths:["M160 125.867c-69.333 34.133-74.667 59.733-74.667 349.867 0 235.733 2.133 258.133 19.2 274.133 27.733 25.6 45.867 22.4 96-13.867 24.533-18.133 48-32 52.267-32 5.333 0 16 16 24.533 35.2 27.733 58.667 69.333 71.467 237.867 71.467h146.133l102.4 74.667c56.533 41.6 110.933 74.667 121.6 74.667 9.6 0 25.6-8.533 35.2-19.2 16-17.067 18.133-52.267 18.133-273.067 0-274.133-5.333-308.267-57.6-342.4-14.933-9.6-45.867-20.267-70.4-23.467-40.533-5.333-42.667-7.467-42.667-44.8 0-55.467-30.933-109.867-74.667-131.2-32-17.067-69.333-19.2-266.667-19.2s-234.667 2.133-266.667 19.2zM679.467 194.133c23.467 21.333 24.533 29.867 24.533 167.467 0 198.4 6.4 193.067-206.933 194.133h-161.067l-90.667 68.267-90.667 67.2-3.2-235.733c-3.2-311.467-29.867-284.8 274.133-284.8 220.8 0 230.4 1.067 253.867 23.467zM850.133 386.133c24.533 22.4 24.533 25.6 24.533 261.333v237.867l-192-138.667h-156.8c-146.133 0-157.867-1.067-181.333-23.467-28.8-26.667-30.933-57.6-6.4-85.333 14.933-17.067 35.2-19.2 167.467-19.2 121.6 0 157.867-3.2 187.733-19.2 52.267-25.6 74.667-75.733 74.667-165.333 0-70.4 0-71.467 28.8-71.467 16 0 39.467 10.667 53.333 23.467z","M260.267 272c-4.267 8.533-4.267 23.467 0 32 5.333 13.867 30.933 16 168.533 13.867l163.2-3.2v-53.333l-163.2-3.2c-137.6-2.133-163.2 0-168.533 13.867z","M260.267 421.333c-3.2 8.533-3.2 23.467 0 32 5.333 13.867 27.733 16 136.533 13.867l131.2-3.2v-53.333l-131.2-3.2c-108.8-2.133-131.2 0-136.533 13.867z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["Forum"],grid:0},attrs:[{},{},{}],properties:{order:159,id:57,name:"Forum",prevSize:32},setIdx:0,setId:3,iconIdx:63},{icon:{paths:["M160 125.867c-69.333 34.133-74.667 59.733-74.667 349.867 0 235.733 2.133 258.133 19.2 274.133 10.667 10.667 27.733 18.133 36.267 18.133s62.933-34.133 119.467-74.667l102.4-74.667h146.133c237.867 0 259.2-21.333 259.2-256 0-166.4-12.8-205.867-74.667-236.8-32-17.067-69.333-19.2-266.667-19.2s-234.667 2.133-266.667 19.2zM592 288v26.667l-163.2 3.2c-137.6 2.133-163.2 0-168.533-13.867-4.267-8.533-4.267-23.467 0-32 5.333-13.867 30.933-16 168.533-13.867l163.2 3.2v26.667zM528 437.333v26.667l-131.2 3.2c-108.8 2.133-131.2 0-136.533-13.867-3.2-8.533-3.2-23.467 0-32 5.333-13.867 27.733-16 136.533-13.867l131.2 3.2v26.667z","M810.667 405.333c0 119.467-11.733 160-59.733 204.8-48 43.733-80 51.2-231.467 51.2h-140.8l-50.133 35.2c-28.8 19.2-50.133 41.6-49.067 50.133 2.133 8.533 19.2 26.667 39.467 39.467 33.067 22.4 48 24.533 189.867 24.533h152.533l102.4 74.667c56.533 40.533 110.933 74.667 121.6 74.667 9.6 0 25.6-8.533 35.2-19.2 16-17.067 18.133-52.267 18.133-273.067 0-193.067-3.2-261.333-14.933-289.067-16-36.267-44.8-60.8-88.533-74.667-24.533-6.4-24.533-5.333-24.533 101.333z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["ForumFilled"],grid:0},attrs:[{},{}],properties:{order:158,id:58,name:"ForumFilled",prevSize:32},setIdx:0,setId:3,iconIdx:64},{icon:{paths:["M160 189.867c-68.267 33.067-74.667 62.933-74.667 322.133 0 343.467-2.133 341.333 317.867 341.333 162.133 0 214.4-3.2 241.067-16 18.133-8.533 90.667-73.6 161.067-144l128-128v-106.667l-128-128c-70.4-70.4-142.933-135.467-161.067-144-53.333-25.6-433.067-23.467-484.267 3.2zM679.467 297.6c109.867 93.867 195.2 188.8 195.2 214.4s-85.333 120.533-195.2 214.4l-72.533 62.933h-203.733c-276.267 0-253.867 23.467-253.867-276.267 0-302.933-22.4-278.4 251.733-278.4h205.867l72.533 62.933z","M672 485.333c-16 19.2-10.667 48 13.867 62.933 36.267 23.467 77.867-28.8 50.133-62.933-17.067-20.267-46.933-20.267-64 0z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Tag"],grid:0},attrs:[{},{}],properties:{order:157,id:59,name:"Tag",prevSize:32},setIdx:0,setId:3,iconIdx:65},{icon:{paths:["M481.067 100.267c-8.533 9.6-10.667 129.067-9.6 417.067 3.2 370.133 4.267 404.267 22.4 414.933 12.8 8.533 23.467 8.533 37.333 0 17.067-10.667 18.133-44.8 21.333-414.933 2.133-416 1.067-432-40.533-432-10.667 0-24.533 6.4-30.933 14.933z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["VerticalLine"],grid:0},attrs:[{}],properties:{order:156,id:60,name:"VerticalLine",prevSize:32},setIdx:0,setId:3,iconIdx:66},{icon:{paths:["M145.067 145.067c-22.4 22.4-22.4 122.667 0 170.667 10.667 22.4 60.8 69.333 132.267 126.933l116.267 90.667h237.867l115.2-90.667c128-100.267 149.333-132.267 149.333-221.867 0-97.067 19.2-92.8-384-92.8-304 0-353.067 2.133-366.933 17.067z","M407.467 743.467c3.2 125.867 5.333 147.2 20.267 150.4 9.6 2.133 56.533-24.533 104.533-57.6l86.4-60.8v-178.133h-214.4l3.2 146.133z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["FilterFilled"],grid:0},attrs:[{},{}],properties:{order:155,id:61,name:"FilterFilled",prevSize:32},setIdx:0,setId:3,iconIdx:67},{icon:{paths:["M145.067 145.067c-22.4 22.4-22.4 122.667 0 169.6 10.667 22.4 62.933 72.533 138.667 132.267l121.6 96 2.133 173.867c3.2 151.467 5.333 173.867 20.267 177.067 9.6 2.133 56.533-24.533 104.533-57.6l86.4-60.8v-231.467l121.6-96c135.467-106.667 155.733-136.533 155.733-226.133 0-98.133 16-93.867-387.2-93.867-301.867 0-349.867 2.133-363.733 17.067zM832 230.4c0 20.267-5.333 46.933-10.667 58.667-6.4 10.667-61.867 60.8-123.733 110.933l-113.067 90.667h-142.933l-113.067-89.6c-62.933-50.133-119.467-100.267-124.8-112-6.4-11.733-11.733-38.4-11.733-58.667v-38.4h640v38.4zM554.667 649.6v93.867l-42.667 28.8-42.667 27.733v-245.333h85.333v94.933z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Filter"],grid:0},attrs:[{}],properties:{order:161,id:62,name:"Filter",prevSize:32},setIdx:0,setId:3,iconIdx:68},{icon:{paths:["M411.733 96c-67.2 17.067-163.2 74.667-210.133 124.8-23.467 25.6-58.667 78.933-76.8 118.4-30.933 65.067-34.133 81.067-34.133 173.867 0 96 2.133 105.6 39.467 182.4 48 97.067 109.867 156.8 209.067 203.733 65.067 30.933 81.067 34.133 172.8 34.133s107.733-3.2 172.8-34.133c99.2-46.933 161.067-106.667 209.067-203.733 37.333-76.8 39.467-86.4 39.467-183.467s-2.133-106.667-39.467-183.467c-72.533-145.067-200.533-231.467-358.4-238.933-44.8-2.133-100.267 1.067-123.733 6.4zM653.867 179.2c28.8 12.8 66.133 35.2 84.267 50.133l32 26.667h-516.267l30.933-25.6c98.133-81.067 251.733-103.467 369.067-51.2zM838.4 357.333c7.467 20.267 14.933 39.467 14.933 42.667s-153.6 5.333-341.333 5.333c-187.733 0-341.333-2.133-341.333-5.333s7.467-22.4 14.933-42.667l16-37.333h620.8l16 37.333zM874.667 512v42.667h-725.333v-85.333h725.333v42.667zM853.333 624c0 3.2-7.467 22.4-14.933 42.667l-16 37.333h-620.8l-16-37.333c-7.467-20.267-14.933-39.467-14.933-42.667s153.6-5.333 341.333-5.333c187.733 0 341.333 2.133 341.333 5.333zM738.133 794.667c-64 53.333-128 74.667-226.133 74.667s-162.133-21.333-226.133-74.667l-32-26.667h516.267l-32 26.667z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Latitude"],grid:0},attrs:[{}],properties:{order:146,id:63,name:"Latitude",prevSize:32},setIdx:0,setId:3,iconIdx:69},{icon:{paths:["M281.6 101.333c-4.267 8.533-4.267 23.467 0 32 5.333 13.867 37.333 16 232.533 13.867l227.2-3.2v-53.333l-227.2-3.2c-195.2-2.133-227.2 0-232.533 13.867z","M450.133 237.867c-24.533 24.533-44.8 54.4-44.8 64 0 24.533 29.867 35.2 54.4 19.2 19.2-11.733 20.267-4.267 20.267 193.067v204.8l-36.267-35.2c-38.4-37.333-72.533-40.533-78.933-7.467-5.333 23.467 120.533 155.733 147.2 155.733s152.533-132.267 147.2-155.733c-6.4-33.067-40.533-29.867-78.933 7.467l-36.267 35.2v-204.8c0-197.333 1.067-204.8 20.267-193.067 24.533 16 54.4 5.333 54.4-19.2 0-23.467-84.267-109.867-106.667-109.867-9.6 0-37.333 20.267-61.867 45.867z","M260.267 228.267c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M708.267 228.267c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M238.933 334.933c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M729.6 334.933c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M217.6 441.6c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M750.933 441.6c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M196.267 548.267c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M772.267 548.267c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M174.933 654.933c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M793.6 654.933c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M153.6 761.6c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M814.933 761.6c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M132.267 890.667c-4.267 8.533-4.267 23.467 0 32 5.333 13.867 54.4 16 381.867 13.867l376.533-3.2v-53.333l-376.533-3.2c-327.467-2.133-376.533 0-381.867 13.867z"],attrs:[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]},tags:["Depth"],grid:0},attrs:[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],properties:{order:147,id:64,name:"Depth",prevSize:32},setIdx:0,setId:3,iconIdx:70},{icon:{paths:["M492.8 114.133c-38.4 71.467-55.467 539.733-25.6 704 39.467 213.333 91.733 105.6 104.533-215.467 12.8-307.2-32-578.133-78.933-488.533z","M374.4 154.667c-132.267 150.4-156.8 441.6-54.4 633.6 33.067 60.8 90.667 128 101.333 117.333 2.133-3.2-3.2-41.6-12.8-85.333-12.8-59.733-18.133-134.4-18.133-302.933 0-201.6 5.333-268.8 30.933-371.2 10.667-39.467-7.467-36.267-46.933 8.533z","M602.667 146.133c25.6 102.4 30.933 169.6 30.933 371.2 0 168.533-5.333 243.2-18.133 302.933-9.6 43.733-14.933 82.133-12.8 85.333 10.667 10.667 68.267-56.533 101.333-117.333 102.4-192 77.867-483.2-54.4-633.6-39.467-44.8-57.6-48-46.933-8.533z","M225.067 198.4c-37.333 33.067-67.2 74.667-93.867 130.133-38.4 76.8-40.533 86.4-40.533 183.467s2.133 106.667 40.533 183.467c26.667 55.467 56.533 97.067 93.867 130.133 29.867 26.667 57.6 49.067 61.867 49.067s-8.533-32-27.733-72.533c-88.533-178.133-88.533-402.133 0-581.333 19.2-39.467 32-71.467 27.733-71.467s-32 22.4-61.867 49.067z","M764.8 220.8c88.533 179.2 88.533 403.2 0 581.333-19.2 40.533-32 72.533-27.733 72.533s32-22.4 61.867-49.067c37.333-33.067 67.2-74.667 93.867-130.133 38.4-76.8 40.533-86.4 40.533-183.467s-2.133-106.667-40.533-183.467c-26.667-55.467-56.533-97.067-93.867-130.133-29.867-26.667-57.6-49.067-61.867-49.067s8.533 32 27.733 71.467z"],attrs:[{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{}]},tags:["LongitudeFilled"],grid:0},attrs:[{},{},{},{},{}],properties:{order:148,id:65,name:"LongitudeFilled",prevSize:32},setIdx:0,setId:3,iconIdx:71},{icon:{paths:["M537.6 105.6c-20.267 12.8-39.467 37.333-50.133 67.2-16 40.533-22.4 46.933-43.733 43.733-26.667-5.333-270.933 55.467-318.933 78.933-16 8.533-37.333 32-46.933 52.267-17.067 35.2-17.067 41.6 10.667 153.6 25.6 105.6 26.667 118.4 12.8 146.133-10.667 20.267-16 62.933-16 129.067 0 96 1.067 101.333 30.933 131.2 27.733 27.733 39.467 30.933 94.933 30.933s73.6-6.4 150.4-49.067l87.467-50.133-6.4-54.4-7.467-54.4 104.533-44.8c56.533-25.6 105.6-44.8 106.667-42.667 2.133 2.133-22.4 23.467-54.4 49.067s-58.667 54.4-58.667 62.933c0 9.6 11.733 29.867 27.733 45.867 26.667 27.733 26.667 28.8 8.533 66.133-32 68.267-24.533 71.467 150.4 71.467h156.8l30.933-30.933c29.867-29.867 30.933-36.267 30.933-123.733 0-103.467-17.067-150.4-58.667-161.067-14.933-3.2-26.667-11.733-26.667-17.067 0-6.4 24.533-77.867 54.4-158.933 82.133-221.867 73.6-237.867-148.267-313.6-157.867-54.4-174.933-56.533-221.867-27.733zM746.667 196.267c97.067 34.133 135.467 52.267 141.867 68.267 8.533 17.067-2.133 57.6-43.733 169.6-29.867 81.067-57.6 165.333-60.8 186.667-7.467 38.4-6.4 39.467 30.933 45.867 54.4 10.667 60.8 24.533 57.6 119.467l-3.2 83.2-228.267 6.4 12.8-32c10.667-28.8 8.533-35.2-13.867-59.733l-26.667-27.733 22.4-18.133c12.8-9.6 39.467-30.933 59.733-48 35.2-26.667 38.4-36.267 55.467-134.4 20.267-112 18.133-129.067-14.933-129.067-13.867 0-32 22.4-58.667 72.533l-38.4 73.6-270.933 119.467 3.2 57.6 3.2 58.667-58.667 34.133c-48 26.667-68.267 33.067-109.867 29.867l-51.2-3.2-3.2-91.733c-2.133-65.067 1.067-94.933 10.667-102.4 19.2-14.933 200.533-66.133 262.4-73.6 27.733-3.2 75.733-16 106.667-28.8 66.133-26.667 54.4-37.333-37.333-38.4-30.933-1.067-56.533-5.333-56.533-9.6 0-20.267 107.733-327.467 122.667-349.867 8.533-13.867 24.533-25.6 35.2-25.6 9.6 0 77.867 21.333 151.467 46.933zM441.6 300.8c-18.133 60.8-25.6 69.333-56.533 75.733-26.667 5.333-33.067 12.8-33.067 33.067 0 14.933 7.467 34.133 17.067 43.733 14.933 14.933 16 21.333 3.2 55.467-13.867 35.2-20.267 39.467-100.267 61.867-46.933 13.867-88.533 22.4-91.733 18.133s-18.133-52.267-30.933-106.667c-25.6-98.133-25.6-99.2-4.267-119.467 11.733-11.733 71.467-33.067 142.933-52.267 155.733-39.467 163.2-40.533 153.6-9.6z","M586.667 273.067c-12.8 33.067-6.4 44.8 29.867 58.667 22.4 8.533 30.933 7.467 41.6-7.467 22.4-29.867 17.067-65.067-9.6-72.533-41.6-10.667-51.2-7.467-61.867 21.333z","M736 308.267c-20.267 39.467-12.8 62.933 22.4 70.4 37.333 8.533 52.267-4.267 52.267-45.867 0-16-8.533-27.733-27.733-34.133-35.2-13.867-34.133-13.867-46.933 9.6z","M545.067 403.2c-18.133 35.2-13.867 55.467 16 66.133 39.467 16 43.733 13.867 56.533-23.467 13.867-38.4 8.533-46.933-33.067-56.533-21.333-5.333-30.933-2.133-39.467 13.867z","M225.067 417.067c-20.267 8.533-23.467 14.933-17.067 39.467 9.6 40.533 19.2 46.933 52.267 38.4 36.267-8.533 42.667-23.467 28.8-60.8-11.733-30.933-23.467-33.067-64-17.067z"],attrs:[{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{}]},tags:["Earthquakes"],grid:0},attrs:[{},{},{},{},{}],properties:{order:149,id:66,name:"Earthquakes",prevSize:32},setIdx:0,setId:3,iconIdx:72},{icon:{paths:["M290.133 98.133c-17.067 17.067-16 45.867 2.133 60.8 9.6 8.533 78.933 11.733 225.067 9.6 187.733-3.2 212.267-5.333 222.933-22.4 8.533-12.8 8.533-23.467 0-37.333-10.667-16-35.2-18.133-224-21.333-156.8-2.133-216.533 1.067-226.133 10.667z","M260.267 228.267c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M438.4 270.933c-57.6 58.667-65.067 84.267-30.933 106.667 13.867 8.533 24.533 8.533 40.533-2.133 21.333-12.8 21.333-10.667 21.333 138.667v150.4l-24.533-22.4c-13.867-12.8-32-23.467-40.533-23.467-21.333 0-41.6 21.333-41.6 42.667s128 149.333 150.4 149.333c20.267 0 148.267-129.067 148.267-150.4 0-20.267-21.333-41.6-41.6-41.6-8.533 0-26.667 10.667-40.533 23.467l-24.533 22.4v-150.4c0-149.333 0-151.467 21.333-138.667 25.6 16 56.533 1.067 61.867-28.8 5.333-22.4-100.267-133.333-125.867-133.333-9.6 0-42.667 25.6-73.6 57.6z","M708.267 228.267c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M238.933 334.933c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M729.6 334.933c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M217.6 441.6c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M750.933 441.6c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M196.267 548.267c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M772.267 548.267c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M174.933 654.933c-10.667 27.733 4.267 51.2 29.867 46.933 35.2-4.267 35.2-55.467 0-59.733-13.867-2.133-26.667 3.2-29.867 12.8z","M793.6 654.933c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M153.6 761.6c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M814.933 761.6c-10.667 27.733 4.267 51.2 29.867 46.933 18.133-2.133 24.533-10.667 24.533-29.867s-6.4-27.733-24.533-29.867c-13.867-2.133-26.667 3.2-29.867 12.8z","M140.8 866.133c-17.067 17.067-16 45.867 2.133 60.8 9.6 8.533 117.333 11.733 374.4 9.6 329.6-3.2 361.6-4.267 372.267-22.4 8.533-12.8 8.533-23.467 0-37.333-10.667-17.067-42.667-18.133-373.333-21.333-273.067-2.133-365.867 1.067-375.467 10.667z"],attrs:[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]},tags:["DepthFilled"],grid:0},attrs:[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],properties:{order:150,id:67,name:"DepthFilled",prevSize:32},setIdx:0,setId:3,iconIdx:73},{icon:{paths:["M541.867 102.4c-16 8.533-34.133 24.533-40.533 35.2-11.733 22.4-128 361.6-128 374.4 0 4.267 35.2 5.333 77.867 3.2 43.733-3.2 106.667 1.067 148.267 9.6l71.467 14.933 20.267-53.333c17.067-44.8 25.6-54.4 45.867-54.4 21.333 0 25.6 5.333 25.6 32-1.067 17.067-4.267 46.933-7.467 65.067-7.467 33.067-6.4 34.133 40.533 45.867 26.667 6.4 52.267 9.6 56.533 7.467 4.267-3.2 30.933-68.267 59.733-145.067 76.8-212.267 68.267-229.333-154.667-304-155.733-52.267-172.8-54.4-215.467-30.933zM648.533 251.733c26.667 7.467 32 42.667 9.6 72.533-10.667 14.933-19.2 16-41.6 7.467-36.267-13.867-42.667-25.6-29.867-58.667 10.667-28.8 20.267-32 61.867-21.333zM782.933 298.667c19.2 6.4 27.733 18.133 27.733 34.133 0 41.6-14.933 54.4-52.267 45.867-35.2-7.467-42.667-30.933-22.4-70.4 12.8-23.467 11.733-23.467 46.933-9.6zM621.867 404.267c9.6 9.6-11.733 75.733-24.533 75.733-5.333 0-21.333-4.267-36.267-10.667-29.867-10.667-34.133-30.933-16-66.133 8.533-16 18.133-19.2 39.467-13.867 16 3.2 32 10.667 37.333 14.933z","M268.8 250.667c-148.267 40.533-174.933 53.333-194.133 101.333-12.8 29.867-10.667 46.933 10.667 139.733 18.133 75.733 28.8 104.533 39.467 101.333 7.467-3.2 54.4-18.133 103.467-33.067 88.533-26.667 90.667-27.733 105.6-72.533 8.533-24.533 12.8-60.8 10.667-78.933-4.267-25.6 0-36.267 16-44.8 12.8-6.4 29.867-36.267 40.533-67.2 9.6-30.933 20.267-62.933 23.467-70.4 6.4-18.133-7.467-16-155.733 24.533zM280.533 429.867c11.733 36.267 3.2 46.933-39.467 52.267-25.6 2.133-32-2.133-41.6-27.733-8.533-25.6-7.467-34.133 9.6-45.867 29.867-21.333 59.733-12.8 71.467 21.333z","M384 561.067c-48 9.6-232.533 66.133-254.933 77.867-35.2 19.2-43.733 46.933-43.733 145.067 0 87.467 1.067 93.867 30.933 123.733 26.667 26.667 39.467 30.933 87.467 30.933 49.067 0 66.133-6.4 150.4-59.733 90.667-57.6 96-62.933 89.6-90.667-21.333-102.4-30.933-86.4 89.6-149.333 100.267-51.2 107.733-56.533 84.267-66.133-28.8-10.667-193.067-19.2-233.6-11.733z","M736 627.2c0 9.6-26.667 39.467-58.667 64-32 25.6-58.667 52.267-58.667 60.8 0 7.467 14.933 24.533 32 37.333 37.333 26.667 39.467 44.8 9.6 86.4-38.4 54.4-24.533 62.933 102.4 62.933 110.933 0 114.133-1.067 145.067-30.933 28.8-28.8 30.933-37.333 30.933-113.067 0-115.2-13.867-137.6-102.4-165.333-86.4-26.667-100.267-26.667-100.267-2.133z"],attrs:[{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{}],"11254211456925512552552551":[{},{},{},{}],"1145692551255255255183252241":[{},{},{},{}]},tags:["EarthquakesFilled"],grid:0},attrs:[{},{},{},{}],properties:{order:153,id:68,name:"EarthquakesFilled",prevSize:32},setIdx:0,setId:3,iconIdx:74},{icon:{paths:["M411.733 96c-67.2 17.067-163.2 74.667-210.133 124.8-23.467 25.6-58.667 78.933-76.8 118.4-30.933 65.067-34.133 81.067-34.133 173.867 0 96 2.133 105.6 39.467 182.4 48 97.067 109.867 156.8 209.067 203.733 65.067 30.933 81.067 34.133 172.8 34.133s107.733-3.2 172.8-34.133c99.2-46.933 161.067-106.667 209.067-203.733 37.333-76.8 39.467-86.4 39.467-183.467s-2.133-106.667-39.467-183.467c-72.533-145.067-200.533-231.467-358.4-238.933-44.8-2.133-100.267 1.067-123.733 6.4zM530.133 173.867c27.733 60.8 39.467 160 40.533 332.8 0 185.6-14.933 307.2-43.733 343.467-13.867 18.133-16 18.133-29.867 0-57.6-74.667-59.733-551.467-3.2-676.267 13.867-30.933 22.4-30.933 36.267 0zM398.933 298.667c-19.2 129.067-19.2 297.6 0 426.667 8.533 55.467 13.867 102.4 11.733 105.6-8.533 7.467-69.333-98.133-87.467-152.533-25.6-75.733-25.6-257.067 0-332.8 18.133-54.4 78.933-160 87.467-152.533 2.133 3.2-3.2 50.133-11.733 105.6zM679.467 294.4c70.4 152.533 55.467 360.533-34.133 497.067-16 23.467-29.867 40.533-32 38.4s3.2-49.067 11.733-104.533c23.467-155.733 19.2-336-12.8-506.667l-5.333-32 23.467 26.667c12.8 14.933 35.2 51.2 49.067 81.067zM293.333 246.4c-28.8 54.4-58.667 190.933-58.667 265.6 0 75.733 29.867 211.2 59.733 267.733l17.067 34.133-32-25.6c-48-38.4-104.533-130.133-119.467-192-28.8-118.4 9.6-250.667 98.133-338.133 24.533-24.533 45.867-44.8 48-44.8s-4.267 14.933-12.8 33.067zM809.6 310.4c39.467 57.6 65.067 133.333 65.067 195.2 0 103.467-54.4 221.867-130.133 282.667l-32 25.6 17.067-34.133c29.867-56.533 59.733-192 59.733-267.733s-29.867-211.2-59.733-267.733l-17.067-34.133 32 25.6c17.067 13.867 46.933 48 65.067 74.667z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Longitude"],grid:0},attrs:[{}],properties:{order:152,id:69,name:"Longitude",prevSize:32},setIdx:0,setId:3,iconIdx:75},{icon:{paths:["M412.8 96c-45.867 11.733-118.4 46.933-155.733 75.733-24.533 20.267-20.267 20.267 256 20.267 313.6-1.067 311.467 0 171.733-66.133-73.6-35.2-196.267-49.067-272-29.867z","M163.2 268.8c-12.8 16-56.533 100.267-56.533 109.867 0 3.2 182.4 5.333 405.333 5.333s405.333-3.2 405.333-8.533c0-4.267-13.867-32-29.867-60.8l-28.8-53.333-342.4-3.2c-266.667-2.133-345.6 1.067-353.067 10.667z","M85.333 512v64h853.333v-128h-853.333v64z","M106.667 647.467c0 5.333 13.867 32 29.867 61.867l28.8 53.333h693.333l28.8-53.333c16-29.867 29.867-56.533 29.867-61.867 0-4.267-182.4-7.467-405.333-7.467s-405.333 3.2-405.333 7.467z","M259.2 853.333c14.933 11.733 55.467 35.2 89.6 51.2 53.333 24.533 75.733 28.8 163.2 28.8 91.733 0 107.733-3.2 170.667-33.067 141.867-69.333 145.067-67.2-169.6-68.267h-281.6l27.733 21.333z"],attrs:[{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{}]},tags:["LatitudeFilled"],grid:0},attrs:[{},{},{},{},{}],properties:{order:151,id:70,name:"LatitudeFilled",prevSize:32},setIdx:0,setId:3,iconIdx:76},{icon:{paths:["M512 85.333c-235.264 0-426.667 191.403-426.667 426.667s191.403 426.667 426.667 426.667 426.667-191.403 426.667-426.667-191.403-426.667-426.667-426.667zM609.301 651.968c-6.251 6.251-14.443 9.365-22.635 9.365s-16.384-3.115-22.635-9.365l-106.667-106.667c-5.995-6.016-9.365-14.144-9.365-22.635v-234.667c0-17.685 14.315-32 32-32s32 14.315 32 32v221.419l97.301 97.301c12.48 12.48 12.48 32.747 0 45.248z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["ClockFilled"],grid:0},attrs:[{}],properties:{order:145,id:71,name:"ClockFilled",prevSize:32},setIdx:0,setId:3,iconIdx:77},{icon:{paths:["M397.867 104.533c-145.067 52.267-248.533 195.2-248.533 343.467 0 119.467 50.133 204.8 225.067 387.2 136.533 140.8 138.667 140.8 275.2 0 187.733-194.133 233.6-280.533 221.867-416-9.6-125.867-88.533-240-206.933-297.6-77.867-38.4-187.733-44.8-266.667-17.067zM564.267 356.267c71.467 37.333 69.333 152.533-4.267 185.6-54.4 24.533-114.133 7.467-139.733-41.6-50.133-97.067 46.933-194.133 144-144z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["LocationFilled"],grid:0},attrs:[{}],properties:{order:143,id:72,name:"LocationFilled",prevSize:32},setIdx:0,setId:3,iconIdx:78},{icon:{paths:["M411.733 96c-67.2 17.067-163.2 74.667-210.133 124.8-23.467 25.6-58.667 78.933-76.8 118.4-30.933 65.067-34.133 81.067-34.133 173.867 0 96 2.133 105.6 39.467 182.4 48 97.067 109.867 156.8 209.067 203.733 65.067 30.933 81.067 34.133 172.8 34.133s107.733-3.2 172.8-34.133c99.2-46.933 161.067-106.667 209.067-203.733 37.333-76.8 39.467-86.4 39.467-183.467s-2.133-106.667-39.467-183.467c-72.533-145.067-200.533-231.467-358.4-238.933-44.8-2.133-100.267 1.067-123.733 6.4zM544 314.667c27.733 34.133-13.867 86.4-50.133 62.933-37.333-23.467-24.533-78.933 18.133-78.933 10.667 0 24.533 7.467 32 16zM538.667 597.333v144h-53.333l-3.2-132.267c-1.067-73.6 0-139.733 3.2-148.267 3.2-7.467 16-12.8 28.8-10.667 24.533 3.2 24.533 6.4 24.533 147.2z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["InfoFilled"],grid:0},attrs:[{}],properties:{order:142,id:73,name:"InfoFilled",prevSize:32},setIdx:0,setId:3,iconIdx:79},{icon:{paths:["M115.2 411.733c-32 17.067-61.867 65.067-61.867 100.267 0 56.533 60.8 117.333 117.333 117.333 36.267 0 83.2-29.867 101.333-64 20.267-39.467 20.267-67.2 0-106.667-29.867-57.6-100.267-78.933-156.8-46.933z","M456.533 411.733c-32 17.067-61.867 65.067-61.867 100.267 0 56.533 60.8 117.333 117.333 117.333s117.333-60.8 117.333-117.333c0-36.267-29.867-83.2-64-101.333-38.4-20.267-71.467-20.267-108.8 1.067z","M797.867 411.733c-32 17.067-61.867 65.067-61.867 100.267 0 36.267 29.867 83.2 64 101.333 17.067 8.533 40.533 16 53.333 16 56.533 0 117.333-60.8 117.333-117.333 0-36.267-29.867-83.2-64-101.333-38.4-20.267-71.467-20.267-108.8 1.067z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["MoreFilled"],grid:0},attrs:[{},{},{}],properties:{order:140,id:74,name:"MoreFilled",prevSize:32},setIdx:0,setId:3,iconIdx:80},{icon:{paths:["M106.667 391.467c-101.333 52.267-92.8 205.867 13.867 247.467 80 29.867 168.533-18.133 183.467-99.2 21.333-114.133-94.933-201.6-197.333-148.267zM220.8 460.8c30.933 28.8 30.933 69.333 1.067 101.333-28.8 30.933-69.333 30.933-101.333 1.067-30.933-28.8-30.933-69.333-1.067-101.333 28.8-30.933 69.333-30.933 101.333-1.067z","M448 391.467c-101.333 52.267-92.8 205.867 13.867 247.467 112 42.667 219.733-65.067 177.067-177.067-28.8-74.667-118.4-107.733-190.933-70.4zM562.133 460.8c30.933 28.8 30.933 69.333 1.067 101.333-28.8 30.933-69.333 30.933-101.333 1.067-30.933-28.8-30.933-69.333-1.067-101.333 28.8-30.933 69.333-30.933 101.333-1.067z","M789.333 391.467c-101.333 52.267-92.8 205.867 13.867 247.467 112 42.667 219.733-65.067 177.067-177.067-28.8-74.667-118.4-107.733-190.933-70.4zM903.467 460.8c30.933 28.8 30.933 69.333 1.067 101.333-28.8 30.933-69.333 30.933-101.333 1.067-30.933-28.8-30.933-69.333-1.067-101.333 28.8-30.933 69.333-30.933 101.333-1.067z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["More"],grid:0},attrs:[{},{},{}],properties:{order:141,id:75,name:"More",prevSize:32},setIdx:0,setId:3,iconIdx:81},{icon:{paths:["M398.933 104.533c-147.2 52.267-249.6 194.133-249.6 343.467 0 119.467 50.133 205.867 225.067 387.2 136.533 140.8 138.667 140.8 275.2 0 187.733-194.133 233.6-280.533 221.867-416-9.6-125.867-88.533-240-206.933-297.6-76.8-38.4-187.733-44.8-265.6-17.067zM608 166.4c81.067 24.533 163.2 106.667 187.733 190.933 21.333 76.8 14.933 154.667-19.2 221.867-32 62.933-240 295.467-264.533 295.467-22.4 0-231.467-230.4-264.533-293.333-101.333-189.867 42.667-427.733 260.267-430.933 23.467-1.067 68.267 6.4 100.267 16z","M452.267 334.933c-96 41.6-83.2 201.6 18.133 232.533 113.067 33.067 203.733-71.467 152.533-178.133-28.8-61.867-100.267-84.267-170.667-54.4zM556.8 402.133c23.467 21.333 24.533 54.4 2.133 86.4-32 45.867-110.933 18.133-110.933-38.4 0-57.6 66.133-86.4 108.8-48z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Location"],grid:0},attrs:[{},{}],properties:{order:139,id:76,name:"Location1",prevSize:32},setIdx:0,setId:3,iconIdx:82},{icon:{paths:["M411.733 96c-67.2 17.067-163.2 74.667-210.133 124.8-23.467 25.6-58.667 78.933-76.8 118.4-30.933 65.067-34.133 81.067-34.133 173.867 0 96 2.133 105.6 39.467 182.4 48 97.067 109.867 156.8 209.067 203.733 65.067 30.933 81.067 34.133 172.8 34.133s107.733-3.2 172.8-34.133c99.2-46.933 161.067-106.667 209.067-203.733 37.333-76.8 39.467-86.4 39.467-183.467s-2.133-106.667-39.467-183.467c-72.533-145.067-200.533-231.467-358.4-238.933-44.8-2.133-100.267 1.067-123.733 6.4zM662.4 183.467c73.6 34.133 144 104.533 179.2 179.2 39.467 84.267 39.467 214.4 0 298.667-35.2 74.667-105.6 145.067-180.267 180.267-84.267 39.467-214.4 39.467-298.667 0-74.667-35.2-145.067-105.6-180.267-180.267-39.467-84.267-39.467-214.4 0-298.667 29.867-62.933 100.267-140.8 152.533-167.467 102.4-53.333 227.2-57.6 327.467-11.733z","M480 314.667c-27.733 34.133 13.867 86.4 51.2 62.933 36.267-23.467 23.467-78.933-19.2-78.933-10.667 0-24.533 7.467-32 16z","M485.333 460.8c-3.2 8.533-4.267 74.667-3.2 148.267l3.2 132.267h53.333v-144c0-140.8 0-144-24.533-147.2-12.8-2.133-25.6 3.2-28.8 10.667z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["Info"],grid:0},attrs:[{},{},{}],properties:{order:138,id:77,name:"Info",prevSize:32},setIdx:0,setId:3,iconIdx:83},{icon:{paths:["M658.133 96c-116.267 36.267-176 172.8-125.867 283.733 28.8 62.933 160 196.267 193.067 196.267 36.267 0 173.867-144 198.4-208 49.067-130.133-39.467-266.667-178.133-277.333-32-3.2-71.467 0-87.467 5.333zM768 256c11.733 11.733 21.333 30.933 21.333 42.667s-9.6 30.933-21.333 42.667c-11.733 11.733-30.933 21.333-42.667 21.333s-30.933-9.6-42.667-21.333c-11.733-11.733-21.333-30.933-21.333-42.667s9.6-30.933 21.333-42.667c11.733-11.733 30.933-21.333 42.667-21.333s30.933 9.6 42.667 21.333z","M242.133 274.133l-114.133 83.2 2.133 245.333c4.267 293.333-2.133 285.867 139.733 181.333l92.8-69.333v-261.333c0-144-1.067-261.333-3.2-261.333-1.067 0-54.4 37.333-117.333 82.133z","M426.667 451.2v261.333l80 59.733c43.733 33.067 82.133 59.733 85.333 59.733s5.333-67.2 5.333-149.333v-149.333l-41.6-45.867c-62.933-68.267-80-108.8-82.133-194.133-1.067-61.867-5.333-75.733-24.533-88.533l-22.4-14.933v261.333z","M832 554.667c-53.333 57.6-93.867 73.6-142.933 55.467-17.067-7.467-33.067-10.667-35.2-8.533s-2.133 57.6-1.067 123.733l3.2 119.467 114.133-83.2 114.133-84.267 1.067-88.533c0-48-1.067-87.467-2.133-86.4-2.133 0-24.533 23.467-51.2 52.267z"],attrs:[{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{}],"11254211456925512552552551":[{},{},{},{}],"1145692551255255255183252241":[{},{},{},{}]},tags:["MapFilled"],grid:0},attrs:[{},{},{},{}],properties:{order:137,id:78,name:"MapFilled",prevSize:32},setIdx:0,setId:3,iconIdx:84},{icon:{paths:["M658.133 96c-116.267 36.267-176 172.8-125.867 283.733 28.8 62.933 160 196.267 193.067 196.267 36.267 0 173.867-144 198.4-208 49.067-130.133-39.467-266.667-178.133-277.333-32-3.2-71.467 0-87.467 5.333zM797.867 170.667c42.667 26.667 76.8 80 76.8 122.667 0 41.6-24.533 84.267-92.8 161.067l-54.4 61.867-57.6-61.867c-68.267-74.667-93.867-118.4-93.867-161.067 0-70.4 76.8-144 149.333-144 20.267 0 53.333 9.6 72.533 21.333z","M689.067 262.4c-9.6 8.533-17.067 25.6-17.067 36.267 0 45.867 57.6 69.333 89.6 36.267 9.6-8.533 17.067-25.6 17.067-36.267s-7.467-27.733-17.067-36.267c-8.533-9.6-25.6-17.067-36.267-17.067s-27.733 7.467-36.267 17.067z","M252.8 264.533l-124.8 91.733 2.133 246.4c3.2 218.667 5.333 245.333 21.333 248.533 9.6 2.133 68.267-33.067 131.2-77.867l113.067-82.133 110.933 81.067c61.867 44.8 116.267 81.067 122.667 81.067 5.333 0 68.267-41.6 138.667-92.8l128-92.8v-91.733l-1.067-90.667-30.933 37.333c-21.333 25.6-32 49.067-32 74.667 0 34.133-6.4 42.667-82.133 97.067l-83.2 60.8-3.2-77.867c-3.2-69.333-6.4-80-34.133-106.667l-32-30.933v217.6l-85.333-60.8-84.267-61.867-1.067-185.6c0-164.267 2.133-183.467 16-171.733 19.2 16 21.333 13.867 30.933-22.4 5.333-23.467 0-33.067-29.867-56.533-20.267-14.933-43.733-27.733-51.2-26.667-7.467 0-70.4 41.6-139.733 92.8zM362.667 452.267v184.533l-39.467 27.733c-22.4 14.933-60.8 41.6-85.333 60.8l-45.867 34.133v-370.133l83.2-60.8c44.8-33.067 83.2-60.8 85.333-61.867 1.067 0 2.133 83.2 2.133 185.6z"],attrs:[{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{}],"11254211456925512552552551":[{},{},{}],"1145692551255255255183252241":[{},{},{}]},tags:["Map"],grid:0},attrs:[{},{},{}],properties:{order:136,id:79,name:"Map",prevSize:32},setIdx:0,setId:3,iconIdx:85},{icon:{paths:["M102.4 273.067c-21.333 21.333-21.333 51.2 0 72.533 32 33.067 89.6 9.6 89.6-36.267 0-25.6-27.733-53.333-53.333-53.333-10.667 0-27.733 7.467-36.267 17.067z","M260.267 293.333c-4.267 8.533-4.267 23.467 0 32 5.333 13.867 50.133 16 339.2 13.867l333.867-3.2v-53.333l-333.867-3.2c-289.067-2.133-333.867 0-339.2 13.867z","M102.4 486.4c-33.067 32-9.6 89.6 36.267 89.6 25.6 0 53.333-27.733 53.333-53.333s-27.733-53.333-53.333-53.333c-10.667 0-27.733 7.467-36.267 17.067z","M260.267 506.667c-4.267 8.533-4.267 23.467 0 32 5.333 13.867 50.133 16 339.2 13.867l333.867-3.2v-53.333l-333.867-3.2c-289.067-2.133-333.867 0-339.2 13.867z","M102.4 699.733c-21.333 21.333-21.333 51.2 0 72.533 32 33.067 89.6 9.6 89.6-36.267 0-25.6-27.733-53.333-53.333-53.333-10.667 0-27.733 7.467-36.267 17.067z","M260.267 720c-4.267 8.533-4.267 23.467 0 32 5.333 13.867 50.133 16 339.2 13.867l333.867-3.2v-53.333l-333.867-3.2c-289.067-2.133-333.867 0-339.2 13.867z"],attrs:[{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{}]},tags:["List"],grid:0},attrs:[{},{},{},{},{},{}],properties:{order:135,id:80,name:"List",prevSize:32},setIdx:0,setId:3,iconIdx:86},{icon:{paths:["M162.133 227.2c-65.067 66.133-119.467 126.933-119.467 136.533 0 21.333 21.333 41.6 42.667 41.6 8.533 0 50.133-34.133 90.667-74.667l74.667-75.733 5.333 194.133c4.267 169.6 7.467 195.2 24.533 205.867 12.8 8.533 23.467 8.533 37.333 0 16-10.667 19.2-36.267 23.467-205.867l5.333-194.133 74.667 75.733c40.533 40.533 82.133 74.667 90.667 74.667 21.333 0 42.667-21.333 42.667-42.667s-234.667-256-256-256c-9.6 0-70.4 54.4-136.533 120.533z","M693.333 122.667c-27.733 34.133 13.867 86.4 51.2 62.933 36.267-23.467 23.467-78.933-19.2-78.933-10.667 0-24.533 7.467-32 16z","M693.333 250.667c-27.733 34.133 13.867 86.4 51.2 62.933 36.267-23.467 23.467-78.933-19.2-78.933-10.667 0-24.533 7.467-32 16z","M695.467 375.467c-8.533 8.533-12.8 69.333-12.8 204.8v192l-77.867-76.8c-42.667-41.6-84.267-76.8-93.867-76.8-20.267 0-41.6 21.333-41.6 42.667s234.667 256 256 256c21.333 0 256-235.733 256-257.067 0-20.267-21.333-41.6-41.6-41.6-9.6 0-51.2 35.2-93.867 76.8l-77.867 76.8v-192c0-196.267-4.267-217.6-42.667-217.6-9.6 0-22.4 5.333-29.867 12.8z","M266.667 720c-16 19.2-10.667 48 13.867 62.933 36.267 23.467 77.867-28.8 50.133-62.933-17.067-20.267-46.933-20.267-64 0z","M266.667 848c-27.733 34.133 13.867 86.4 51.2 62.933 23.467-14.933 28.8-43.733 12.8-62.933-17.067-20.267-46.933-20.267-64 0z"],attrs:[{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{}]},tags:["Sort"],grid:0},attrs:[{},{},{},{},{},{}],properties:{order:134,id:81,name:"Sort",prevSize:32},setIdx:0,setId:3,iconIdx:87},{icon:{paths:["M605.867 200.533c-65.067 66.133-93.867 101.333-93.867 119.467 0 35.2 178.133 213.333 213.333 213.333s213.333-178.133 213.333-213.333c0-18.133-28.8-53.333-93.867-119.467-66.133-65.067-101.333-93.867-119.467-93.867s-53.333 28.8-119.467 93.867zM805.333 245.333l74.667 74.667-154.667 154.667-154.667-154.667 74.667-74.667c40.533-40.533 76.8-74.667 80-74.667s39.467 34.133 80 74.667z","M151.467 216.533c-21.333 22.4-23.467 36.267-23.467 147.2 0 115.2 2.133 124.8 24.533 146.133s36.267 23.467 147.2 23.467c115.2 0 124.8-2.133 146.133-24.533s23.467-36.267 23.467-147.2c0-115.2-2.133-124.8-24.533-146.133s-36.267-23.467-147.2-23.467c-115.2 0-124.8 2.133-146.133 24.533zM405.333 362.667v106.667h-213.333v-213.333h213.333v106.667z","M151.467 600.533c-21.333 22.4-23.467 36.267-23.467 147.2 0 115.2 2.133 124.8 24.533 146.133s36.267 23.467 147.2 23.467c115.2 0 124.8-2.133 146.133-24.533s23.467-36.267 23.467-147.2c0-115.2-2.133-124.8-24.533-146.133s-36.267-23.467-147.2-23.467c-115.2 0-124.8 2.133-146.133 24.533zM405.333 746.667v106.667h-213.333v-213.333h213.333v106.667z","M535.467 600.533c-21.333 22.4-23.467 36.267-23.467 147.2 0 115.2 2.133 124.8 24.533 146.133s36.267 23.467 147.2 23.467c115.2 0 124.8-2.133 146.133-24.533s23.467-36.267 23.467-147.2c0-115.2-2.133-124.8-24.533-146.133s-36.267-23.467-147.2-23.467c-115.2 0-124.8 2.133-146.133 24.533zM789.333 746.667v106.667h-213.333v-213.333h213.333v106.667z"],attrs:[{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{}],"11254211456925512552552551":[{},{},{},{}],"1145692551255255255183252241":[{},{},{},{}]},tags:["Apps"],grid:0},attrs:[{},{},{},{}],properties:{order:132,id:82,name:"Apps",prevSize:32},setIdx:0,setId:3,iconIdx:88},{icon:{paths:["M510.958 85.333c-7.135 0.251-13.63 2.8-18.815 6.925l0.065-0.050-303.208 238.875c-38.483 30.328-61 76.671-61 125.667v407.25c0 29.090 24.243 53.333 53.333 53.333h213.333c29.090 0 53.333-24.243 53.333-53.333v-213.333c0-6.294 4.372-10.667 10.667-10.667h106.667c6.294 0 10.667 4.372 10.667 10.667v213.333c0 29.090 24.243 53.333 53.333 53.333h213.333c29.090 0 53.333-24.243 53.333-53.333v-407.25c0-48.995-22.517-95.339-61-125.667l-303.208-238.875c-5.398-4.295-12.315-6.89-19.838-6.89-0.35 0-0.699 0.006-1.046 0.017l0.051-0.001zM512 158.083l283.417 223.292c23.128 18.227 36.583 45.949 36.583 75.375v396.583h-192v-202.667c0-40.852-33.814-74.667-74.667-74.667h-106.667c-40.852 0-74.667 33.814-74.667 74.667v202.667h-192v-396.583c0-29.426 13.456-57.148 36.583-75.375l283.417-223.292z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["icons8_home_3"],grid:0},attrs:[{}],properties:{order:131,id:83,name:"Home",prevSize:32},setIdx:0,setId:3,iconIdx:89},{icon:{paths:["M842.667 917.333h-192c-29.461 0-53.333-23.872-53.333-53.333v-192c0-23.573-19.093-42.667-42.667-42.667h-85.333c-23.573 0-42.667 19.093-42.667 42.667v192c0 29.461-23.872 53.333-53.333 53.333h-192c-29.461 0-53.333-23.872-53.333-53.333v-407.189c0-49.045 22.485-95.381 60.992-125.717l303.189-238.912c11.627-9.131 28.011-9.131 39.616 0l303.232 238.912c38.507 30.336 60.971 76.651 60.971 125.675v407.232c0 29.461-23.872 53.333-53.333 53.333z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["icons8_home_2"],grid:0},attrs:[{}],properties:{order:130,id:84,name:"HomeFilled",prevSize:32},setIdx:0,setId:3,iconIdx:90},{icon:{paths:["M212.267 179.2c-71.467 37.333-117.333 104.533-124.8 183.467-4.267 44.8 1.067 65.067 29.867 123.733s65.067 101.333 205.867 240c94.933 93.867 180.267 169.6 188.8 169.6 9.6 0 93.867-75.733 187.733-168.533 187.733-184.533 238.933-260.267 238.933-347.733-1.067-117.333-113.067-230.4-229.333-230.4-50.133 0-114.133 27.733-162.133 68.267l-35.2 29.867-34.133-29.867c-87.467-73.6-174.933-86.4-265.6-38.4z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["HeartFilled"],grid:0},attrs:[{}],properties:{order:79,id:85,name:"HeartFilled",prevSize:32},setIdx:0,setId:3,iconIdx:91},{icon:{paths:["M288 125.867c-72.533 36.267-74.667 50.133-72.533 439.467 3.2 311.467 5.333 346.667 20.267 349.867 9.6 2.133 75.733-38.4 147.2-88.533 83.2-59.733 133.333-89.6 141.867-84.267 7.467 5.333 66.133 46.933 129.067 92.8 64 45.867 123.733 82.133 133.333 80 16-3.2 18.133-34.133 21.333-349.867 2.133-312.533 0-349.867-16-384-33.067-65.067-68.267-74.667-280.533-74.667-156.8 0-193.067 3.2-224 19.2z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["BookmarkFilled"],grid:0},attrs:[{}],properties:{order:80,id:86,name:"BookmarkFilled",prevSize:32},setIdx:0,setId:3,iconIdx:92},{icon:{paths:["M432 224c-33.067 65.067-65.067 120.533-72.533 122.667s-70.4 12.8-140.8 23.467c-165.333 24.533-166.4 27.733-39.467 156.8l96 97.067-20.267 128c-10.667 70.4-20.267 134.4-20.267 141.867 0 33.067 39.467 23.467 155.733-36.267l121.6-62.933 121.6 62.933c116.267 59.733 155.733 69.333 155.733 36.267 0-7.467-9.6-71.467-20.267-141.867l-20.267-128 96-97.067c126.933-129.067 125.867-132.267-39.467-156.8-70.4-11.733-133.333-22.4-140.8-24.533s-39.467-56.533-72.533-121.6c-44.8-89.6-64-117.333-80-117.333s-35.2 27.733-80 117.333z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["StarFilled"],grid:0},attrs:[{}],properties:{order:81,id:87,name:"StarFilled",prevSize:32},setIdx:0,setId:3,iconIdx:93},{icon:{paths:["M432 224c-33.067 65.067-65.067 120.533-72.533 122.667s-70.4 12.8-140.8 23.467c-165.333 24.533-166.4 27.733-39.467 156.8l96 97.067-20.267 128c-10.667 70.4-20.267 134.4-20.267 141.867 0 33.067 39.467 23.467 155.733-36.267l121.6-62.933 121.6 62.933c116.267 59.733 155.733 69.333 155.733 36.267 0-7.467-9.6-71.467-20.267-141.867l-20.267-128 96-97.067c126.933-129.067 125.867-132.267-39.467-156.8-70.4-11.733-133.333-22.4-140.8-24.533s-39.467-56.533-72.533-121.6c-44.8-89.6-64-117.333-80-117.333s-35.2 27.733-80 117.333zM562.133 313.6l44.8 88.533 88.533 12.8c154.667 22.4 149.333 13.867 61.867 102.4l-76.8 76.8 17.067 110.933c8.533 60.8 13.867 112 11.733 114.133s-46.933-19.2-99.2-46.933l-96-52.267-98.133 52.267c-53.333 27.733-99.2 49.067-102.4 46.933-2.133-3.2 3.2-54.4 12.8-115.2l17.067-108.8-76.8-77.867c-87.467-88.533-92.8-80 61.867-102.4l88.533-12.8 44.8-88.533c24.533-49.067 46.933-89.6 50.133-89.6s25.6 40.533 50.133 89.6z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Star"],grid:0},attrs:[{}],properties:{order:82,id:88,name:"Star",prevSize:32},setIdx:0,setId:3,iconIdx:94},{icon:{paths:["M384 209.067c-99.2 26.667-172.8 68.267-246.4 141.867-107.733 108.8-168.533 257.067-107.733 265.6 14.933 2.133 25.6-3.2 29.867-16 25.6-76.8 72.533-155.733 119.467-202.667 238.933-238.933 638.933-157.867 765.867 155.733 20.267 48 28.8 59.733 49.067 59.733 62.933 0-1.067-154.667-107.733-261.333-137.6-135.467-326.4-189.867-502.4-142.933z","M432 382.933c-133.333 61.867-165.333 220.8-65.067 329.6 118.4 130.133 347.733 37.333 347.733-140.8 0-26.667-5.333-60.8-11.733-77.867-25.6-68.267-116.267-131.2-190.933-131.2-20.267 0-56.533 9.6-80 20.267zM570.667 441.6c110.933 46.933 104.533 213.333-10.667 257.067-48 19.2-93.867 12.8-133.333-19.2-80-61.867-66.133-198.4 24.533-236.8 43.733-19.2 73.6-19.2 119.467-1.067z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Eye"],grid:0},attrs:[{},{}],properties:{order:83,id:89,name:"Eye",prevSize:32},setIdx:0,setId:3,iconIdx:95},{icon:{paths:["M433.067 97.067c-66.133 16-163.2 72.533-210.133 123.733-23.467 25.6-58.667 78.933-76.8 118.4-30.933 65.067-34.133 81.067-34.133 173.867 0 96 2.133 105.6 39.467 182.4 48 97.067 109.867 156.8 209.067 203.733 65.067 30.933 81.067 34.133 172.8 34.133s107.733-3.2 171.733-33.067c39.467-19.2 90.667-52.267 115.2-74.667 51.2-45.867 102.4-125.867 93.867-147.2-3.2-8.533-25.6-18.133-50.133-22.4-65.067-10.667-164.267-65.067-208-114.133-87.467-96-119.467-229.333-85.333-355.2 9.6-38.4 16-76.8 11.733-85.333-6.4-18.133-80-20.267-149.333-4.267zM507.733 172.8c-40.533 138.667-2.133 294.4 101.333 407.467 49.067 54.4 158.933 123.733 195.2 123.733 29.867 0 18.133 27.733-32 74.667-73.6 68.267-131.2 89.6-238.933 90.667-75.733 0-100.267-4.267-149.333-27.733-74.667-35.2-145.067-105.6-180.267-180.267-38.4-81.067-39.467-213.333-2.133-295.467 41.6-93.867 148.267-180.267 251.733-205.867 55.467-13.867 61.867-12.8 54.4 12.8z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Moon"],grid:0},attrs:[{}],properties:{order:84,id:90,name:"Moon",prevSize:32},setIdx:0,setId:3,iconIdx:96},{icon:{paths:["M511.5 84.875c-17.459 0.281-31.503 14.5-31.503 31.999 0 0.161 0.001 0.323 0.004 0.483l-0-0.024v64c-0.002 0.135-0.003 0.293-0.003 0.453 0 17.675 14.328 32.003 32.003 32.003s32.003-14.328 32.003-32.003c0-0.159-0.001-0.318-0.003-0.477l0 0.024v-64c0.002-0.136 0.003-0.298 0.003-0.459 0-17.675-14.328-32.003-32.003-32.003-0.176 0-0.351 0.001-0.526 0.004l0.026-0zM232.583 200.625c-17.672 0.004-31.995 14.331-31.995 32.003 0 9 3.715 17.133 9.696 22.948l0.007 0.007 45.25 45.25c5.796 5.796 13.802 9.38 22.646 9.38 17.687 0 32.026-14.339 32.026-32.026 0-8.844-3.585-16.85-9.38-22.646l-45.25-45.25c-5.819-5.966-13.937-9.667-22.919-9.667-0.028 0-0.057 0-0.085 0l0.004-0zM790.417 200.625c-8.646 0.26-16.392 3.91-21.993 9.66l-0.007 0.007-45.25 45.25c-5.796 5.796-9.38 13.802-9.38 22.646 0 17.687 14.339 32.026 32.026 32.026 8.844 0 16.85-3.585 22.646-9.38l45.25-45.25c5.998-5.823 9.72-13.963 9.72-22.971 0-17.675-14.328-32.003-32.003-32.003-0.355 0-0.708 0.006-1.060 0.017l0.051-0.001zM512 277.333c-129.224 0-234.667 105.443-234.667 234.667s105.443 234.667 234.667 234.667c129.224 0 234.667-105.443 234.667-234.667s-105.443-234.667-234.667-234.667zM512 341.333c94.636 0 170.667 76.031 170.667 170.667s-76.031 170.667-170.667 170.667c-94.636 0-170.667-76.031-170.667-170.667s76.031-170.667 170.667-170.667zM117.333 480c-0.135-0.002-0.293-0.003-0.453-0.003-17.675 0-32.003 14.328-32.003 32.003s14.328 32.003 32.003 32.003c0.159 0 0.318-0.001 0.477-0.003l-0.024 0h64c0.135 0.002 0.293 0.003 0.453 0.003 17.675 0 32.003-14.328 32.003-32.003s-14.328-32.003-32.003-32.003c-0.159 0-0.318 0.001-0.477 0.003l0.024-0h-64zM842.667 480c-0.135-0.002-0.293-0.003-0.453-0.003-17.675 0-32.003 14.328-32.003 32.003s14.328 32.003 32.003 32.003c0.159 0 0.318-0.001 0.477-0.003l-0.024 0h64c0.135 0.002 0.293 0.003 0.453 0.003 17.675 0 32.003-14.328 32.003-32.003s-14.328-32.003-32.003-32.003c-0.159 0-0.318 0.001-0.477 0.003l0.024-0h-64zM277.542 713.5c-8.646 0.26-16.392 3.91-21.993 9.66l-0.007 0.007-45.25 45.25c-5.798 5.796-9.385 13.805-9.385 22.651 0 17.687 14.339 32.026 32.026 32.026 8.846 0 16.855-3.587 22.651-9.385l45.25-45.25c5.998-5.823 9.72-13.963 9.72-22.971 0-17.675-14.328-32.003-32.003-32.003-0.355 0-0.708 0.006-1.060 0.017l0.051-0.001zM745.458 713.5c-17.672 0.004-31.995 14.331-31.995 32.003 0 9 3.715 17.133 9.696 22.948l0.007 0.007 45.25 45.25c5.796 5.796 13.802 9.38 22.646 9.38 17.687 0 32.026-14.339 32.026-32.026 0-8.844-3.585-16.85-9.38-22.646v0l-45.25-45.25c-5.819-5.966-13.937-9.667-22.919-9.667-0.028 0-0.057 0-0.085 0l0.004-0zM511.5 810.208c-17.459 0.281-31.503 14.5-31.503 31.999 0 0.161 0.001 0.323 0.004 0.483l-0-0.024v64c-0.002 0.135-0.003 0.293-0.003 0.453 0 17.675 14.328 32.003 32.003 32.003s32.003-14.328 32.003-32.003c0-0.159-0.001-0.318-0.003-0.477l0 0.024v-64c0.002-0.137 0.003-0.298 0.003-0.459 0-17.675-14.328-32.003-32.003-32.003-0.176 0-0.351 0.001-0.527 0.004l0.026-0z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Sun"],grid:0},attrs:[{}],properties:{order:176,id:91,name:"Sun",prevSize:32},setIdx:0,setId:3,iconIdx:97},{icon:{paths:["M435.2 106.667c-21.333 11.733-43.733 29.867-50.133 39.467-7.467 13.867-21.333 18.133-52.267 14.933-61.867-4.267-124.8 30.933-152.533 85.333-13.867 27.733-20.267 58.667-19.2 86.4 3.2 30.933-1.067 44.8-14.933 52.267-25.6 14.933-60.8 87.467-60.8 126.933s35.2 112 60.8 126.933c13.867 7.467 18.133 21.333 14.933 52.267-6.4 94.933 76.8 178.133 171.733 171.733 30.933-3.2 44.8 1.067 52.267 14.933 14.933 25.6 87.467 60.8 126.933 60.8s112-35.2 126.933-60.8c7.467-13.867 21.333-18.133 52.267-14.933 94.933 6.4 178.133-76.8 171.733-171.733-3.2-30.933 1.067-44.8 14.933-52.267 25.6-14.933 60.8-87.467 60.8-126.933s-35.2-112-60.8-126.933c-13.867-7.467-18.133-21.333-14.933-52.267 6.4-94.933-76.8-178.133-171.733-171.733-30.933 3.2-44.8-1.067-52.267-14.933-14.933-26.667-88.533-60.8-129.067-60.8-19.2 1.067-53.333 10.667-74.667 21.333zM701.867 409.6c5.333 23.467-216.533 251.733-243.2 251.733s-141.867-121.6-136.533-145.067c6.4-36.267 40.533-29.867 89.6 18.133l46.933 46.933 99.2-99.2c99.2-100.267 135.467-118.4 144-72.533z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Verified"],grid:0},attrs:[{}],properties:{order:86,id:92,name:"Verified",prevSize:32},setIdx:0,setId:3,iconIdx:98},{icon:{paths:["M202.667 147.2c-69.333 34.133-74.667 58.667-74.667 364.8 0 402.133-18.133 384 384 384s384 18.133 384-384c0-402.133 18.133-384-384-384-237.867 0-276.267 2.133-309.333 19.2zM807.467 215.467c13.867 13.867 24.533 35.2 24.533 53.333v29.867h-640v-28.8c0-16 10.667-39.467 23.467-53.333 22.4-24.533 24.533-24.533 295.467-24.533 264.533 0 272 1.067 296.533 23.467zM832 572.8c0 284.8 32 259.2-318.933 259.2-353.067 0-321.067 25.6-321.067-258.133v-211.2h640v210.133z","M294.4 465.067c-33.067 32-9.6 89.6 36.267 89.6 25.6 0 53.333-27.733 53.333-53.333s-27.733-53.333-53.333-53.333c-10.667 0-27.733 7.467-36.267 17.067z","M475.733 465.067c-9.6 8.533-17.067 25.6-17.067 36.267 0 45.867 57.6 69.333 89.6 36.267 33.067-32 9.6-89.6-36.267-89.6-10.667 0-27.733 7.467-36.267 17.067z","M657.067 465.067c-9.6 8.533-17.067 25.6-17.067 36.267 0 45.867 57.6 69.333 89.6 36.267 21.333-21.333 21.333-51.2 0-72.533-8.533-9.6-25.6-17.067-36.267-17.067s-27.733 7.467-36.267 17.067z","M294.4 657.067c-33.067 32-9.6 89.6 36.267 89.6 25.6 0 53.333-27.733 53.333-53.333s-27.733-53.333-53.333-53.333c-10.667 0-27.733 7.467-36.267 17.067z","M475.733 657.067c-33.067 32-9.6 89.6 36.267 89.6 25.6 0 53.333-27.733 53.333-53.333s-27.733-53.333-53.333-53.333c-10.667 0-27.733 7.467-36.267 17.067z"],attrs:[{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{}]},tags:["Calendar"],grid:0},attrs:[{},{},{},{},{},{}],properties:{order:110,id:93,name:"Calendar",prevSize:32},setIdx:0,setId:3,iconIdx:99},{icon:{paths:["M512 102.4c-226.202 0-409.6 183.398-409.6 409.6 0 191.932 132.164 352.529 310.34 396.971-1.911-5.53-3.14-11.947-3.14-19.9v-70.007c-16.623 0-44.476 0-51.473 0-28.023 0-52.941-12.049-65.024-34.441-13.414-24.883-15.735-62.942-48.981-86.221-9.865-7.748-2.355-16.589 9.011-15.394 20.992 5.939 38.4 20.343 54.784 41.711 16.316 21.402 23.996 26.249 54.477 26.249 14.78 0 36.898-0.853 57.719-4.13 11.196-28.433 30.549-54.613 54.204-66.97-136.397-14.029-201.489-81.886-201.489-174.012 0-39.663 16.896-78.029 45.602-110.353-9.421-32.085-21.265-97.519 3.618-122.436 61.372 0 98.475 39.799 107.383 50.551 30.583-10.479 64.171-16.418 99.465-16.418 35.362 0 69.086 5.939 99.738 16.486 8.806-10.684 45.943-50.62 107.452-50.62 24.986 24.951 13.005 90.658 3.482 122.675 28.535 32.256 45.329 70.519 45.329 110.114 0 92.058-64.99 159.881-201.182 173.978 37.478 19.558 64.819 74.513 64.819 115.917v93.321c0 3.55-0.785 6.11-1.195 9.148 159.607-55.945 274.261-207.497 274.261-386.219 0-226.202-183.398-409.6-409.6-409.6z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["icons8-github"],grid:0},attrs:[{}],properties:{order:109,id:94,name:"icons8-github",prevSize:32},setIdx:0,setId:3,iconIdx:100},{icon:{paths:["M798.969 476.696l-144.049 143.742h-144.048l-126.043 125.773v-125.773h-162.055v-539.031h576.195v395.289z","M186.762 9.535l-180.061 179.678v646.837h216.073v179.676l180.061-179.676h144.049l324.11-323.419v-503.096h-684.231zM798.969 476.696l-144.049 143.742h-144.048l-126.043 125.773v-125.773h-162.055v-539.031h576.195v395.289z","M690.933 207.18h-72.025v215.613h72.025v-215.613z","M492.865 207.18h-72.023v215.613h72.023v-215.613z"],width:872,attrs:[{fill:"rgb(255, 255, 255)"},{fill:"rgb(145, 69, 255)"},{fill:"rgb(145, 69, 255)"},{fill:"rgb(145, 69, 255)"}],isMulticolor:!0,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{f:1},{f:2},{f:1},{f:1}],"11254211456925512552552551":[{f:3},{f:2},{f:2},{f:2}],"1145692551255255255183252241":[{f:3},{f:2},{f:2},{f:2}]},tags:["icons8-twitch (1)"],grid:0},attrs:[{fill:"rgb(255, 255, 255)"},{fill:"rgb(145, 69, 255)"},{fill:"rgb(145, 69, 255)"},{fill:"rgb(145, 69, 255)"}],properties:{order:195,id:95,name:"Twitch",prevSize:32},setIdx:0,setId:3,iconIdx:101},{icon:{paths:["M512.021 85.333c-236.309 0-426.667 190.357-426.667 426.667s190.357 426.667 426.667 426.667c236.288 0 426.667-190.357 426.667-426.667s-190.379-426.667-426.667-426.667z","M452.779 340.011c118.485 0 243.2 24.96 336.747 77.952 12.459 6.251 21.803 18.709 21.803 37.419-3.093 21.824-18.709 37.44-40.512 37.44-9.344 0-12.48-3.115-21.824-6.208-74.837-43.669-187.072-68.629-296.213-68.629-56.128 0-112.256 6.251-162.133 18.709-6.251 0-12.48 3.115-21.824 3.115-1.6 0.235-3.179 0.341-4.715 0.341-19.307 0-32.704-17.515-32.704-37.76 0-21.824 12.48-34.283 28.053-37.419 59.243-18.709 121.6-24.96 193.323-24.96zM443.413 477.205c106.027 0 208.917 24.96 289.984 74.816 12.459 6.208 18.709 18.709 18.709 31.168 0 18.731-12.48 34.304-31.189 34.304-9.344 0-15.573-3.072-21.824-6.208-65.451-40.533-155.904-65.515-258.773-65.515-49.899 0-96.661 6.251-130.965 15.637-9.365 3.072-12.48 3.072-18.709 3.072-18.709 0-31.189-15.573-31.189-31.168 0-18.709 9.365-28.075 24.939-34.283 46.763-12.459 93.547-21.824 159.019-21.824zM452.757 611.285c87.317 0 168.384 21.781 236.971 62.379 9.344 6.208 15.595 12.459 15.595 28.032-3.115 12.501-15.595 21.824-28.053 21.824-6.229 0-12.48-3.093-18.709-6.229-59.243-34.283-130.965-52.992-208.896-52.992-43.669 0-87.317 6.208-127.851 15.573-6.229 0-15.595 3.115-18.709 3.115-15.595 0-24.939-12.501-24.939-24.96 0-15.573 9.344-24.96 21.824-28.032 49.877-12.501 99.776-18.709 152.768-18.709zM452.779 318.677c-80.832 0-142.208 7.915-198.763 25.643-26.752 5.952-43.947 28.608-43.947 58.069 0 33.131 23.723 59.093 54.037 59.093 2.027 0 4.096-0.107 6.208-0.363 6.805-0.149 12.245-1.387 16.299-2.283 1.451-0.32 2.773-0.747 4.117-0.811h2.624l2.475-0.64c47.339-11.819 101.611-18.069 156.971-18.069 108.224 0 214.933 24.576 285.461 65.728l1.92 1.131 2.112 0.704c2.325 0.768 4.16 1.557 5.824 2.24 5.355 2.24 12.011 5.035 22.72 5.035 31.637 0 56.981-22.933 61.632-55.787l0.213-1.493v-1.515c0-24.981-12.032-45.44-33.045-56.213-90.56-51.136-216.939-80.469-346.859-80.469v0zM443.413 455.872c-70.208 0-120.555 10.837-164.501 22.549l-1.237 0.32-1.173 0.469c-25.472 10.155-38.379 28.352-38.379 54.101 0 28.949 23.552 52.501 52.523 52.501 7.915 0 13.355-0.192 25.365-4.139 33.536-9.152 79.232-14.571 124.309-14.571 94.741 0 182.656 22.123 247.531 62.315l0.811 0.512 0.853 0.427c7.125 3.584 16.896 8.469 31.381 8.469 29.952 0 52.523-23.915 52.523-55.637 0-21.248-11.307-40.235-29.589-49.792-81.643-50.005-188.309-77.525-300.416-77.525v0zM452.757 589.952c-54.336 0-106.005 6.336-157.952 19.349-23.381 5.76-37.973 24.427-37.973 48.725 0 25.963 20.331 46.293 46.272 46.293 3.669 0 7.125-0.789 11.136-1.685 2.155-0.491 6.144-1.387 7.616-1.429l2.155-0.064 2.603-0.491c43.157-9.963 84.544-15.019 123.051-15.019 73.003 0 141.547 17.323 198.208 50.133l0.533 0.32 0.555 0.277c7.125 3.584 16.896 8.512 28.309 8.512 22.4 0 43.349-16.341 48.747-37.995l0.64-2.539v-2.624c0-25.643-12.693-37.547-25.131-45.803l-0.469-0.299-0.469-0.277c-72.213-42.795-157.931-65.387-247.829-65.387v0z","M452.779 340.011c118.485 0 243.2 24.96 336.747 77.952 12.459 6.251 21.803 18.709 21.803 37.419-3.093 21.824-18.709 37.44-40.512 37.44-9.344 0-12.48-3.115-21.824-6.208-74.837-43.669-187.072-68.629-296.213-68.629-56.128 0-112.256 6.251-162.133 18.709-6.251 0-12.48 3.115-21.824 3.115-1.6 0.235-3.179 0.341-4.715 0.341-19.307 0-32.704-17.515-32.704-37.76 0-21.824 12.48-34.283 28.053-37.419 59.243-18.709 121.6-24.96 193.323-24.96zM443.413 477.205c106.027 0 208.917 24.96 289.984 74.816 12.459 6.208 18.709 18.709 18.709 31.168 0 18.731-12.48 34.304-31.189 34.304-9.344 0-15.573-3.072-21.824-6.208-65.451-40.533-155.904-65.515-258.773-65.515-49.899 0-96.661 6.251-130.965 15.637-9.365 3.072-12.48 3.072-18.709 3.072-18.709 0-31.189-15.573-31.189-31.168 0-18.709 9.365-28.075 24.939-34.283 46.763-12.459 93.547-21.824 159.019-21.824zM452.757 611.285c87.317 0 168.384 21.781 236.971 62.379 9.344 6.208 15.595 12.459 15.595 28.032-3.115 12.501-15.595 21.824-28.053 21.824-6.229 0-12.48-3.093-18.709-6.229-59.243-34.283-130.965-52.992-208.896-52.992-43.669 0-87.317 6.208-127.851 15.573-6.229 0-15.595 3.115-18.709 3.115-15.595 0-24.939-12.501-24.939-24.96 0-15.573 9.344-24.96 21.824-28.032 49.877-12.501 99.776-18.709 152.768-18.709zM452.779 329.344c-79.936 0-140.416 7.808-196.011 25.301-22.229 4.736-36.032 22.997-36.032 47.744 0 27.157 19.051 48.427 43.371 48.427 1.792 0 3.605-0.107 5.483-0.341 5.973-0.085 10.795-1.173 14.699-2.048 2.539-0.576 4.736-1.067 6.379-1.067h1.301l1.28-0.32c48.171-12.032 103.339-18.389 159.552-18.389 110.037 0 218.752 25.109 290.837 67.179l0.96 0.555 1.067 0.341c2.624 0.875 4.715 1.749 6.592 2.539 4.928 2.069 10.027 4.203 18.581 4.203 26.603 0 47.125-18.731 51.072-46.613l0.107-0.747v-0.747c0-21.013-10.091-38.123-27.691-46.955-88.555-50.133-213.205-79.061-341.547-79.061v0zM443.413 466.539c-65.152 0-111.787 8.875-161.771 22.187l-0.619 0.171-0.597 0.235c-13.589 5.419-31.659 15.893-31.659 44.181 0 20.117 16 41.835 41.856 41.835 7.253 0 11.541-0.171 22.037-3.605 34.923-9.536 81.643-15.104 127.637-15.104 96.704 0 186.603 22.699 253.163 63.915 7.36 3.733 15.467 7.808 27.435 7.808 23.872 0 41.856-19.328 41.856-44.971 0-17.557-9.429-33.152-24.619-40.725-79.253-48.789-184.213-75.925-294.72-75.925v0zM452.757 600.619c-53.461 0-104.277 6.229-155.371 19.029-18.432 4.544-29.888 19.243-29.888 38.379 0 17.515 13.312 35.627 35.605 35.627 2.475 0 5.248-0.619 8.768-1.429 3.157-0.704 7.488-1.685 9.941-1.685h1.216l1.195-0.277c43.947-10.155 86.144-15.296 125.44-15.296 74.88 0 145.259 17.835 203.563 51.563 7.061 3.584 15.189 7.659 24.043 7.659 17.643 0 34.155-12.864 38.4-29.909l0.32-1.28v-1.301c0-21.589-10.517-30.379-20.352-36.907-71.061-42.091-154.88-64.171-242.88-64.171v0z","M677.269 723.52c-6.229 0-12.48-3.093-18.709-6.229-59.243-34.283-130.965-52.992-208.896-52.992-43.669 0-87.317 6.208-127.851 15.573-6.229 0-15.595 3.115-18.709 3.115-15.595 0-24.939-12.501-24.939-24.96 0-15.573 9.344-24.96 21.824-28.032 49.877-12.501 99.776-18.709 152.768-18.709 87.317 0 168.384 21.781 236.971 62.379 9.344 6.208 15.595 12.459 15.595 28.032-3.115 12.501-15.595 21.824-28.053 21.824zM720.917 617.493c-9.344 0-15.573-3.072-21.824-6.208-65.451-40.533-155.904-65.515-258.773-65.515-49.899 0-96.661 6.251-130.965 15.637-9.365 3.072-12.48 3.072-18.709 3.072-18.709 0-31.189-15.573-31.189-31.168 0-18.709 9.365-28.075 24.939-34.283 46.763-12.459 93.547-21.824 159.019-21.824 106.027 0 208.917 24.96 289.984 74.816 12.459 6.208 18.709 18.709 18.709 31.168 0 18.731-12.48 34.304-31.189 34.304zM770.816 492.821c-9.344 0-12.48-3.115-21.824-6.208-74.837-43.669-187.072-68.629-296.213-68.629-56.128 0-112.256 6.251-162.133 18.709-6.251 0-12.48 3.115-21.824 3.115-21.824 3.115-37.419-15.573-37.419-37.419 0-21.824 12.48-34.283 28.053-37.419 59.243-18.709 121.6-24.96 193.323-24.96 118.485 0 243.2 24.96 336.747 77.952 12.459 6.251 21.803 18.709 21.803 37.419-3.093 21.824-18.709 37.44-40.512 37.44z"],attrs:[{fill:"rgb(0, 0, 0)"},{fill:"rgb(0, 0, 0)",opacity:.05},{fill:"rgb(0, 0, 0)",opacity:.07},{fill:"rgb(255, 255, 255)"}],isMulticolor:!0,isMulticolor2:!0,colorPermutations:{"113167200125025025012552552551":[{f:0},{f:0},{f:0},{f:3}],"11254211456925512552552551":[{f:0},{f:0},{f:0},{f:3}],"1145692551255255255183252241":[{f:0},{f:0},{f:0},{f:3}]},tags:["icons8-spotify"],grid:0},attrs:[{fill:"rgb(0, 0, 0)"},{fill:"rgb(0, 0, 0)",opacity:.05},{fill:"rgb(0, 0, 0)",opacity:.07},{fill:"rgb(255, 255, 255)"}],properties:{order:118,id:96,name:"icons8-spotify",prevSize:32},setIdx:0,setId:3,iconIdx:102},{icon:{paths:["M407.467 115.2c-185.6 102.4-106.667 396.8 104.533 396.8 108.8 0 213.333-104.533 213.333-211.2 0-160-177.067-264.533-317.867-185.6zM612.267 196.267c61.867 57.6 61.867 138.667 2.133 202.667-57.6 61.867-138.667 61.867-202.667 2.133-61.867-57.6-61.867-138.667-2.133-202.667 57.6-61.867 138.667-61.867 202.667-2.133z","M196.267 622.933c-76.8 76.8 17.067 247.467 162.133 290.133 281.6 85.333 573.867-85.333 473.6-275.2-21.333-36.267-46.933-40.533-315.733-40.533-200.533 0-302.933 8.533-320 25.6zM785.067 718.933c-10.667 96-104.533 145.067-273.067 145.067s-262.4-49.067-273.067-145.067l-6.4-57.6h558.933l-6.4 57.6z"],attrs:[{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{}],"11254211456925512552552551":[{},{}],"1145692551255255255183252241":[{},{}]},tags:["Account"],grid:0},attrs:[{},{}],properties:{order:119,id:97,name:"Account",prevSize:32},setIdx:0,setId:3,iconIdx:103},{icon:{paths:["M192 192c-23.467 23.467-42.667 61.867-42.667 85.333 0 55.467 72.533 128 128 128s128-72.533 128-128c0-55.467-72.533-128-128-128-23.467 0-61.867 19.2-85.333 42.667zM330.667 277.333c0 38.4-12.8 55.467-49.067 59.733-27.733 4.267-53.333-6.4-59.733-25.6-21.333-55.467 8.533-102.4 59.733-93.867 36.267 4.267 49.067 21.333 49.067 59.733z","M661.333 192c-23.467 23.467-42.667 61.867-42.667 85.333s19.2 61.867 42.667 85.333c23.467 23.467 61.867 42.667 85.333 42.667 55.467 0 128-72.533 128-128 0-23.467-19.2-61.867-42.667-85.333s-61.867-42.667-85.333-42.667c-23.467 0-61.867 19.2-85.333 42.667zM800 277.333c0 38.4-12.8 55.467-49.067 59.733-27.733 4.267-53.333-6.4-59.733-25.6-21.333-55.467 8.533-102.4 59.733-93.867 36.267 4.267 49.067 21.333 49.067 59.733z","M426.667 405.333c-23.467 23.467-42.667 61.867-42.667 85.333 0 55.467 72.533 128 128 128s128-72.533 128-128c0-23.467-19.2-61.867-42.667-85.333s-61.867-42.667-85.333-42.667c-23.467 0-61.867 19.2-85.333 42.667zM565.333 490.667c0 38.4-12.8 55.467-49.067 59.733-27.733 4.267-53.333-6.4-59.733-25.6-21.333-55.467 8.533-102.4 59.733-93.867 36.267 4.267 49.067 21.333 49.067 59.733z","M110.933 473.6c-44.8 44.8-29.867 138.667 29.867 185.6 66.133 53.333 121.6 57.6 157.867 12.8 21.333-27.733 19.2-32-19.2-32-70.4 0-130.133-38.4-130.133-85.333 0-36.267 14.933-42.667 96-42.667 70.4 0 96-8.533 96-32 0-40.533-192-44.8-230.4-6.4z","M682.667 480c0 23.467 25.6 32 96 32 81.067 0 96 6.4 96 42.667 0 46.933-59.733 85.333-130.133 85.333-38.4 0-40.533 4.267-19.2 32 36.267 44.8 91.733 40.533 157.867-12.8 59.733-46.933 74.667-140.8 29.867-185.6-38.4-38.4-230.4-34.133-230.4 6.4z","M345.6 686.933c-44.8 44.8-29.867 138.667 29.867 185.6 117.333 93.867 328.533 27.733 328.533-102.4 0-32-10.667-68.267-25.6-83.2-34.133-34.133-298.667-34.133-332.8 0zM635.733 772.267c-4.267 29.867-29.867 55.467-64 68.267-81.067 27.733-174.933-6.4-183.467-68.267-6.4-44.8 0-46.933 123.733-46.933s130.133 2.133 123.733 46.933z"],attrs:[{},{},{},{},{},{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{},{},{},{},{},{}],"11254211456925512552552551":[{},{},{},{},{},{}],"1145692551255255255183252241":[{},{},{},{},{},{}]},tags:["Group"],grid:0},attrs:[{},{},{},{},{},{}],properties:{order:124,id:98,name:"Group",prevSize:32},setIdx:0,setId:3,iconIdx:104},{icon:{paths:["M927.375 191.708c-8.646 0.26-16.392 3.91-21.993 9.66l-0.007 0.007-553.375 553.375-233.375-233.375c-5.833-6.068-14.019-9.838-23.085-9.838-17.675 0-32.003 14.328-32.003 32.003 0 9.066 3.77 17.252 9.828 23.075l0.011 0.010 256 256c5.791 5.789 13.79 9.369 22.625 9.369s16.834-3.58 22.625-9.369l576-576c5.971-5.82 9.675-13.941 9.675-22.927 0-17.675-14.328-32.003-32.003-32.003-0.324 0-0.647 0.005-0.969 0.014l0.047-0.001z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Done"],grid:0},attrs:[{}],properties:{order:125,id:99,name:"Done",prevSize:32},setIdx:0,setId:3,iconIdx:105},{icon:{paths:["M512 85.333c-235.263 0-426.667 191.404-426.667 426.667s191.404 426.667 426.667 426.667c235.263 0 426.667-191.404 426.667-426.667s-191.404-426.667-426.667-426.667zM512 149.333c200.674 0 362.667 161.992 362.667 362.667s-161.992 362.667-362.667 362.667c-200.674 0-362.667-161.992-362.667-362.667s161.992-362.667 362.667-362.667zM671.375 383.708c-8.646 0.26-16.392 3.91-21.993 9.66l-0.007 0.007-190.708 190.708-84.042-84.042c-5.833-6.068-14.019-9.838-23.085-9.838-17.675 0-32.003 14.328-32.003 32.003 0 9.066 3.77 17.252 9.828 23.075l0.011 0.010 106.667 106.667c5.791 5.789 13.79 9.369 22.625 9.369s16.834-3.58 22.625-9.369l213.333-213.333c5.971-5.82 9.675-13.941 9.675-22.927 0-17.675-14.328-32.003-32.003-32.003-0.324 0-0.647 0.005-0.969 0.014l0.047-0.001z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Ok"],grid:0},attrs:[{}],properties:{order:106,id:100,name:"Ok",prevSize:32},setIdx:0,setId:3,iconIdx:106},{icon:{paths:["M352 106.667c-76.201 0-138.667 62.465-138.667 138.667v640c0.005 17.671 14.332 31.994 32.003 31.994 7.024 0 13.519-2.263 18.797-6.099l-0.092 0.064 247.958-178.542 247.958 178.542c5.186 3.773 11.681 6.035 18.705 6.035 17.672 0 31.998-14.323 32.003-31.993l0-0.001v-640c0-76.201-62.465-138.667-138.667-138.667h-320zM352 170.667h320c41.601 0 74.667 33.065 74.667 74.667v577.542l-215.958-155.5c-5.186-3.774-11.683-6.038-18.708-6.038s-13.522 2.264-18.8 6.102l0.092-0.064-215.958 155.5v-577.542c0-41.601 33.065-74.667 74.667-74.667z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Bookmark"],grid:0},attrs:[{}],properties:{order:107,id:101,name:"Bookmark",prevSize:32},setIdx:0,setId:3,iconIdx:107},{icon:{paths:["M842.375 148.875c-8.79 0.214-16.67 3.94-22.323 9.823l-0.010 0.011-308.042 308.042-308.042-308.042c-5.822-5.991-13.956-9.708-22.958-9.708l-0-0c-17.672 0.004-31.995 14.331-31.995 32.003 0 9 3.715 17.133 9.696 22.948l0.007 0.007 308.042 308.042-308.042 308.042c-6.068 5.833-9.838 14.019-9.838 23.085 0 17.675 14.328 32.003 32.003 32.003 9.066 0 17.252-3.77 23.075-9.828l0.010-0.011 308.042-308.042 308.042 308.042c5.833 6.068 14.019 9.838 23.085 9.838 17.675 0 32.003-14.328 32.003-32.003 0-9.066-3.77-17.252-9.828-23.075l-0.011-0.010-308.042-308.042 308.042-308.042c6.071-5.834 9.842-14.021 9.842-23.089 0-17.675-14.328-32.003-32.003-32.003-0.266 0-0.531 0.003-0.795 0.010l0.039-0.001z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Close"],grid:0},attrs:[{}],properties:{order:108,id:102,name:"Close",prevSize:32},setIdx:0,setId:3,iconIdx:108},{icon:{paths:["M512 85.333c-235.263 0-426.667 191.404-426.667 426.667s191.404 426.667 426.667 426.667c235.263 0 426.667-191.404 426.667-426.667s-191.404-426.667-426.667-426.667zM512 149.333c88.746 0 168.842 32.927 231.792 85.625l-508.833 508.792c-52.685-62.947-85.625-143.016-85.625-231.75 0-200.674 161.992-362.667 362.667-362.667zM789.042 280.208c52.698 62.95 85.625 143.046 85.625 231.792 0 200.674-161.992 362.667-362.667 362.667-88.734 0-168.803-32.94-231.75-85.625l508.792-508.833z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Unavailable"],grid:0},attrs:[{}],properties:{order:97,id:103,name:"Unavailable",prevSize:32},setIdx:0,setId:3,iconIdx:109},{icon:{paths:["M512 85.333c-93.879 0-170.667 76.788-170.667 170.667v85.333h-74.667c-52.64 0-96 43.36-96 96v405.333c0 52.64 43.36 96 96 96h490.667c52.64 0 96-43.36 96-96v-405.333c0-52.64-43.36-96-96-96h-352v-85.333c0-59.294 47.372-106.667 106.667-106.667 56.487 0 101.996 43.208 106.208 98.417 1.292 16.61 15.088 29.598 31.917 29.598 17.678 0 32.008-14.33 32.008-32.008 0-0.853-0.033-1.698-0.099-2.534l0.007 0.111c-6.71-87.938-80.566-157.583-170.042-157.583zM266.667 405.333h101.417c1.559 0.269 3.356 0.423 5.187 0.423s3.628-0.154 5.376-0.45l-0.188 0.026h378.875c18.059 0 32 13.941 32 32v405.333c0 18.059-13.941 32-32 32h-490.667c-18.059 0-32-13.941-32-32v-405.333c0-18.059 13.941-32 32-32zM512 576c-35.346 0-64 28.654-64 64s28.654 64 64 64v0c35.346 0 64-28.654 64-64s-28.654-64-64-64v0z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Unlock"],grid:0},attrs:[{}],properties:{order:128,id:104,name:"Unlock",prevSize:32},setIdx:0,setId:3,iconIdx:110},{icon:{paths:["M437.333 128c-170.461 0-309.333 138.872-309.333 309.333s138.872 309.333 309.333 309.333c73.736 0 141.519-26.047 194.75-69.333l209.292 209.292c5.833 6.068 14.019 9.838 23.085 9.838 17.675 0 32.003-14.328 32.003-32.003 0-9.066-3.77-17.252-9.828-23.075l-0.011-0.010-209.292-209.292c43.286-53.231 69.333-121.014 69.333-194.75 0-170.461-138.872-309.333-309.333-309.333zM437.333 192c135.873 0 245.333 109.46 245.333 245.333 0 66.189-26.108 125.989-68.458 170.042-2.631 1.948-4.886 4.202-6.772 6.747l-0.061 0.086c-44.053 42.351-103.853 68.458-170.042 68.458-135.873 0-245.333-109.46-245.333-245.333s109.46-245.333 245.333-245.333z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Search"],grid:0},attrs:[{}],properties:{order:94,id:105,name:"Search",prevSize:32},setIdx:0,setId:3,iconIdx:111},{icon:{paths:["M512 85.667c-164.485 0.048-298.667 133.788-298.667 298.333 0 85.322 36.083 162.549 93.625 216.917 6.768 6.391 11.739 15.394 14.042 25.708l52.625 236.875c9.718 43.748 48.894 75.167 93.708 75.167h89.333c44.819 0 83.984-31.422 93.708-75.167l52.667-236.917c2.282-10.285 7.224-19.237 14-25.625v-0.042h0.042c57.516-54.365 93.583-131.595 93.583-216.917 0-164.545-134.182-298.286-298.667-298.333zM512 149.667c130.001 0.038 234.667 104.393 234.667 234.333 0 67.339-28.274 127.589-73.583 170.417-17.007 16.049-27.746 36.722-32.542 58.333l-25 112.583h-207.083l-25-112.625c-4.823-21.6-15.544-42.24-32.542-58.292-45.328-42.827-73.583-103.077-73.583-170.417 0-129.94 104.666-234.296 234.667-234.333zM422.708 789.333h178.583l-13.375 60.292c-3.289 14.794-16.079 25.042-31.25 25.042h-89.333c-15.218 0-27.955-10.208-31.25-25.042l-13.375-60.292z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Idea"],grid:0},attrs:[{}],properties:{order:93,id:106,name:"Idea",prevSize:32},setIdx:0,setId:3,iconIdx:112},{icon:{paths:["M117.333 192c-0.135-0.002-0.293-0.003-0.453-0.003-17.675 0-32.003 14.328-32.003 32.003s14.328 32.003 32.003 32.003c0.159 0 0.318-0.001 0.477-0.003l-0.024 0h789.333c0.135 0.002 0.293 0.003 0.453 0.003 17.675 0 32.003-14.328 32.003-32.003s-14.328-32.003-32.003-32.003c-0.159 0-0.318 0.001-0.477 0.003l0.024-0h-789.333zM117.333 480c-0.135-0.002-0.293-0.003-0.453-0.003-17.675 0-32.003 14.328-32.003 32.003s14.328 32.003 32.003 32.003c0.159 0 0.318-0.001 0.477-0.003l-0.024 0h789.333c0.135 0.002 0.293 0.003 0.453 0.003 17.675 0 32.003-14.328 32.003-32.003s-14.328-32.003-32.003-32.003c-0.159 0-0.318 0.001-0.477 0.003l0.024-0h-789.333zM117.333 768c-0.135-0.002-0.293-0.003-0.453-0.003-17.675 0-32.003 14.328-32.003 32.003s14.328 32.003 32.003 32.003c0.159 0 0.318-0.001 0.477-0.003l-0.024 0h789.333c0.135 0.002 0.293 0.003 0.453 0.003 17.675 0 32.003-14.328 32.003-32.003s-14.328-32.003-32.003-32.003c-0.159 0-0.318 0.001-0.477 0.003l0.024-0h-789.333z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Menu"],grid:0},attrs:[{}],properties:{order:87,id:107,name:"Menu",prevSize:32},setIdx:0,setId:3,iconIdx:113},{icon:{paths:["M512 85.333c-93.879 0-170.667 76.788-170.667 170.667v85.333h-74.667c-52.64 0-96 43.36-96 96v405.333c0 52.64 43.36 96 96 96h490.667c52.64 0 96-43.36 96-96v-405.333c0-52.64-43.36-96-96-96h-74.667v-85.333c0-93.879-76.788-170.667-170.667-170.667zM512 149.333c59.294 0 106.667 47.372 106.667 106.667v85.333h-213.333v-85.333c0-59.294 47.372-106.667 106.667-106.667zM266.667 405.333h490.667c18.059 0 32 13.941 32 32v405.333c0 18.059-13.941 32-32 32h-490.667c-18.059 0-32-13.941-32-32v-405.333c0-18.059 13.941-32 32-32zM512 576c-35.346 0-64 28.654-64 64s28.654 64 64 64v0c35.346 0 64-28.654 64-64s-28.654-64-64-64v0z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Lock"],grid:0},attrs:[{}],properties:{order:89,id:108,name:"Lock",prevSize:32},setIdx:0,setId:3,iconIdx:114},{icon:{paths:["M768 106.875c-38.287 0-76.57 14.515-105.583 43.542l-472.208 472.167c-8.96 8.96-15.521 20.101-19 32.333l-63.292 221.625c-0.776 2.625-1.223 5.641-1.223 8.761 0 17.675 14.328 32.003 32.003 32.003 3.12 0 6.136-0.447 8.987-1.279l-0.226 0.057 221.667-63.292c0.014-0.014 0.028-0.028 0.041-0.041l0-0c12.15-3.493 23.264-9.973 32.25-18.958l472.167-472.208c58.051-58.051 58.051-153.116 0-211.167-29.014-29.027-67.296-43.542-105.583-43.542zM768 170.5c21.777 0 43.524 8.391 60.292 25.167 0.006 0 0.014 0 0.021 0s0.015-0 0.022-0l-0.001 0c33.597 33.597 33.597 87.069 0 120.667l-41.375 41.375-120.667-120.667 41.375-41.375c16.768-16.776 38.556-25.167 60.333-25.167zM621.042 282.292l120.667 120.667-385.583 385.583c-1.251 1.242-2.835 2.194-4.625 2.708l-166.25 47.5 47.5-166.292c0-0.006 0-0.014 0-0.021s-0-0.015-0-0.022l0 0.001c0.489-1.72 1.385-3.26 2.708-4.583l385.583-385.542z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Edit"],grid:0},attrs:[{}],properties:{order:111,id:109,name:"Edit",prevSize:32},setIdx:0,setId:3,iconIdx:115},{icon:{paths:["M437.333 85.333c-0.122-0.002-0.266-0.003-0.41-0.003-17.675 0-32.003 14.328-32.003 32.003 0 3.823 0.67 7.49 1.9 10.889l-0.070-0.223h-94.417c-39.195 0-75.898 19.615-97.625 52.25l-50.5 75.75h-4.208c-0.135-0.002-0.293-0.003-0.453-0.003-17.675 0-32.003 14.328-32.003 32.003s14.328 32.003 32.003 32.003c0.159 0 0.318-0.001 0.477-0.003l-0.024 0h16.292c1.438 0.229 3.095 0.36 4.784 0.36 1.236 0 2.455-0.070 3.655-0.206l-0.147 0.014 52.75 492.333c6.365 59.357 56.978 104.833 116.667 104.833h315.958c59.689 0 110.302-45.477 116.667-104.833l52.792-492.333c1.023 0.116 2.21 0.182 3.412 0.182 1.663 0 3.297-0.127 4.892-0.372l-0.178 0.023h16.458c0.135 0.002 0.293 0.003 0.453 0.003 17.675 0 32.003-14.328 32.003-32.003s-14.328-32.003-32.003-32.003c-0.159 0-0.318 0.001-0.477 0.003l0.024-0h-4.208l-50.5-75.75c-21.745-32.617-58.444-52.25-97.625-52.25h-94.417c1.159-3.176 1.83-6.843 1.83-10.666 0-17.675-14.328-32.003-32.003-32.003-0.144 0-0.288 0.001-0.432 0.003l0.022-0h-149.333zM312.333 192h399.333c17.864 0 34.461 8.879 44.375 23.75l26.833 40.25h-541.75l26.833-40.25c0.014-0.014 0.028-0.028 0.041-0.041l0-0c9.888-14.852 26.44-23.708 44.333-23.708zM248.958 320h526.083l-52.042 485.667c-2.936 27.385-25.52 47.667-53.042 47.667h-315.958c-27.522 0-50.064-20.282-53-47.667l-52.042-485.667z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Trash"],grid:0},attrs:[{}],properties:{order:113,id:110,name:"Trash",prevSize:32},setIdx:0,setId:3,iconIdx:116},{icon:{paths:["M330.667 810.667q-13.867 0-22.933-9.067t-9.067-22.933 9.067-22.933 22.933-9.067h276.267q74.667 0 128.533-49.6t53.867-123.2-53.867-123.2-128.533-49.6h-314.667l99.2 99.2q9.6 9.6 9.6 22.4t-9.6 22.4-22.4 9.6-22.4-9.6l-153.6-153.6q-5.333-5.333-7.467-10.667t-2.133-11.733 2.133-11.733 7.467-10.667l153.6-153.6q9.6-9.6 22.4-9.6t22.4 9.6 9.6 22.4-9.6 22.4l-99.2 99.2h313.6q101.333 0 174.4 68.267t73.067 168.533-73.067 168.533-174.4 68.267z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Return"],grid:0},attrs:[{}],properties:{order:117,id:111,name:"Return",prevSize:32},setIdx:0,setId:3,iconIdx:117},{icon:{paths:["M566.4 938.667q-24.533 0-35.733-16t-2.667-39.467l156.8-416q6.4-17.067 23.467-28.8t35.2-11.733 35.733 11.733 24 28.8l160 411.733q9.6 24.533-2.133 42.133t-39.467 17.6q-11.733 0-22.4-7.467t-14.933-19.2l-35.2-107.733h-204.8l-40.533 108.8q-4.267 10.667-14.933 18.133t-22.4 7.467zM667.733 729.6h151.467l-74.667-206.933h-2.133zM308.267 364.8q16 27.733 35.2 53.867t41.6 53.867q48-50.133 80-104t54.4-112.533h-434.133q-18.133 0-30.4-12.267t-12.267-30.4 12.267-30.4 30.4-12.267h256v-42.667q0-18.133 12.267-30.4t30.4-12.267 30.4 12.267 12.267 30.4v42.667h256q18.133 0 30.4 12.267t12.267 30.4-12.267 30.4-30.4 12.267h-77.867q-23.467 73.6-62.4 144.533t-95.467 134.933l104.533 105.6-32 86.4-135.467-130.133-184.533 184.533q-11.733 11.733-28.8 11.733t-28.8-12.8q-12.8-11.733-12.8-28.8t12.8-29.867l187.733-187.733q-27.733-33.067-52.267-66.667t-44.8-68.8q-12.8-23.467-2.133-40.533t38.4-17.067q11.733 0 22.933 6.933t16.533 16.533z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Language"],grid:0},attrs:[{}],properties:{order:120,id:112,name:"Language",prevSize:32},setIdx:0,setId:3,iconIdx:118},{icon:{paths:["M896 146.286v91.428c0 80.572-200.666 146.286-448 146.286s-448-65.714-448-146.286v-91.428c0-80.572 200.666-146.286 448-146.286s448 65.714 448 146.286zM896 352v205.714c0 80.572-200.666 146.286-448 146.286s-448-65.714-448-146.286v-205.714c96.25 66.286 272.416 97.144 448 97.144s351.748-30.858 448-97.144zM896 672v205.714c0 80.572-200.666 146.286-448 146.286s-448-65.714-448-146.286v-205.714c96.25 66.286 272.416 97.144 448 97.144s351.748-30.858 448-97.144z"],width:896,attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["MySQL"],grid:0},attrs:[{}],properties:{order:123,id:113,name:"MySQL",prevSize:32},setIdx:0,setId:3,iconIdx:119},{icon:{paths:["M879.6 401c-15.4-61.8-44.6-108.4-106.8-108.4h-80.2v94.8c0 73.6-62.4 135.6-133.6 135.6h-213.6c-58.4 0-106.8 50-106.8 108.6v203.6c0 58 50.4 92 106.8 108.6 67.6 19.8 132.6 23.4 213.6 0 53.8-15.6 106.8-47 106.8-108.6v-81.4h-213.4v-27.2h320.4c62.2 0 85.2-43.4 106.8-108.4 22.4-67 21.4-131.4 0-217.2zM572.4 808c22.2 0 40.2 18.2 40.2 40.6 0 22.6-18 40.8-40.2 40.8-22 0-40.2-18.4-40.2-40.8 0.2-22.6 18.2-40.6 40.2-40.6zM335.6 496.2h213.6c59.4 0 106.8-49 106.8-108.6v-203.8c0-58-48.8-101.4-106.8-111.2-71.6-11.8-149.4-11.2-213.6 0.2-90.4 16-106.8 49.4-106.8 111.2v81.4h213.8v27.2h-294c-62.2 0-116.6 37.4-133.6 108.4-19.6 81.4-20.4 132.2 0 217.2 15.2 63.2 51.4 108.4 113.6 108.4h73.4v-97.6c0-70.6 61-132.8 133.6-132.8zM322.2 211c-22.2 0-40.2-18.2-40.2-40.6 0.2-22.6 18-40.8 40.2-40.8 22 0 40.2 18.4 40.2 40.8s-18 40.6-40.2 40.6z"],width:896,attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Python"],grid:0},attrs:[{}],properties:{order:126,id:114,name:"Python",prevSize:32},setIdx:0,setId:3,iconIdx:120},{icon:{paths:["M960 64l-128 736-446.6 160-385.4-160 39.2-189.6h164l-16 81.2 232.8 88.8 268.2-88.8 37.6-194.2h-666.8l32-164h667.4l21-105.4h-666.8l32.6-164h814.8z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["CSS"],grid:0},attrs:[{}],properties:{order:104,id:115,name:"CSS",prevSize:32},setIdx:0,setId:3,iconIdx:121},{icon:{paths:["M0 64l69.8 791.6 313.2 104.4 315.2-104.4 69.8-791.6h-768zM616.4 319.8h-367.6l8.2 98.8h351.2l-27.2 296.8-195.8 54v0.6h-2.2l-197.4-54.6-12-151.6h95.4l7 76.2 107 29 107.4-29 12-124.4h-333.8l-25.6-291.2h482.2l-8.8 95.4z"],width:768,attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["HTML"],grid:0},attrs:[{}],properties:{order:102,id:116,name:"HTML",prevSize:32},setIdx:0,setId:3,iconIdx:122},{icon:{paths:["M836.4 354.4c-10.8-3.6-21.6-7-32.4-10.2 1.8-7.4 3.4-14.8 5-22.2 24.6-119.2 8.4-215-46.2-246.6-52.6-30.2-138.4 1.2-225.2 76.8-8.6 7.4-17 15.2-25 23-5.4-5.2-11-10.4-16.6-15.4-91-80.8-182.2-114.8-236.8-83-52.4 30.4-68 120.6-46 233.4 2.2 11.2 4.6 22.2 7.4 33.4-12.8 3.6-25.4 7.6-37.2 11.8-106.8 37-183.4 95.4-183.4 155.8 0 62.4 81.6 125 192.6 163 9 3 18 6 27.2 8.6-3 12-5.6 23.8-8 36-21 111-4.6 199 47.8 229.2 54 31.2 144.8-0.8 233.2-78.2 7-6.2 14-12.6 21-19.4 8.8 8.6 18 16.8 27.2 24.8 85.6 73.6 170.2 103.4 222.4 73.2 54-31.2 71.6-125.8 48.8-241-1.8-8.8-3.8-17.8-6-27 6.4-1.8 12.6-3.8 18.8-5.8 115.4-38.2 199-100 199-163.4 0-60.6-78.8-119.4-187.6-156.8zM565.8 184.6c74.4-64.8 143.8-90.2 175.4-72 33.8 19.4 46.8 97.8 25.6 200.8-1.4 6.8-2.8 13.4-4.6 20-44.4-10-89.4-17.2-134.6-21.2-26-37.2-54.4-72.8-85.2-106.2 7.8-7.4 15.4-14.4 23.4-21.4zM334.4 615c10.2 17.4 20.6 34.8 31.6 51.8-31.2-3.4-62.2-8.4-92.8-15 8.8-28.8 19.8-58.6 32.6-89 9.2 17.6 18.6 35 28.6 52.2zM273.8 374.4c28.8-6.4 59.4-11.6 91.2-15.6-10.6 16.6-21 33.6-30.8 50.8-9.8 17-19.4 34.4-28.4 52-12.6-29.8-23.2-59-32-87.2zM328.6 512.2c13.2-27.6 27.6-54.6 42.8-81.2s31.6-52.4 48.8-77.8c30-2.2 60.6-3.4 91.8-3.4s62 1.2 91.8 3.4c17 25.2 33.2 51 48.6 77.4s29.8 53.4 43.4 80.8c-13.4 27.6-27.8 54.8-43.2 81.6-15.2 26.6-31.4 52.4-48.4 78-29.8 2.2-60.8 3.2-92.2 3.2s-61.8-1-91.2-2.8c-17.4-25.4-33.8-51.4-49.2-78s-29.6-53.6-43-81.2zM689.8 614.6c10.2-17.6 19.8-35.4 29.2-53.4 12.8 29 24 58.4 33.8 88.6-31 7-62.4 12.4-94 16 10.8-16.8 21-34 31-51.2zM718.6 461.6c-9.4-17.6-19-35.2-29-52.4-9.8-17-20-33.8-30.6-50.4 32.2 4 63 9.4 91.8 16-9.2 29.6-20 58.4-32.2 86.8zM512.4 236.6c21 22.8 40.8 46.8 59.2 71.6-39.6-1.8-79.4-1.8-119 0 19.6-25.8 39.8-49.8 59.8-71.6zM280.4 114c33.6-19.6 108.2 8.4 186.8 78 5 4.4 10 9.2 15.2 14-31 33.4-59.6 69-85.8 106.2-45.2 4-90 11-134.4 20.8-2.6-10.2-4.8-20.6-7-31-18.8-96.8-6.4-169.8 25.2-188zM231.4 641.2c-8.4-2.4-16.6-5-24.8-7.8-42.6-13.4-91-34.6-126-62.4-20.2-14-33.8-35.6-37.6-59.8 0-36.6 63.2-83.4 154.4-115.2 11.4-4 23-7.6 34.6-11 13.6 43.4 30 86 49 127.2-19.2 41.8-35.8 85-49.6 129zM464.6 837.2c-33 30.2-71.2 54.2-112.8 70.6-22.2 10.6-47.8 11.6-70.6 2.6-31.8-18.4-45-89-27-184 2.2-11.2 4.6-22.4 7.4-33.4 44.8 9.6 90 16.2 135.8 19.6 26.4 37.4 55.4 73.2 86.4 106.8-6.4 6.2-12.8 12.2-19.2 17.8zM513.6 788.6c-20.4-22-40.8-46.4-60.6-72.6 19.2 0.8 39 1.2 59 1.2 20.6 0 40.8-0.4 60.8-1.4-18.4 25.4-38.2 49.6-59.2 72.8zM775 848.6c-1.8 24.4-13.8 47.2-33 62.6-31.8 18.4-99.6-5.6-172.8-68.4-8.4-7.2-16.8-15-25.4-23 30.6-33.8 58.8-69.6 84.4-107.2 45.8-3.8 91.4-10.8 136.4-21 2 8.2 3.8 16.4 5.4 24.4 9.8 43.2 11.4 88.2 5 132.6zM811.4 633.6c-5.6 1.8-11.2 3.6-17 5.2-14-43.6-31.2-86.2-51-127.6 19.2-40.8 35.4-82.8 49-125.8 10.4 3 20.4 6.2 30 9.4 93.2 32 158.6 79.6 158.6 116 0 39.2-69.8 89.8-169.6 122.8zM512 603.6c50.6 0 91.6-41 91.6-91.6s-41-91.6-91.6-91.6c-50.6 0-91.6 41-91.6 91.6s41 91.6 91.6 91.6z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["React"],grid:0},attrs:[{}],properties:{order:100,id:117,name:"React",prevSize:32},setIdx:0,setId:3,iconIdx:123},{icon:{paths:["M800 64h-704c-53 0-96 43-96 96v704c0 53 43 96 96 96h704c53 0 96-43 96-96v-704c0-53-43-96-96-96zM487.6 762.8c0 87.2-51.2 127-125.8 127-67.4 0-106.4-34.8-126.4-77l68.6-41.4c13.2 23.4 25.2 43.2 54.2 43.2 27.6 0 45.2-10.8 45.2-53v-286.2h84.2v287.4zM686.8 889.8c-78.2 0-128.8-37.2-153.4-86l68.6-39.6c18 29.4 41.6 51.2 83 51.2 34.8 0 57.2-17.4 57.2-41.6 0-28.8-22.8-39-61.4-56l-21-9c-60.8-25.8-101-58.4-101-127 0-63.2 48.2-111.2 123.2-111.2 53.6 0 92 18.6 119.6 67.4l-65.6 42c-14.4-25.8-30-36-54.2-36-24.6 0-40.2 15.6-40.2 36 0 25.2 15.6 35.4 51.8 51.2l21 9c71.6 30.6 111.8 62 111.8 132.4 0 75.6-59.6 117.2-139.4 117.2z"],width:896,attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Javascript"],grid:0},attrs:[{}],properties:{order:99,id:118,name:"Javascript",prevSize:32},setIdx:0,setId:3,iconIdx:124},{icon:{paths:["M640 209c342.8 0 606.4 144.4 606.4 303s-263.8 303-606.4 303c-342.8 0-606.4-144.4-606.4-303s263.8-303 606.4-303zM640 175.4c-353.4 0-640 150.6-640 336.6s286.6 336.6 640 336.6 640-150.6 640-336.6-286.6-336.6-640-336.6zM436.4 485c-15.8 81-71.6 72.6-140.2 72.6l27.4-141.2c76 0 127.6-8.2 112.8 68.6zM194.8 700.6h73.4l17.4-89.6c82.2 0 133.2 6 180.4-38.2 52.2-48 65.8-133.4 28.6-176.2-19.4-22.4-50.6-33.4-93-33.4h-141.4l-65.4 337.4zM566.2 273.4h73l-17.4 89.6c63 0 121.4-4.6 149.6 21.4 29.6 27.2 15.4 62-16.6 226.2h-74c30.8-158.8 36.6-172 25.4-184-10.8-11.6-35.4-9.2-94.8-9.2l-37.6 193.2h-73l65.4-337.2zM1010 485c-16 82.2-73.4 72.6-140.2 72.6l27.4-141.2c76.4 0 127.6-8.2 112.8 68.6zM768.4 700.6h73.6l17.4-89.6c86.4 0 134.2 5 180.4-38.2 52.2-48 65.8-133.4 28.6-176.2-19.4-22.4-50.6-33.4-93-33.4h-141.4l-65.6 337.4z"],width:1280,attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["PHP"],grid:0},attrs:[{}],properties:{order:96,id:119,name:"PHP",prevSize:32},setIdx:0,setId:3,iconIdx:125},{icon:{paths:["M555.48 625.8c19.6-13.4 46.8-25 46.8-25s-77.4 14-154.4 20.4c-94.2 7.8-195.4 9.4-246.2 2.6-120.2-16 66-60.2 66-60.2s-72.2-4.8-161.2 38c-105 50.8 260 74 449 24.2zM384.68 561.6c-38-85.4-166.2-160.4 0-291.6 207.32-163.6 101-270 101-270 43 169-151.2 220.2-221.4 325.2-47.8 71.8 23.4 148.8 120.4 236.4zM613.88 209.2c0.2 0-350.4 87.6-183 280.4 49.4 56.8-13 108-13 108s125.4-64.8 67.8-145.8c-53.8-75.6-95-113.2 128.2-242.6zM601.68 750.2c-1.148 1.981-2.474 3.69-3.998 5.198l-0.002 0.002c256.6-67.4 162.2-237.8 39.6-194.6-6.765 2.532-12.356 6.898-16.328 12.493l-0.072 0.107c6.135-2.317 13.516-4.393 21.115-5.858l0.885-0.142c62-13 151 83-41.2 182.8zM696 874.8s29 23.8-31.8 42.4c-115.8 35-481.6 45.6-583.2 1.4-36.6-15.8 32-38 53.6-42.6 22.4-4.8 35.4-4 35.4-4-40.6-28.6-262.6 56.2-112.8 80.4 408.48 66.4 744.8-29.8 638.8-77.6zM248.88 792c-157.4 44 95.8 134.8 296.2 49-21.878-8.57-40.444-17.84-58.051-28.531l1.651 0.931c-89.4 17-130.8 18.2-212 9-67-7.6-27.8-30.4-27.8-30.4zM608.48 986.4c-157.4 29.6-351.6 26.2-466.6 7.2 0-0.2 23.6 19.4 144.8 27.2 184.4 11.8 467.6-6.6 474.2-93.8 0 0-12.8 33-152.4 59.4zM521.28 706c-118.4 22.8-187 22.2-273.6 13.2-67-7-23.2-39.4-23.2-39.4-173.6 57.6 96.4 122.8 339 51.8-16.381-5.882-30.439-14.596-42.268-25.663l0.068 0.063z"],width:768,attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Java"],grid:0},attrs:[{}],properties:{order:95,id:120,name:"Java",prevSize:32},setIdx:0,setId:3,iconIdx:126},{icon:{paths:["M448 1016c-13.4 0-27-3.6-38.8-10.4l-123.4-73c-18.4-10.4-9.4-14-3.4-16 24.6-8.6 29.6-10.4 55.8-25.4 2.8-1.6 6.4-1 9.2 0.8l94.8 56.2c3.4 2 8.2 2 11.4 0l369.4-213.2c3.4-2 5.6-6 5.6-10v-426.4c0-4.2-2.2-8-5.8-10.2l-369.2-213c-3.4-2-8-2-11.4 0l-369 213.2c-3.6 2-5.8 6-5.8 10.2v426.2c0 4 2.2 8 5.8 9.8l101.2 58.4c55 27.4 88.6-4.8 88.6-37.4v-420.8c0-6 4.8-10.6 10.8-10.6h46.8c5.8 0 10.8 4.6 10.8 10.6v421c0 73.2-40 115.2-109.4 115.2-21.4 0-38.2 0-85-23.2l-96.8-55.8c-24-13.8-38.8-39.6-38.8-67.4v-426.2c0-27.6 14.8-53.6 38.8-67.4l369-213.2c23.4-13.2 54.4-13.2 77.6 0l369.4 213.4c24 13.8 38.8 39.6 38.8 67.4v426.2c0 27.6-14.8 53.4-38.8 67.4l-369.4 213.2c-11.8 6.8-25.2 10.4-38.8 10.4zM746.2 595.8c0-79.8-54-101-167.4-116-114.8-15.2-126.4-23-126.4-49.8 0-22.2 9.8-51.8 94.8-51.8 75.8 0 103.8 16.4 115.4 67.6 1 4.8 5.4 8.4 10.4 8.4h48c3 0 5.8-1.2 7.8-3.4s3-5.2 2.8-8.2c-7.4-88.2-66-129.2-184.4-129.2-105.4 0-168.2 44.4-168.2 119 0 80.8 62.6 103.2 163.6 113.2 121 11.8 130.4 29.6 130.4 53.4 0 41.2-33.2 58.8-111 58.8-97.8 0-119.2-24.6-126.4-73.2-0.8-5.2-5.2-9-10.6-9h-47.8c-6 0-10.6 4.8-10.6 10.6 0 62.2 33.8 136.4 195.6 136.4 116.8-0.2 184-46.4 184-126.8z"],width:896,attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["NodeJS"],grid:0},attrs:[{}],properties:{order:92,id:121,name:"NodeJS",prevSize:32},setIdx:0,setId:3,iconIdx:127},{icon:{paths:["M1004.6 381.6c7.8-6.2 19.4-0.4 19.4 9.4v409c0 53-43 96-96 96h-832c-53 0-96-43-96-96v-408.8c0-10 11.4-15.6 19.4-9.4 44.8 34.8 104.2 79 308.2 227.2 42.2 30.8 113.4 95.6 184.4 95.2 71.4 0.6 144-65.6 184.6-95.2 204-148.2 263.2-192.6 308-227.4zM512 640c46.4 0.8 113.2-58.4 146.8-82.8 265.4-192.6 285.6-209.4 346.8-257.4 11.6-9 18.4-23 18.4-37.8v-38c0-53-43-96-96-96h-832c-53-0-96 43-96 96v38c0 14.8 6.8 28.6 18.4 37.8 61.2 47.8 81.4 64.8 346.8 257.4 33.6 24.4 100.4 83.6 146.8 82.8z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Mail (2)"],grid:0},attrs:[{}],properties:{order:91,id:122,name:"Mail",prevSize:32},setIdx:0,setId:3,iconIdx:128},{icon:{paths:["M866.859 186.445c-60.191-28.41-130.127-50.869-203.327-63.896l-5.104-0.753c-0.174-0.034-0.375-0.054-0.58-0.054-1.187 0-2.22 0.654-2.761 1.621l-0.008 0.016c-9.003 16.013-18.974 36.898-25.954 53.312-78.707-11.785-157.013-11.785-234.103 0-6.98-16.781-17.314-37.299-26.355-53.312-0.582-0.976-1.632-1.62-2.832-1.62-0.183 0-0.362 0.015-0.537 0.044l0.019-0.003c-78.294 13.745-148.235 36.203-213.598 66.812l5.162-2.172c-0.576 0.25-1.044 0.658-1.362 1.169l-0.007 0.013c-132.753 198.332-169.122 391.787-151.279 582.844 0.108 0.977 0.602 1.82 1.324 2.388l0.008 0.006c87.586 64.324 172.429 103.373 255.697 129.254 0.284 0.088 0.61 0.138 0.948 0.138 1.076 0 2.033-0.513 2.639-1.308l0.006-0.008c19.695-26.897 37.252-55.262 52.309-85.086 0.221-0.427 0.35-0.931 0.35-1.466 0-1.39-0.874-2.575-2.103-3.037l-0.022-0.007c-27.853-10.564-54.37-23.445-79.881-38.071-0.977-0.581-1.622-1.632-1.622-2.833 0-1.064 0.506-2.009 1.289-2.61l0.008-0.006c5.367-4.023 10.739-8.205 15.863-12.433 0.544-0.451 1.248-0.724 2.017-0.724 0.469 0 0.914 0.102 1.314 0.284l-0.020-0.008c167.586 76.514 349.013 76.514 514.62 0 0.396-0.193 0.862-0.306 1.355-0.306 0.759 0 1.456 0.268 2 0.716l-0.005-0.004c5.129 4.224 10.496 8.452 15.906 12.476 0.801 0.606 1.313 1.557 1.313 2.627 0 1.19-0.633 2.232-1.58 2.809l-0.015 0.008c-22.561 13.474-48.887 26.266-76.324 36.819l-3.59 1.214c-1.239 0.483-2.101 1.667-2.101 3.053 0 0.548 0.135 1.064 0.373 1.518l-0.009-0.018c15.377 29.781 32.934 58.146 52.267 85.043 0.595 0.829 1.556 1.363 2.642 1.363 0.339 0 0.666-0.052 0.973-0.149l-0.023 0.006c83.669-25.886 168.512-64.934 256.098-129.254 0.743-0.547 1.244-1.385 1.334-2.342l0.001-0.013c21.35-220.885-35.763-412.753-151.403-582.844-0.288-0.552-0.751-0.979-1.314-1.214l-0.017-0.006zM342.187 654.131c-50.453 0-92.028-46.323-92.028-103.211 0-56.883 40.768-103.206 92.032-103.206 51.661 0 92.83 46.729 92.023 103.211 0 56.883-40.768 103.206-92.028 103.206zM682.445 654.131c-50.453 0-92.028-46.323-92.028-103.211 0-56.883 40.764-103.206 92.028-103.206 51.661 0 92.83 46.729 92.023 103.211 0 56.883-40.363 103.206-92.023 103.206z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["discord"],grid:0},attrs:[{}],properties:{order:90,id:123,name:"Discord",prevSize:32},setIdx:0,setId:3,iconIdx:129},{icon:{paths:["M512 12.672c-282.88 0-512 229.248-512 512 0 226.261 146.688 418.133 350.080 485.76 25.6 4.821 34.987-11.008 34.987-24.619 0-12.16-0.427-44.373-0.64-87.040-142.421 30.891-172.459-68.693-172.459-68.693-23.296-59.093-56.96-74.88-56.96-74.88-46.379-31.744 3.584-31.104 3.584-31.104 51.413 3.584 78.421 52.736 78.421 52.736 45.653 78.293 119.851 55.68 149.12 42.581 4.608-33.109 17.792-55.68 32.427-68.48-113.707-12.8-233.216-56.832-233.216-253.013 0-55.893 19.84-101.547 52.693-137.387-5.76-12.928-23.040-64.981 4.48-135.509 0 0 42.88-13.739 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.040 5.888 128 17.28 97.28-66.219 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581 5.12 135.509 32.64 35.84 52.48 81.493 52.48 137.387 0 196.693-119.68 240-233.6 252.587 17.92 15.36 34.56 46.763 34.56 94.72 0 68.523-0.64 123.563-0.64 140.203 0 13.44 8.96 29.44 35.2 24.32 204.843-67.157 351.403-259.157 351.403-485.077 0-282.752-229.248-512-512-512z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["github"],grid:0},attrs:[{}],properties:{order:115,id:124,name:"Github",prevSize:32},setIdx:0,setId:3,iconIdx:130},{icon:{paths:["M512 0c-281.6 0-512 230.4-512 512s230.4 512 512 512 512-230.4 512-512-227.84-512-512-512zM747.563 739.84c-10.24 15.317-28.16 20.48-43.563 10.24-120.32-74.24-271.36-89.643-450.603-48.683-17.835 5.205-33.237-7.637-38.357-22.997-5.12-17.963 7.68-33.28 23.040-38.4 194.56-43.563 363.52-25.6 496.64 56.32 17.92 7.68 20.437 28.117 12.843 43.52zM809.003 599.040c-12.843 17.92-35.883 25.6-53.845 12.8-138.197-84.48-348.117-110.080-509.397-58.88-20.437 5.12-43.52-5.12-48.64-25.6s5.12-43.563 25.6-48.683c186.88-56.277 417.28-28.075 576 69.163 15.403 7.723 23.040 33.28 10.283 51.2zM814.123 455.68c-163.883-97.28-437.803-107.52-593.963-58.837-25.6 7.637-51.2-7.723-58.88-30.763-7.68-25.643 7.68-51.2 30.72-58.923 181.76-53.76 481.28-43.52 670.763 69.163 22.997 12.8 30.677 43.52 17.877 66.56-12.757 17.963-43.52 25.557-66.517 12.8z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["spotify"],grid:0},attrs:[{}],properties:{order:114,id:125,name:"Spotify",prevSize:32},setIdx:0,setId:3,iconIdx:131},{icon:{paths:["M468.267 857.6l-56.533-52.267q-132.267-122.667-229.333-234.133t-97.067-233.067q0-96 64.533-160.533t159.467-64.533q54.4 0 107.733 26.133t94.933 85.867q46.933-59.733 97.067-85.867t105.6-26.133q94.933 0 159.467 64.533t64.533 160.533q0 121.6-97.067 233.067t-229.333 234.133l-56.533 52.267q-18.133 17.067-43.733 17.067t-43.733-17.067zM484.267 295.467q-28.8-52.267-75.733-85.333t-99.2-33.067q-70.4 0-115.2 45.333t-44.8 115.733q0 61.867 41.6 129.6t99.2 131.733 119.467 118.933 102.4 92.267q40.533-36.267 102.4-91.733t119.467-120 99.2-132.267 41.6-128.533q0-70.4-45.333-115.733t-114.667-45.333q-53.333 0-99.733 32.533t-77.333 85.867q-5.333 8.533-11.733 12.267t-14.933 3.733-15.467-3.733-11.2-12.267z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Favorite"],grid:0},attrs:[{}],properties:{order:116,id:126,name:"Heart",prevSize:32},setIdx:0,setId:3,iconIdx:132},{icon:{paths:["M112 674.133q-25.6 0-44.8-19.2t-19.2-44.8v-87.467q0-7.467-1.6-15.467t1.6-15.467l134.4-309.333q9.6-22.4 31.467-38.4t46.4-16h473.6v546.133l-240 253.867q-14.933 14.933-34.667 17.6t-37.867-8-27.2-29.333-4.8-38.933l41.6-195.2zM669.867 647.467v-455.467h-423.467l-134.4 318.933v99.2h397.867l-56.533 265.6zM875.733 128q26.667 0 45.333 18.667t18.667 45.333v418.133q0 26.667-18.667 45.333t-45.333 18.667h-141.867v-64h141.867v-418.133h-141.867v-64zM669.867 192v0z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Disslike"],grid:0},attrs:[{}],properties:{order:121,id:127,name:"Disslike",prevSize:32},setIdx:0,setId:3,iconIdx:133},{icon:{paths:["M290.133 896v-546.133l240-253.867q14.933-14.933 34.667-17.6t37.867 8 27.2 29.333 4.8 38.933l-41.6 195.2h318.933q25.6 0 44.8 19.2t19.2 44.8v87.467q0 7.467 1.6 15.467t-1.6 15.467l-134.4 309.333q-9.6 22.4-31.467 38.4t-46.4 16zM354.133 376.533v455.467h423.467l134.4-318.933v-99.2h-397.867l56.533-265.6zM148.267 896q-26.667 0-45.333-18.667t-18.667-45.333v-418.133q0-26.667 18.667-45.333t45.333-18.667h141.867v64h-141.867v418.133h141.867v64zM354.133 832v0z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Like"],grid:0},attrs:[{}],properties:{order:122,id:128,name:"Like",prevSize:32},setIdx:0,setId:3,iconIdx:134},{icon:{paths:["M574.933 744.533l-211.2-211.2q-5.333-5.333-7.467-10.667t-2.133-11.733 2.133-11.733 7.467-10.667l212.267-212.267q9.6-9.6 22.933-9.6t22.933 9.6 9.067 23.467-10.133 23.467l-187.733 187.733 188.8 188.8q9.6 9.6 9.6 22.4t-9.6 22.4-23.467 9.6-23.467-9.6z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Left"],grid:0},attrs:[{}],properties:{order:127,id:129,name:"Left",prevSize:32},setIdx:0,setId:3,iconIdx:135},{icon:{paths:["M377.6 744.533q-8.533-10.667-9.067-23.467t9.067-22.4l187.733-187.733-188.8-188.8q-8.533-8.533-8-22.933t9.067-22.933q10.667-10.667 22.933-10.133t21.867 10.133l212.267 212.267q5.333 5.333 7.467 10.667t2.133 11.733-2.133 11.733-7.467 10.667l-211.2 211.2q-9.6 9.6-22.4 9.067t-23.467-9.067z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Right"],grid:0},attrs:[{}],properties:{order:105,id:130,name:"Right",prevSize:32},setIdx:0,setId:3,iconIdx:136},{icon:{paths:["M330.667 540.8h363.733q12.8 0 21.867-9.6t9.067-22.4q0-13.867-9.067-22.933t-22.933-9.067h-363.733q-12.8 0-21.867 9.6t-9.067 22.4q0 13.867 9.067 22.933t22.933 9.067zM512 938.667q-90.667 0-168.533-32.533t-135.467-90.133-90.133-135.467-32.533-168.533q0-89.6 32.533-167.467t90.133-135.467 135.467-90.667 168.533-33.067q89.6 0 167.467 33.067t135.467 90.667 90.667 135.467 33.067 167.467q0 90.667-33.067 168.533t-90.667 135.467-135.467 90.133-167.467 32.533zM512 874.667q154.667 0 258.667-104t104-258.667-104-258.667-258.667-104-258.667 104-104 258.667 104 258.667 258.667 104z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Remove"],grid:0},attrs:[{}],properties:{order:133,id:131,name:"Remove",prevSize:32},setIdx:0,setId:3,iconIdx:137},{icon:{paths:["M515.2 725.333q13.867 0 22.933-9.067t9.067-22.933v-145.067h147.2q12.8 0 21.867-9.067t9.067-22.933-9.067-22.933-22.933-9.067h-146.133v-154.667q0-12.8-9.067-21.867t-22.933-9.067-22.933 9.067-9.067 22.933v153.6h-153.6q-12.8 0-21.867 9.067t-9.067 22.933 9.067 22.933 22.933 9.067h152.533v146.133q0 12.8 9.067 21.867t22.933 9.067zM512 938.667q-90.667 0-168.533-32.533t-135.467-90.133-90.133-135.467-32.533-168.533q0-89.6 32.533-167.467t90.133-135.467 135.467-90.667 168.533-33.067q89.6 0 167.467 33.067t135.467 90.667 90.667 135.467 33.067 167.467q0 90.667-33.067 168.533t-90.667 135.467-135.467 90.133-167.467 32.533zM512 874.667q149.333 0 256-106.667t106.667-256-106.667-256-256-106.667-256 106.667-106.667 256 106.667 256 256 106.667z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["Add"],grid:0},attrs:[{}],properties:{order:101,id:132,name:"Add",prevSize:32},setIdx:0,setId:3,iconIdx:138},{icon:{paths:["M329.6 694.4q9.6 9.6 22.4 9.6t22.4-9.6l137.6-137.6 138.667 138.667q8.533 8.533 21.867 8t21.867-9.067q9.6-9.6 9.6-22.4t-9.6-22.4l-137.6-137.6 138.667-138.667q8.533-8.533 8-21.867t-9.067-21.867q-9.6-9.6-22.4-9.6t-22.4 9.6l-137.6 137.6-138.667-138.667q-8.533-8.533-21.867-8t-21.867 9.067q-9.6 9.6-9.6 22.4t9.6 22.4l137.6 137.6-138.667 138.667q-8.533 8.533-8 21.867t9.067 21.867zM512 938.667q-90.667 0-168.533-32.533t-135.467-90.133-90.133-135.467-32.533-168.533q0-89.6 32.533-167.467t90.133-135.467 135.467-90.667 168.533-33.067q89.6 0 167.467 33.067t135.467 90.667 90.667 135.467 33.067 167.467q0 90.667-33.067 168.533t-90.667 135.467-135.467 90.133-167.467 32.533zM512 874.667q149.333 0 256-106.667t106.667-256-106.667-256-256-106.667-256 106.667-106.667 256 106.667 256 256 106.667z"],attrs:[{}],isMulticolor:!1,isMulticolor2:!1,colorPermutations:{"113167200125025025012552552551":[{}],"11254211456925512552552551":[{}],"1145692551255255255183252241":[{}]},tags:["CloseRounded"],grid:0},attrs:[{}],properties:{order:2,id:133,name:"Close1",prevSize:32},setIdx:0,setId:3,iconIdx:139},{icon:{paths:["M512 92.2c136.8 0 153 0.6 206.8 3 50 2.2 77 10.6 95 17.6 23.8 9.2 41 20.4 58.8 38.2 18 18 29 35 38.4 58.8 7 18 15.4 45.2 17.6 95 2.4 54 3 70.2 3 206.8s-0.6 153-3 206.8c-2.2 50-10.6 77-17.6 95-9.2 23.8-20.4 41-38.2 58.8-18 18-35 29-58.8 38.4-18 7-45.2 15.4-95 17.6-54 2.4-70.2 3-206.8 3s-153-0.6-206.8-3c-50-2.2-77-10.6-95-17.6-23.8-9.2-41-20.4-58.8-38.2-18-18-29-35-38.4-58.8-7-18-15.4-45.2-17.6-95-2.4-54-3-70.2-3-206.8s0.6-153 3-206.8c2.2-50 10.6-77 17.6-95 9.2-23.8 20.4-41 38.2-58.8 18-18 35-29 58.8-38.4 18-7 45.2-15.4 95-17.6 53.8-2.4 70-3 206.8-3zM512 0c-139 0-156.4 0.6-211 3-54.4 2.4-91.8 11.2-124.2 23.8-33.8 13.2-62.4 30.6-90.8 59.2-28.6 28.4-46 57-59.2 90.6-12.6 32.6-21.4 69.8-23.8 124.2-2.4 54.8-3 72.2-3 211.2s0.6 156.4 3 211c2.4 54.4 11.2 91.8 23.8 124.2 13.2 33.8 30.6 62.4 59.2 90.8 28.4 28.4 57 46 90.6 59 32.6 12.6 69.8 21.4 124.2 23.8 54.6 2.4 72 3 211 3s156.4-0.6 211-3c54.4-2.4 91.8-11.2 124.2-23.8 33.6-13 62.2-30.6 90.6-59s46-57 59-90.6c12.6-32.6 21.4-69.8 23.8-124.2 2.4-54.6 3-72 3-211s-0.6-156.4-3-211c-2.4-54.4-11.2-91.8-23.8-124.2-12.6-34-30-62.6-58.6-91-28.4-28.4-57-46-90.6-59-32.6-12.6-69.8-21.4-124.2-23.8-54.8-2.6-72.2-3.2-211.2-3.2v0z","M512 249c-145.2 0-263 117.8-263 263s117.8 263 263 263 263-117.8 263-263c0-145.2-117.8-263-263-263zM512 682.6c-94.2 0-170.6-76.4-170.6-170.6s76.4-170.6 170.6-170.6c94.2 0 170.6 76.4 170.6 170.6s-76.4 170.6-170.6 170.6z","M846.8 238.6c0 33.91-27.49 61.4-61.4 61.4s-61.4-27.49-61.4-61.4c0-33.91 27.49-61.4 61.4-61.4s61.4 27.49 61.4 61.4z"],attrs:[],isMulticolor:!1,isMulticolor2:!1,tags:["instagram","brand","social"],defaultCode:60050,grid:16},attrs:[],properties:{ligatures:"instagram, brand12",name:"Instagram",order:189,id:0,prevSize:32},setIdx:1,setId:2,iconIdx:0},{icon:{paths:["M1013.8 307.2c0 0-10-70.6-40.8-101.6-39-40.8-82.6-41-102.6-43.4-143.2-10.4-358.2-10.4-358.2-10.4h-0.4c0 0-215 0-358.2 10.4-20 2.4-63.6 2.6-102.6 43.4-30.8 31-40.6 101.6-40.6 101.6s-10.2 82.8-10.2 165.8v77.6c0 82.8 10.2 165.8 10.2 165.8s10 70.6 40.6 101.6c39 40.8 90.2 39.4 113 43.8 82 7.8 348.2 10.2 348.2 10.2s215.2-0.4 358.4-10.6c20-2.4 63.6-2.6 102.6-43.4 30.8-31 40.8-101.6 40.8-101.6s10.2-82.8 10.2-165.8v-77.6c-0.2-82.8-10.4-165.8-10.4-165.8zM406.2 644.8v-287.8l276.6 144.4-276.6 143.4z"],attrs:[],isMulticolor:!1,isMulticolor2:!1,tags:["youtube","brand","social"],defaultCode:60061,grid:16},attrs:[],properties:{ligatures:"youtube, brand21",name:"Youtube",order:188,id:1,prevSize:32},setIdx:1,setId:2,iconIdx:1}],pue=1024,mue={showGlyphs:!0,showQuickUse:!0,showQuickUse2:!0,showSVGs:!0,fontPref:{prefix:"icon-",metadata:{fontFamily:"icomoon"},metrics:{emSize:1024,baseline:6.25,whitespace:50},embed:!1},imagePref:{prefix:"icon-",png:!0,useClassSelector:!0,color:0,bgColor:16777215,classSelector:".icon",name:"icomoon"},historySize:50,showCodes:!0,gridSize:16},gue={IcoMoonType:due,icons:fue,height:pue,preferences:mue};var d2={},bo=Je&&Je.__assign||function(){return bo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},bo.apply(this,arguments)},vue=Je&&Je.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(d2,"__esModule",{value:!0});d2.iconList=void 0;var b6=P,yue=function(t){var e=t.iconSet,n=t.icon,r=t.size,i=t.title,s=t.disableFill,o=t.removeInlineStyle,a=t.native,l=t.SvgComponent,c=t.PathComponent,h=vue(t,["iconSet","icon","size","title","disableFill","removeInlineStyle","native","SvgComponent","PathComponent"]);if(!e||!n)return null;var d=e.icons.find(function(b){return b.properties.name===n});if(!d)return null;var f={display:"inline-block",stroke:"currentColor",fill:"currentColor"};a&&(f.display="flex",f.flexDirection="row",f.flexWrap="wrap");var m=bo(bo(bo({},o?{}:f),r?{width:r,height:r}:{}),h.style||{}),g=d.icon.width,v=g===void 0?"1024":g,_="0 0 ".concat(v," 1024"),x=d.icon.paths.map(function(b,w){var T,C=(T=d.icon.attrs)===null||T===void 0?void 0:T[w],I=bo({d:b,key:n+w},!s&&C?C:{});return(0,b6.createElement)(c||"path",I)});return i&&!a&&x.push((0,b6.createElement)("title",{key:i},i)),(0,b6.createElement)(l||"svg",bo(bo({},h),{viewBox:_,style:m}),x)},_ue=function(t){return!t||!Array.isArray(t.icons)?null:t.icons.map(function(e){return e.properties.name})};d2.iconList=_ue;var xue=d2.default=yue;function be({size:t=22,name:e,style:n,color:r,realStyle:i,click:s}){return E.jsx(xue,{className:`flex-shrink-0 ${n}`,onClick:s||null,style:i,iconSet:gue,color:r,fill:r,icon:e,size:t})}function bue(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function zd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const i7=t=>Array.isArray(t);function kP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Bd(t){return typeof t=="string"||Array.isArray(t)}function RS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function C4(t,e,n,r){if(typeof e=="function"){const[i,s]=RS(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=RS(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function f2(t,e,n){const r=t.getProps();return C4(r,e,n!==void 0?n:r.custom,t)}const k4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A4=["initial",...k4],Lf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sa=new Set(Lf),zs=t=>t*1e3,Bs=t=>t/1e3,wue={type:"spring",stiffness:500,damping:25,restSpeed:10},Sue=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Eue={type:"keyframes",duration:.8},Tue={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lue=(t,{keyframes:e})=>e.length>2?Eue:sa.has(t)?t.startsWith("scale")?Sue(e[1]):wue:Tue;function Cue({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function I4(t,e){return t[e]||t.default||t}const kue={skipAnimations:!1,useManualTiming:!1},Aue=t=>t!==null;function p2(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Aue),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Zn=t=>t;function Iue(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,d=!1)=>{const m=d&&r?e:n;return h&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const R3=["read","resolveKeyframes","update","preRender","render","postRender"],Pue=40;function AP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=R3.reduce((x,b)=>(x[b]=Iue(s),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:d,postRender:f}=o,m=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,Pue),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},g=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:R3.reduce((x,b)=>{const w=o[b];return x[b]=(T,C=!1,I=!1)=>(n||g(),w.schedule(T,C,I)),x},{}),cancel:x=>{for(let b=0;b<R3.length;b++)o[R3[b]].cancel(x)},state:i,steps:o}}const{schedule:gt,cancel:Js,state:Dn,steps:w6}=AP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0),IP=t=>/^0[^.\s]+$/u.test(t);function Rue(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||IP(t):!0}let s7=Zn;const PP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),RP=t=>e=>typeof e=="string"&&e.startsWith(t),MP=RP("--"),Mue=RP("var(--"),P4=t=>Mue(t)?Due.test(t.split("/*")[0].trim()):!1,Due=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Oue=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nue(t){const e=Oue.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function DP(t,e,n=1){const[r,i]=Nue(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return PP(o)?parseFloat(o):o}return P4(i)?DP(i,e,n+1):i}const Zo=(t,e,n)=>n>e?e:n<t?t:n,Pu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Jh={...Pu,transform:t=>Zo(0,1,t)},M3={...Pu,default:1},ed=t=>Math.round(t*1e5)/1e5,R4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Fue=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,$ue=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Cf(t){return typeof t=="string"}function zue(t){return t==null}const kf=t=>({test:e=>Cf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vo=kf("deg"),ls=kf("%"),Ce=kf("px"),Bue=kf("vh"),Uue=kf("vw"),MS={...ls,parse:t=>ls.parse(t)/100,transform:t=>ls.transform(t*100)},jue=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),DS=t=>t===Pu||t===Ce,OS=(t,e)=>parseFloat(t.split(", ")[e]),NS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return OS(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?OS(s[1],t):0}},Vue=new Set(["x","y","z"]),Gue=Lf.filter(t=>!Vue.has(t));function Hue(t){const e=[];return Gue.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const tu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:NS(4,13),y:NS(5,14)};tu.translateX=tu.x;tu.translateY=tu.y;const OP=t=>e=>e.test(t),Wue={test:t=>t==="auto",parse:t=>t},NP=[Pu,Ce,ls,vo,Uue,Bue,Wue],FS=t=>NP.find(OP(t)),Ya=new Set;let o7=!1,a7=!1;function FP(){if(a7){const t=Array.from(Ya).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Hue(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}a7=!1,o7=!1,Ya.forEach(t=>t.complete()),Ya.clear()}function $P(){Ya.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(a7=!0)})}function Kue(){$P(),FP()}class M4{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ya.add(this),o7||(o7=!0,gt.read($P),gt.resolveKeyframes(FP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ya.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ya.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const D4=(t,e)=>n=>!!(Cf(n)&&$ue.test(n)&&n.startsWith(t)||e&&!zue(n)&&Object.prototype.hasOwnProperty.call(n,e)),zP=(t,e,n)=>r=>{if(!Cf(r))return r;const[i,s,o,a]=r.match(R4);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},que=t=>Zo(0,255,t),S6={...Pu,transform:t=>Math.round(que(t))},Ua={test:D4("rgb","red"),parse:zP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+S6.transform(t)+", "+S6.transform(e)+", "+S6.transform(n)+", "+ed(Jh.transform(r))+")"};function Yue(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const l7={test:D4("#"),parse:Yue,transform:Ua.transform},pc={test:D4("hsl","hue"),parse:zP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ls.transform(ed(e))+", "+ls.transform(ed(n))+", "+ed(Jh.transform(r))+")"},Kn={test:t=>Ua.test(t)||l7.test(t)||pc.test(t),parse:t=>Ua.test(t)?Ua.parse(t):pc.test(t)?pc.parse(t):l7.parse(t),transform:t=>Cf(t)?t:t.hasOwnProperty("red")?Ua.transform(t):pc.transform(t)};function Zue(t){var e,n;return isNaN(t)&&Cf(t)&&(((e=t.match(R4))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Fue))===null||n===void 0?void 0:n.length)||0)>0}const BP="number",UP="color",Xue="var",Que="var(",$S="${}",Jue=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ud(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Jue,l=>(Kn.test(l)?(r.color.push(s),i.push(UP),n.push(Kn.parse(l))):l.startsWith(Que)?(r.var.push(s),i.push(Xue),n.push(l)):(r.number.push(s),i.push(BP),n.push(parseFloat(l))),++s,$S)).split($S);return{values:n,split:a,indexes:r,types:i}}function jP(t){return Ud(t).values}function VP(t){const{split:e,types:n}=Ud(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===BP?s+=ed(i[o]):a===UP?s+=Kn.transform(i[o]):s+=i[o]}return s}}const ehe=t=>typeof t=="number"?0:t;function the(t){const e=jP(t);return VP(t)(e.map(ehe))}const Xo={test:Zue,parse:jP,createTransformer:VP,getAnimatableNone:the},nhe=new Set(["brightness","contrast","saturate","opacity"]);function rhe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(R4)||[];if(!r)return t;const i=n.replace(r,"");let s=nhe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const ihe=/\b([a-z-]*)\(.*?\)/gu,c7={...Xo,getAnimatableNone:t=>{const e=t.match(ihe);return e?e.map(rhe).join(" "):t}},zS={...Pu,transform:Math.round},O4={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,size:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,rotate:vo,rotateX:vo,rotateY:vo,rotateZ:vo,scale:M3,scaleX:M3,scaleY:M3,scaleZ:M3,skew:vo,skewX:vo,skewY:vo,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Jh,originX:MS,originY:MS,originZ:Ce,zIndex:zS,backgroundPositionX:Ce,backgroundPositionY:Ce,fillOpacity:Jh,strokeOpacity:Jh,numOctaves:zS},she={...O4,color:Kn,backgroundColor:Kn,outlineColor:Kn,fill:Kn,stroke:Kn,borderColor:Kn,borderTopColor:Kn,borderRightColor:Kn,borderBottomColor:Kn,borderLeftColor:Kn,filter:c7,WebkitFilter:c7},N4=t=>she[t];function GP(t,e){let n=N4(t);return n!==c7&&(n=Xo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ohe=new Set(["auto","none","0"]);function ahe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!ohe.has(s)&&Ud(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=GP(n,i)}class HP extends M4{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),P4(c))){const h=DP(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!jue.has(r)||e.length!==2)return;const[i,s]=e,o=FS(i),a=FS(s);if(o!==a)if(DS(o)&&DS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Rue(e[i])&&r.push(i);r.length&&ahe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=tu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function WP(t){let e;return()=>(e===void 0&&(e=t()),e)}let g0;function lhe(){g0=void 0}const Us={now:()=>(g0===void 0&&Us.set(Dn.isProcessing||kue.useManualTiming?Dn.timestamp:performance.now()),g0),set:t=>{g0=t,queueMicrotask(lhe)}},BS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xo.test(t)||t==="0")&&!t.startsWith("url("));function che(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function uhe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=BS(i,e),a=BS(s,e);return!o||!a?!1:che(t)||n==="spring"&&r}const hhe=40;class KP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Us.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>hhe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Kue(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Us.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!uhe(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(p2(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function qP(t,e){return e?t*(1e3/e):0}const dhe=5;function YP(t,e,n){const r=Math.max(e-dhe,0);return qP(n-t(r),e-r)}const E6=.001,fhe=.01,phe=10,mhe=.05,ghe=1;function vhe({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Zo(mhe,ghe,o),t=Zo(fhe,phe,Bs(t)),o<1?(i=c=>{const h=c*o,d=h*t,f=h-n,m=u7(c,o),g=Math.exp(-d);return E6-f/m*g},s=c=>{const d=c*o*t,f=d*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),v=u7(Math.pow(c,2),o);return(-i(c)+E6>0?-1:1)*((f-m)*g)/v}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-E6+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=_he(i,s,a);if(t=zs(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const yhe=12;function _he(t,e,n){let r=n;for(let i=1;i<yhe;i++)r=r-t(r)/e(r);return r}function u7(t,e){return t*Math.sqrt(1-e*e)}const xhe=["duration","bounce"],bhe=["stiffness","damping","mass"];function US(t,e){return e.some(n=>t[n]!==void 0)}function whe(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!US(t,bhe)&&US(t,xhe)){const n=vhe(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function ZP({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=whe({...r,velocity:-Bs(r.velocity||0)}),m=d||0,g=l/(2*Math.sqrt(a*c)),v=s-i,_=Bs(Math.sqrt(a/c)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let b;if(g<1){const w=u7(_,g);b=T=>{const C=Math.exp(-g*_*T);return s-C*((m+g*_*v)/w*Math.sin(w*T)+v*Math.cos(w*T))}}else if(g===1)b=w=>s-Math.exp(-_*w)*(v+(m+_*v)*w);else{const w=_*Math.sqrt(g*g-1);b=T=>{const C=Math.exp(-g*_*T),I=Math.min(w*T,300);return s-C*((m+g*_*v)*Math.sinh(I)+w*v*Math.cosh(I))/w}}return{calculatedDuration:f&&h||null,next:w=>{const T=b(w);if(f)o.done=w>=h;else{let C=0;g<1&&(C=w===0?zs(m):YP(b,w,T));const I=Math.abs(C)<=n,M=Math.abs(s-T)<=e;o.done=I&&M}return o.value=o.done?s:T,o}}}function jS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},m=A=>a!==void 0&&A<a||l!==void 0&&A>l,g=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let v=n*e;const _=d+v,x=o===void 0?_:o(_);x!==_&&(v=x-d);const b=A=>-v*Math.exp(-A/r),w=A=>x+b(A),T=A=>{const O=b(A),N=w(A);f.done=Math.abs(O)<=c,f.value=f.done?x:N};let C,I;const M=A=>{m(f.value)&&(C=A,I=ZP({keyframes:[f.value,g(f.value)],velocity:YP(w,A,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return M(0),{calculatedDuration:null,next:A=>{let O=!1;return!I&&C===void 0&&(O=!0,T(A),M(A)),C!==void 0&&A>=C?I.next(A-C):(!O&&T(A),f)}}}const XP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,She=1e-7,Ehe=12;function The(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=XP(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>She&&++a<Ehe);return o}function Af(t,e,n,r){if(t===e&&n===r)return Zn;const i=s=>The(s,0,1,t,n);return s=>s===0||s===1?s:XP(i(s),e,r)}const Lhe=Af(.42,0,1,1),Che=Af(0,0,.58,1),QP=Af(.42,0,.58,1),khe=t=>Array.isArray(t)&&typeof t[0]!="number",JP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eR=t=>e=>1-t(1-e),F4=t=>1-Math.sin(Math.acos(t)),tR=eR(F4),Ahe=JP(F4),nR=Af(.33,1.53,.69,.99),$4=eR(nR),Ihe=JP($4),Phe=t=>(t*=2)<1?.5*$4(t):.5*(2-Math.pow(2,-10*(t-1))),VS={linear:Zn,easeIn:Lhe,easeInOut:QP,easeOut:Che,circIn:F4,circInOut:Ahe,circOut:tR,backIn:$4,backInOut:Ihe,backOut:nR,anticipate:Phe},GS=t=>{if(Array.isArray(t)){s7(t.length===4);const[e,n,r,i]=t;return Af(e,n,r,i)}else if(typeof t=="string")return s7(VS[t]!==void 0),VS[t];return t},Rhe=(t,e)=>n=>e(t(n)),js=(...t)=>t.reduce(Rhe),jd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},jt=(t,e,n)=>t+(e-t)*n;function T6(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Mhe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=T6(l,a,t+1/3),s=T6(l,a,t),o=T6(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function jp(t,e){return n=>n>0?e:t}const L6=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Dhe=[l7,Ua,pc],Ohe=t=>Dhe.find(e=>e.test(t));function HS(t){const e=Ohe(t);if(!e)return!1;let n=e.parse(t);return e===pc&&(n=Mhe(n)),n}const WS=(t,e)=>{const n=HS(t),r=HS(e);if(!n||!r)return jp(t,e);const i={...n};return s=>(i.red=L6(n.red,r.red,s),i.green=L6(n.green,r.green,s),i.blue=L6(n.blue,r.blue,s),i.alpha=jt(n.alpha,r.alpha,s),Ua.transform(i))},h7=new Set(["none","hidden"]);function Nhe(t,e){return h7.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Fhe(t,e){return n=>jt(t,e,n)}function z4(t){return typeof t=="number"?Fhe:typeof t=="string"?P4(t)?jp:Kn.test(t)?WS:Bhe:Array.isArray(t)?rR:typeof t=="object"?Kn.test(t)?WS:$he:jp}function rR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>z4(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function $he(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=z4(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function zhe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const Bhe=(t,e)=>{const n=Xo.createTransformer(e),r=Ud(t),i=Ud(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?h7.has(t)&&!i.values.length||h7.has(e)&&!r.values.length?Nhe(t,e):js(rR(zhe(r,i),i.values),n):jp(t,e)};function iR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?jt(t,e,n):z4(t)(t,e)}function Uhe(t,e,n){const r=[],i=n||iR,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Zn:e;a=js(l,a)}r.push(a)}return r}function jhe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(s7(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Uhe(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=jd(t[h],t[h+1],c);return o[h](d)};return n?c=>l(Zo(t[0],t[s-1],c)):l}function Vhe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=jd(0,e,r);t.push(jt(n,1,i))}}function Ghe(t){const e=[0];return Vhe(e,t.length-1),e}function Hhe(t,e){return t.map(n=>n*e)}function Whe(t,e){return t.map(()=>e||QP).splice(0,t.length-1)}function Vp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=khe(r)?r.map(GS):GS(r),s={done:!1,value:e[0]},o=Hhe(n&&n.length===e.length?n:Ghe(e),t),a=jhe(o,e,{ease:Array.isArray(i)?i:Whe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const KS=2e4;function Khe(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<KS;)e+=n,r=t.next(e);return e>=KS?1/0:e}const qhe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>gt.update(e,!0),stop:()=>Js(e),now:()=>Dn.isProcessing?Dn.timestamp:Us.now()}},Yhe={decay:jS,inertia:jS,tween:Vp,keyframes:Vp,spring:ZP},Zhe=t=>t/100;class B4 extends KP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||M4,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Yhe[n]||Vp;let l,c;a!==Vp&&typeof e[0]!="number"&&(l=js(Zhe,iR(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Khe(h));const{calculatedDuration:d}=h,f=d+i,m=f*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:g,repeatDelay:v,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?x<0:x>h;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let w=this.currentTime,T=s;if(m){const A=Math.min(this.currentTime,h)/d;let O=Math.floor(A),N=A%1;!N&&A>=1&&(N=1),N===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(g==="reverse"?(N=1-N,v&&(N-=v/d)):g==="mirror"&&(T=o)),w=Zo(0,1,N)*d}const C=b?{done:!1,value:l[0]}:T.next(w);a&&(C.value=a(C.value));let{done:I}=C;!b&&c!==null&&(I=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return M&&i!==void 0&&(C.value=p2(l,this.options,i)),_&&_(C.value),M&&this.finish(),C}get duration(){const{resolved:e}=this;return e?Bs(e.calculatedDuration):0}get time(){return Bs(this.currentTime)}set time(e){e=zs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=qhe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const sR=new Set(["opacity","clipPath","filter","transform"]),oR=t=>Array.isArray(t)&&typeof t[0]=="number";function aR(t){return!!(!t||typeof t=="string"&&t in U4||oR(t)||Array.isArray(t)&&t.every(aR))}const Ph=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,U4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ph([0,.65,.55,1]),circOut:Ph([.55,0,1,.45]),backIn:Ph([.31,.01,.66,-.59]),backOut:Ph([.33,1.53,.69,.99])};function Xhe(t){return lR(t)||U4.easeOut}function lR(t){if(t)return oR(t)?Ph(t):Array.isArray(t)?t.map(Xhe):U4[t]}function Qhe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=lR(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Jhe=WP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gp=10,ede=2e4;function tde(t){return t.type==="spring"||!aR(t.ease)}function nde(t,e){const n=new B4({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<ede;)r=n.sample(s),i.push(r.value),s+=Gp;return{times:void 0,keyframes:i,duration:s-Gp,ease:"linear"}}class qS extends KP{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new HP(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:h}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(tde(this.options)){const{onComplete:f,onUpdate:m,motionValue:g,element:v,..._}=this.options,x=nde(e,_);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,s=x.times,o=x.ease,a="keyframes"}const d=Qhe(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(p2(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Bs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Bs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=zs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Zn;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Zn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:d,element:f,...m}=this.options,g=new B4({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),v=zs(this.time);c.setWithVelocity(g.sample(v-Gp).value,g.sample(v).value,Gp)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return Jhe()&&r&&sR.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function rde(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return gt.update(r,!0),()=>Js(r)}const ide=WP(()=>window.ScrollTimeline!==void 0);class sde{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(ide()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),rde(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const j4=(t,e,n,r={},i,s,o)=>a=>{const l=I4(r,t)||{},c=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-zs(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};Cue(l)||(d={...d,...Lue(t,d)}),d.duration&&(d.duration=zs(d.duration)),d.repeatDelay&&(d.repeatDelay=zs(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const m=p2(d.keyframes,l);if(m!==void 0)return gt.update(()=>{d.onUpdate(m),d.onComplete()}),new sde([])}return!s&&qS.supports(d)?new qS(d):new B4(d)},ode=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),ade=t=>i7(t)?t[t.length-1]||0:t;function m2(t,e){t.indexOf(e)===-1&&t.push(e)}function g2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class V4{constructor(){this.subscriptions=[]}add(e){return m2(this.subscriptions,e),()=>g2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const YS=30,lde=t=>!isNaN(parseFloat(t));class cR{constructor(e,n={}){this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Us.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Us.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lde(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new V4);const r=this.events[e].add(n);return e==="change"?()=>{r(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>YS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,YS);return qP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vd(t,e){return new cR(t,e)}function cde(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vd(n))}function ude(t,e){const n=f2(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=ade(s[o]);cde(t,o,a)}}const v2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hde="framerAppearId",uR="data-"+v2(hde);function hR(t){return t.props[uR]}function dR(t){if(sa.has(t))return"transform";if(sR.has(t))return v2(t)}class dde extends cR{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=dR(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(g2(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Yn=t=>!!(t&&t.getVelocity);function fde(t){return!!(Yn(t)&&t.add)}function d7(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new dde("auto"),t.addValue("willChange",r)),fde(r))return r.add(e)}function pde({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||h&&pde(h,d))continue;const g={delay:n,...I4(o||{},d)};let v=!1;if(window.MotionHandoffAnimation){const x=hR(t);if(x){const b=window.MotionHandoffAnimation(x,d,gt);b!==null&&(g.startTime=b,v=!0)}}f.start(j4(d,f,m,t.shouldReduceMotion&&sa.has(d)?{type:!1}:g,t,v,d7(t,d)));const _=f.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{gt.update(()=>{a&&ude(t,a)})}),c}function f7(t,e,n={}){var r;const i=f2(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(fR(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return mde(t,e,h+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function mde(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(gde).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(f7(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function gde(t,e){return t.sortNodePosition(e)}function vde(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>f7(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=f7(t,e,n);else{const i=typeof e=="function"?f2(t,e,n.custom):e;r=Promise.all(fR(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const yde=[...k4].reverse(),_de=k4.length;function xde(t){return e=>Promise.all(e.map(({animation:n,options:r})=>vde(t,n,r)))}function bde(t){let e=xde(t),n=ZS(),r=!0;const i=l=>(c,h)=>{var d;const f=f2(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:g,...v}=f;c={...c,...v,...g}}return c};function s(l){e=l(t)}function o(l){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let m={},g=1/0;for(let _=0;_<_de;_++){const x=yde[_],b=n[x],w=c[x]!==void 0?c[x]:h[x],T=Bd(w),C=x===l?b.isActive:null;C===!1&&(g=_);let I=w===h[x]&&w!==c[x]&&T;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),b.protectedKeys={...m},!b.isActive&&C===null||!w&&!b.prevProp||zd(w)||typeof w=="boolean")continue;let A=wde(b.prevProp,w)||x===l&&b.isActive&&!I&&T||_>g&&T,O=!1;const N=Array.isArray(w)?w:[w];let z=N.reduce(i(x),{});C===!1&&(z={});const{prevResolvedValues:H={}}=b,j={...H,...z},Z=te=>{A=!0,f.has(te)&&(O=!0,f.delete(te)),b.needsAnimating[te]=!0;const G=t.getValue(te);G&&(G.liveStyle=!1)};for(const te in j){const G=z[te],ie=H[te];if(m.hasOwnProperty(te))continue;let U=!1;i7(G)&&i7(ie)?U=!kP(G,ie):U=G!==ie,U?G!=null?Z(te):f.add(te):G!==void 0&&f.has(te)?Z(te):b.protectedKeys[te]=!0}b.prevProp=w,b.prevResolvedValues=z,b.isActive&&(m={...m,...z}),r&&t.blockInitialAnimation&&(A=!1),A&&(!I||O)&&d.push(...N.map(te=>({animation:te,options:{type:x}})))}if(f.size){const _={};f.forEach(x=>{const b=t.getBaseTarget(x),w=t.getValue(x);w&&(w.liveStyle=!0),_[x]=b??null}),d.push({animation:_})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=ZS(),r=!0}}}function wde(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kP(e,t):!1}function xa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZS(){return{animate:xa(!0),whileInView:xa(),whileHover:xa(),whileTap:xa(),whileDrag:xa(),whileFocus:xa(),exit:xa()}}class oa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Sde extends oa{constructor(e){super(e),e.animationState||(e.animationState=bde(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Ede=0;class Tde extends oa{constructor(){super(...arguments),this.id=Ede++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Lde={animation:{Feature:Sde},exit:{Feature:Tde}},pR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function y2(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const Cde=t=>e=>pR(e)&&t(e,y2(e));function Ds(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Vs(t,e,n,r){return Ds(t,e,Cde(n),r)}const XS=(t,e)=>Math.abs(t-e);function kde(t,e){const n=XS(t.x,e.x),r=XS(t.y,e.y);return Math.sqrt(n**2+r**2)}class mR{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=k6(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=kde(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:g}=d,{timestamp:v}=Dn;this.history.push({...g,timestamp:v});const{onStart:_,onMove:x}=this.handlers;f||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=C6(f,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=k6(d.type==="pointercancel"?this.lastMoveEventInfo:C6(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,_),g&&g(d,_)},!pR(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=y2(e),a=C6(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Dn;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,k6(a,this.history)),this.removeListeners=js(Vs(this.contextWindow,"pointermove",this.handlePointerMove),Vs(this.contextWindow,"pointerup",this.handlePointerUp),Vs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function C6(t,e){return e?{point:e(t.point)}:t}function QS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function k6({point:t},e){return{point:t,delta:QS(t,gR(e)),offset:QS(t,Ade(e)),velocity:Ide(e,.1)}}function Ade(t){return t[0]}function gR(t){return t[t.length-1]}function Ide(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=gR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>zs(e)));)n--;if(!r)return{x:0,y:0};const s=Bs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vR(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const JS=vR("dragHorizontal"),eE=vR("dragVertical");function yR(t){let e=!1;if(t==="y")e=eE();else if(t==="x")e=JS();else{const n=JS(),r=eE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function _R(){const t=yR(!0);return t?(t(),!1):!0}function mc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const xR=1e-4,Pde=1-xR,Rde=1+xR,bR=.01,Mde=0-bR,Dde=0+bR;function $r(t){return t.max-t.min}function Ode(t,e,n){return Math.abs(t-e)<=n}function tE(t,e,n,r=.5){t.origin=r,t.originPoint=jt(e.min,e.max,t.origin),t.scale=$r(n)/$r(e),t.translate=jt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Pde&&t.scale<=Rde||isNaN(t.scale))&&(t.scale=1),(t.translate>=Mde&&t.translate<=Dde||isNaN(t.translate))&&(t.translate=0)}function td(t,e,n,r){tE(t.x,e.x,n.x,r?r.originX:void 0),tE(t.y,e.y,n.y,r?r.originY:void 0)}function nE(t,e,n){t.min=n.min+e.min,t.max=t.min+$r(e)}function Nde(t,e,n){nE(t.x,e.x,n.x),nE(t.y,e.y,n.y)}function rE(t,e,n){t.min=e.min-n.min,t.max=t.min+$r(e)}function nd(t,e,n){rE(t.x,e.x,n.x),rE(t.y,e.y,n.y)}function Fde(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?jt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?jt(n,t,r.max):Math.min(t,n)),t}function iE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $de(t,{top:e,left:n,bottom:r,right:i}){return{x:iE(t.x,n,i),y:iE(t.y,e,r)}}function sE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zde(t,e){return{x:sE(t.x,e.x),y:sE(t.y,e.y)}}function Bde(t,e){let n=.5;const r=$r(t),i=$r(e);return i>r?n=jd(e.min,e.max-r,t.min):r>i&&(n=jd(t.min,t.max-i,e.min)),Zo(0,1,n)}function Ude(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const p7=.35;function jde(t=p7){return t===!1?t=0:t===!0&&(t=p7),{x:oE(t,"left","right"),y:oE(t,"top","bottom")}}function oE(t,e,n){return{min:aE(t,e),max:aE(t,n)}}function aE(t,e){return typeof t=="number"?t:t[e]||0}const lE=()=>({translate:0,scale:1,origin:0,originPoint:0}),gc=()=>({x:lE(),y:lE()}),cE=()=>({min:0,max:0}),en=()=>({x:cE(),y:cE()});function Yr(t){return[t("x"),t("y")]}function wR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Vde({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Gde(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function A6(t){return t===void 0||t===1}function m7({scale:t,scaleX:e,scaleY:n}){return!A6(t)||!A6(e)||!A6(n)}function Ia(t){return m7(t)||SR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function SR(t){return uE(t.x)||uE(t.y)}function uE(t){return t&&t!=="0%"}function Hp(t,e,n){const r=t-n,i=e*r;return n+i}function hE(t,e,n,r,i){return i!==void 0&&(t=Hp(t,i,r)),Hp(t,n,r)+e}function g7(t,e=0,n=1,r,i){t.min=hE(t.min,e,n,r,i),t.max=hE(t.max,e,n,r,i)}function ER(t,{x:e,y:n}){g7(t.x,e.translate,e.scale,e.originPoint),g7(t.y,n.translate,n.scale,n.originPoint)}const dE=.999999999999,fE=1.0000000000001;function Hde(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&yc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ER(t,o)),r&&Ia(s.latestValues)&&yc(t,s.latestValues))}e.x<fE&&e.x>dE&&(e.x=1),e.y<fE&&e.y>dE&&(e.y=1)}function vc(t,e){t.min=t.min+e,t.max=t.max+e}function pE(t,e,n,r,i=.5){const s=jt(t.min,t.max,i);g7(t,e,n,s,r)}function yc(t,e){pE(t.x,e.x,e.scaleX,e.scale,e.originX),pE(t.y,e.y,e.scaleY,e.scale,e.originY)}function TR(t,e){return wR(Gde(t.getBoundingClientRect(),e))}function Wde(t,e,n){const r=TR(t,n),{scroll:i}=e;return i&&(vc(r.x,i.offset.x),vc(r.y,i.offset.y)),r}const LR=({current:t})=>t?t.ownerDocument.defaultView:null,Kde=new WeakMap;class qde{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=en(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(y2(h,"page").point)},s=(h,d)=>{var f;const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yR(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yr(x=>{let b=this.getAxisMotionValue(x).get()||0;if(ls.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const T=w.layout.layoutBox[x];T&&(b=$r(T)*(parseFloat(b)/100))}}this.originPoint[x]=b}),v&&gt.postRender(()=>v(h,d)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=d7(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:g,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:_}=d;if(m&&this.currentDirection===null){this.currentDirection=Yde(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),v&&v(h,d)},a=(h,d)=>this.stop(h,d),l=()=>Yr(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new mR(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:LR(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&gt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!D3(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Fde(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&mc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=$de(i.layoutBox,n):this.constraints=!1,this.elastic=jde(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Yr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ude(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!mc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Wde(r,i.root,this.visualElement.getTransformPagePoint());let o=zde(i.layout.layoutBox,s);if(n){const a=n(Vde(o));this.hasMutatedConstraints=!!a,a&&(o=wR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Yr(h=>{if(!D3(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(j4(e,r,0,n,this.visualElement,!1,d7(this.visualElement,e)))}stopAnimation(){Yr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Yr(n=>{const{drag:r}=this.getProps();if(!D3(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-jt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!mc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Yr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Bde({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yr(o=>{if(!D3(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(jt(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Kde.set(this.visualElement,this);const e=this.visualElement.current,n=Vs(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();mc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),gt.read(r);const o=Ds(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Yr(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=p7,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function D3(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Yde(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Zde extends oa{constructor(e){super(e),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new qde(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const mE=t=>(e,n)=>{t&&gt.postRender(()=>t(e,n))};class Xde extends oa{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(e){this.session=new mR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:mE(e),onStart:mE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&gt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Vs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _2=P.createContext(null);function Qde(){const t=P.useContext(_2);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=P.useId();P.useEffect(()=>r(i),[]);const s=P.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const G4=P.createContext({}),CR=P.createContext({}),v0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=gE(t,e.target.x),r=gE(t,e.target.y);return`${n}% ${r}%`}},Jde={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Xo.parse(t);if(i.length>5)return r;const s=Xo.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=jt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},Wp={};function efe(t){Object.assign(Wp,t)}const{schedule:H4,cancel:Cye}=AP(queueMicrotask,!1);class tfe extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;efe(nfe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),v0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||gt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),H4.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kR(t){const[e,n]=Qde(),r=P.useContext(G4);return E.jsx(tfe,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(CR),isPresent:e,safeToRemove:n})}const nfe={borderRadius:{...vh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vh,borderTopRightRadius:vh,borderBottomLeftRadius:vh,borderBottomRightRadius:vh,boxShadow:Jde},AR=["TopLeft","TopRight","BottomLeft","BottomRight"],rfe=AR.length,vE=t=>typeof t=="string"?parseFloat(t):t,yE=t=>typeof t=="number"||Ce.test(t);function ife(t,e,n,r,i,s){i?(t.opacity=jt(0,n.opacity!==void 0?n.opacity:1,sfe(r)),t.opacityExit=jt(e.opacity!==void 0?e.opacity:1,0,ofe(r))):s&&(t.opacity=jt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<rfe;o++){const a=`border${AR[o]}Radius`;let l=_E(e,a),c=_E(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||yE(l)===yE(c)?(t[a]=Math.max(jt(vE(l),vE(c),r),0),(ls.test(c)||ls.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=jt(e.rotate||0,n.rotate||0,r))}function _E(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sfe=IR(0,.5,tR),ofe=IR(.5,.95,Zn);function IR(t,e,n){return r=>r<t?0:r>e?1:n(jd(t,e,r))}function xE(t,e){t.min=e.min,t.max=e.max}function Kr(t,e){xE(t.x,e.x),xE(t.y,e.y)}function bE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wE(t,e,n,r,i){return t-=e,t=Hp(t,1/n,r),i!==void 0&&(t=Hp(t,1/i,r)),t}function afe(t,e=0,n=1,r=.5,i,s=t,o=t){if(ls.test(e)&&(e=parseFloat(e),e=jt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=jt(s.min,s.max,r);t===s&&(a-=e),t.min=wE(t.min,e,n,a,i),t.max=wE(t.max,e,n,a,i)}function SE(t,e,[n,r,i],s,o){afe(t,e[n],e[r],e[i],e.scale,s,o)}const lfe=["x","scaleX","originX"],cfe=["y","scaleY","originY"];function EE(t,e,n,r){SE(t.x,e,lfe,n?n.x:void 0,r?r.x:void 0),SE(t.y,e,cfe,n?n.y:void 0,r?r.y:void 0)}function TE(t){return t.translate===0&&t.scale===1}function PR(t){return TE(t.x)&&TE(t.y)}function LE(t,e){return t.min===e.min&&t.max===e.max}function ufe(t,e){return LE(t.x,e.x)&&LE(t.y,e.y)}function CE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RR(t,e){return CE(t.x,e.x)&&CE(t.y,e.y)}function kE(t){return $r(t.x)/$r(t.y)}function AE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hfe{constructor(){this.members=[]}add(e){m2(this.members,e),e.scheduleRender()}remove(e){if(g2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dfe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:f,skewX:m,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ffe=(t,e)=>t.depth-e.depth;class pfe{constructor(){this.children=[],this.isDirty=!1}add(e){m2(this.children,e),this.isDirty=!0}remove(e){g2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ffe),this.isDirty=!1,this.children.forEach(e)}}function y0(t){const e=Yn(t)?t.get():t;return ode(e)?e.toValue():e}function mfe(t,e){const n=Us.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Js(r),t(s-e))};return gt.read(r,!0),()=>Js(r)}function gfe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function vfe(t,e,n){const r=Yn(t)?t:Vd(t);return r.start(j4("",r,e,n)),r.animation}const Pa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Rh=typeof window<"u"&&window.MotionDebug!==void 0,I6=["","X","Y","Z"],yfe={visibility:"hidden"},IE=1e3;let _fe=0;function P6(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function MR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&MR(r)}function DR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=_fe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rh&&(Pa.totalNodes=Pa.resolvedTargetDeltas=Pa.recalculatedProjection=0),this.nodes.forEach(wfe),this.nodes.forEach(Cfe),this.nodes.forEach(kfe),this.nodes.forEach(Sfe),Rh&&window.MotionDebug.record(Pa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pfe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new V4),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gfe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=mfe(f,250),v0.hasAnimatedSinceResize&&(v0.hasAnimatedSinceResize=!1,this.nodes.forEach(RE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||Mfe,{onLayoutAnimationStart:_,onLayoutAnimationComplete:x}=h.getProps(),b=!this.targetLayout||!RR(this.targetLayout,g)||m,w=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const T={...I4(v,"layout"),onPlay:_,onComplete:x};(h.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else f||RE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Afe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PE);return}this.isUpdating||this.nodes.forEach(Tfe),this.isUpdating=!1,this.nodes.forEach(Lfe),this.nodes.forEach(xfe),this.nodes.forEach(bfe),this.clearAllSnapshots();const a=Us.now();Dn.delta=Zo(0,1e3/60,a-Dn.timestamp),Dn.timestamp=a,Dn.isProcessing=!0,w6.update.process(Dn),w6.preRender.process(Dn),w6.render.process(Dn),Dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,H4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Efe),this.sharedNodes.forEach(Ife)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=en(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!PR(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Ia(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Dfe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return en();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Ofe))){const{scroll:h}=this.root;h&&(vc(l.x,h.offset.x),vc(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=en();if(Kr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Kr(l,o),vc(l.x,d.offset.x),vc(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=en();Kr(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&yc(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ia(h.latestValues)&&yc(l,h.latestValues)}return Ia(this.latestValues)&&yc(l,this.latestValues),l}removeTransform(o){const a=en();Kr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ia(c.latestValues))continue;m7(c.latestValues)&&c.updateSnapshot();const h=en(),d=c.measurePageBox();Kr(h,d),EE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Ia(this.latestValues)&&EE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Dn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),nd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=en(),this.targetWithTransforms=en()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kr(this.target,this.layout.layoutBox),ER(this.target,this.targetDelta)):Kr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),nd(this.relativeTargetOrigin,this.target,m.target),Kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rh&&Pa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||m7(this.parent.latestValues)||SR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Dn.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Kr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Hde(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=en());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bE(this.prevProjectionDelta.x,this.projectionDelta.x),bE(this.prevProjectionDelta.y,this.projectionDelta.y)),td(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!AE(this.projectionDelta.x,this.prevProjectionDelta.x)||!AE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Rh&&Pa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gc(),this.projectionDelta=gc(),this.projectionDeltaWithTransform=gc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=gc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=en(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,_=this.getStack(),x=!_||_.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(Rfe));this.animationProgress=0;let w;this.mixTargetDelta=T=>{const C=T/1e3;ME(d.x,o.x,C),ME(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Pfe(this.relativeTarget,this.relativeTargetOrigin,f,C),w&&ufe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=en()),Kr(w,this.relativeTarget)),v&&(this.animationValues=h,ife(h,c,this.latestValues,C,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{v0.hasAnimatedSinceResize=!0,this.currentAnimation=vfe(0,IE,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&OR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||en();const d=$r(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=$r(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Kr(a,l),yc(a,h),td(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new hfe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&P6("z",o,c,this.animationValues);for(let h=0;h<I6.length;h++)P6(`rotate${I6[h]}`,o,c,this.animationValues),P6(`skew${I6[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yfe;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=y0(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=y0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ia(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=dfe(this.projectionDeltaWithTransform,this.treeScale,f),h&&(c.transform=h(f,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Wp){if(f[v]===void 0)continue;const{correct:_,applyTo:x}=Wp[v],b=c.transform==="none"?f[v]:_(f[v],d);if(x){const w=x.length;for(let T=0;T<w;T++)c[x[T]]=b}else c[v]=b}return this.options.layoutId&&(c.pointerEvents=d===this?y0(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(PE),this.root.sharedNodes.clear()}}}function xfe(t){t.updateLayout()}function bfe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Yr(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=$r(f);f.min=r[d].min,f.max=f.min+m}):OR(s,n.layoutBox,r)&&Yr(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=$r(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=gc();td(a,r,n.layoutBox);const l=gc();o?td(l,t.applyTransform(i,!0),n.measuredBox):td(l,r,n.layoutBox);const c=!PR(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const g=en();nd(g,n.layoutBox,f.layoutBox);const v=en();nd(v,r,m.layoutBox),RR(g,v)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function wfe(t){Rh&&Pa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Sfe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Efe(t){t.clearSnapshot()}function PE(t){t.clearMeasurements()}function Tfe(t){t.isLayoutDirty=!1}function Lfe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function RE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Cfe(t){t.resolveTargetDelta()}function kfe(t){t.calcProjection()}function Afe(t){t.resetSkewAndRotation()}function Ife(t){t.removeLeadSnapshot()}function ME(t,e,n){t.translate=jt(e.translate,0,n),t.scale=jt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function DE(t,e,n,r){t.min=jt(e.min,n.min,r),t.max=jt(e.max,n.max,r)}function Pfe(t,e,n,r){DE(t.x,e.x,n.x,r),DE(t.y,e.y,n.y,r)}function Rfe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Mfe={duration:.45,ease:[.4,0,.1,1]},OE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NE=OE("applewebkit/")&&!OE("chrome/")?Math.round:Zn;function FE(t){t.min=NE(t.min),t.max=NE(t.max)}function Dfe(t){FE(t.x),FE(t.y)}function OR(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ode(kE(e),kE(n),.2)}function Ofe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Nfe=DR({attachResizeListener:(t,e)=>Ds(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),R6={current:void 0},NR=DR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!R6.current){const t=new Nfe({});t.mount(window),t.setOptions({layoutScroll:!0}),R6.current=t}return R6.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ffe={pan:{Feature:Xde},drag:{Feature:Zde,ProjectionNode:NR,MeasureLayout:kR}};function $E(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||_R())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&gt.postRender(()=>l(s,o))};return Vs(t.current,n,i,{passive:!t.getProps()[r]})}class $fe extends oa{mount(){this.unmount=js($E(this.node,!0),$E(this.node,!1))}unmount(){}}class zfe extends oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=js(Ds(this.node.current,"focus",()=>this.onFocus()),Ds(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const FR=(t,e)=>e?t===e?!0:FR(t,e.parentElement):!1;function M6(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,y2(n))}class Bfe extends oa{constructor(){super(...arguments),this.removeStartListeners=Zn,this.removeEndListeners=Zn,this.removeAccessibleListeners=Zn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Vs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),f=!d&&!FR(this.node.current,a.target)?h:c;f&&gt.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Vs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=js(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||M6("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&gt.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ds(this.node.current,"keyup",o),M6("down",(a,l)=>{this.startPress(a,l)})},n=Ds(this.node.current,"keydown",e),r=()=>{this.isPressing&&M6("cancel",(s,o)=>this.cancelPress(s,o))},i=Ds(this.node.current,"blur",r);this.removeAccessibleListeners=js(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&gt.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_R()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&gt.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Vs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ds(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=js(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const v7=new WeakMap,D6=new WeakMap,Ufe=t=>{const e=v7.get(t.target);e&&e(t)},jfe=t=>{t.forEach(Ufe)};function Vfe({root:t,...e}){const n=t||document;D6.has(n)||D6.set(n,{});const r=D6.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(jfe,{root:t,...e})),r[i]}function Gfe(t,e,n){const r=Vfe(e);return v7.set(t,n),r.observe(t),()=>{v7.delete(t),r.unobserve(t)}}const Hfe={some:0,all:1};class Wfe extends oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Hfe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=c?h:d;f&&f(l)};return Gfe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Kfe(e,n))&&this.startObserver()}unmount(){}}function Kfe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const qfe={inView:{Feature:Wfe},tap:{Feature:Bfe},focus:{Feature:zfe},hover:{Feature:$fe}},Yfe={layout:{ProjectionNode:NR,MeasureLayout:kR}},W4=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),x2=P.createContext({}),K4=typeof window<"u",$R=K4?P.useLayoutEffect:P.useEffect,zR=P.createContext({strict:!1});let zE=!1;function Zfe(t,e,n,r,i){var s;const{visualElement:o}=P.useContext(x2),a=P.useContext(zR),l=P.useContext(_2),c=P.useContext(W4).reducedMotion,h=P.useRef();r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=h.current,f=P.useContext(CR);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Qfe(h.current,n,i,f),P.useInsertionEffect(()=>{d&&d.update(n,l)});const m=n[uR],g=P.useRef(!!m&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return $R(()=>{d&&(d.updateFeatures(),H4.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())}),P.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current=!1,zE||(zE=!0,queueMicrotask(Xfe)))}),d}function Xfe(){window.MotionHandoffIsComplete=!0}function Qfe(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BR(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&mc(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function BR(t){if(t)return t.options.allowProjection!==!1?t.projection:BR(t.parent)}function Jfe(t,e,n){return P.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):mc(n)&&(n.current=r))},[e])}function b2(t){return zd(t.animate)||A4.some(e=>Bd(t[e]))}function UR(t){return!!(b2(t)||t.variants)}function e3e(t,e){if(b2(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bd(n)?n:void 0,animate:Bd(r)?r:void 0}}return t.inherit!==!1?e:{}}function t3e(t){const{initial:e,animate:n}=e3e(t,P.useContext(x2));return P.useMemo(()=>({initial:e,animate:n}),[BE(e),BE(n)])}function BE(t){return Array.isArray(t)?t.join(" "):t}const UE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nu={};for(const t in UE)nu[t]={isEnabled:e=>UE[t].some(n=>!!e[n])};function n3e(t){for(const e in t)nu[e]={...nu[e],...t[e]}}const r3e=Symbol.for("motionComponentSymbol");function i3e({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&n3e(t);function s(a,l){let c;const h={...P.useContext(W4),...a,layoutId:s3e(a)},{isStatic:d}=h,f=t3e(a),m=r(a,d);if(!d&&K4){o3e();const g=a3e(h);c=g.MeasureLayout,f.visualElement=Zfe(i,m,h,e,g.ProjectionNode)}return E.jsxs(x2.Provider,{value:f,children:[c&&f.visualElement?E.jsx(c,{visualElement:f.visualElement,...h}):null,n(i,a,Jfe(m,f.visualElement,l),m,d,f.visualElement)]})}const o=P.forwardRef(s);return o[r3e]=i,o}function s3e({layoutId:t}){const e=P.useContext(G4).id;return e&&t!==void 0?e+"-"+t:t}function o3e(t,e){P.useContext(zR).strict}function a3e(t){const{drag:e,layout:n}=nu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const l3e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function q4(t){return typeof t!="string"||t.includes("-")?!1:!!(l3e.indexOf(t)>-1||/[A-Z]/u.test(t))}function jR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const VR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GR(t,e,n,r){jR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(VR.has(i)?i:v2(i),e.attrs[i])}function HR(t,{layout:e,layoutId:n}){return sa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wp[t]||t==="opacity")}function Y4(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Yn(i[o])||e.style&&Yn(e.style[o])||HR(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function WR(t,e,n){const r=Y4(t,e,n);for(const i in t)if(Yn(t[i])||Yn(e[i])){const s=Lf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function Z4(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}function c3e({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:h3e(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(i,c,l)),l}const KR=t=>(e,n)=>{const r=P.useContext(x2),i=P.useContext(_2),s=()=>c3e(t,e,r,i,n);return n?s():Z4(s)};function u3e(t,e){const n=dR(e);n&&m2(t,n)}function jE(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=C4(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function h3e(t,e,n,r,i){var s;const o={},a=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,c=i(t,{});for(const _ in c)o[_]=y0(c[_]);let{initial:h,animate:d}=t;const f=b2(t),m=UR(t);e&&m&&!f&&t.inherit!==!1&&(h===void 0&&(h=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||h===!1;const v=g?d:h;return v&&typeof v!="boolean"&&!zd(v)&&jE(t,v,(_,x)=>{for(const b in _){let w=_[b];if(Array.isArray(w)){const T=g?w.length-1:0;w=w[T]}w!==null&&(o[b]=w)}for(const b in x)o[b]=x[b]}),l&&(d&&h!==!1&&!zd(d)&&jE(t,d,_=>{for(const x in _)u3e(a,x)}),a.length&&(o.willChange=a.join(","))),o}const X4=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),qR=()=>({...X4(),attrs:{}}),YR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,d3e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f3e=Lf.length;function p3e(t,e,n){let r="",i=!0;for(let s=0;s<f3e;s++){const o=Lf[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=YR(a,O4[o]);if(!l){i=!1;const h=d3e[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Q4(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(sa.has(l)){o=!0;continue}else if(MP(l)){i[l]=c;continue}else{const h=YR(c,O4[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=p3e(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}function VE(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function m3e(t,e,n){const r=VE(e,t.x,t.width),i=VE(n,t.y,t.height);return`${r} ${i}`}const g3e={offset:"stroke-dashoffset",array:"stroke-dasharray"},v3e={offset:"strokeDashoffset",array:"strokeDasharray"};function y3e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?g3e:v3e;t[s.offset]=Ce.transform(-r);const o=Ce.transform(e),a=Ce.transform(n);t[s.array]=`${o} ${a}`}function J4(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d){if(Q4(t,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:g}=t;f.transform&&(g&&(m.transform=f.transform),delete f.transform),g&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=m3e(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&y3e(f,o,a,l,!1)}const e_=t=>typeof t=="string"&&t.toLowerCase()==="svg",_3e={useVisualState:KR({scrapeMotionValuesFromProps:WR,createRenderState:qR,onMount:(t,e,{renderState:n,latestValues:r})=>{gt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),gt.render(()=>{J4(n,r,e_(e.tagName),t.transformTemplate),GR(e,n)})}})},x3e={useVisualState:KR({applyWillChange:!0,scrapeMotionValuesFromProps:Y4,createRenderState:X4})};function ZR(t,e,n){for(const r in e)!Yn(e[r])&&!HR(r,n)&&(t[r]=e[r])}function b3e({transformTemplate:t},e){return P.useMemo(()=>{const n=X4();return Q4(n,e,t),Object.assign({},n.vars,n.style)},[e])}function w3e(t,e){const n=t.style||{},r={};return ZR(r,n,t),Object.assign(r,b3e(t,e)),r}function S3e(t,e){const n={},r=w3e(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const E3e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||E3e.has(t)}let XR=t=>!Kp(t);function T3e(t){t&&(XR=e=>e.startsWith("on")?!Kp(e):t(e))}try{T3e(require("@emotion/is-prop-valid").default)}catch{}function L3e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(XR(i)||n===!0&&Kp(i)||!e&&!Kp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function C3e(t,e,n,r){const i=P.useMemo(()=>{const s=qR();return J4(s,e,e_(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};ZR(s,t.style,t),i.style={...s,...i.style}}return i}function k3e(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(q4(n)?C3e:S3e)(r,s,o,n),c=L3e(r,typeof n=="string",t),h=n!==P.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=P.useMemo(()=>Yn(d)?d.get():d,[d]);return P.createElement(n,{...h,children:f})}}function A3e(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...q4(r)?_3e:x3e,preloadedFeatures:t,useRender:k3e(i),createVisualElement:e,Component:r};return i3e(o)}}const y7={current:null},QR={current:!1};function I3e(){if(QR.current=!0,!!K4)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>y7.current=t.matches;t.addListener(e),e()}else y7.current=!1}function P3e(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Yn(i))t.addValue(r,i);else if(Yn(s))t.addValue(r,Vd(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Vd(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const GE=new WeakMap,R3e=[...NP,Kn,Xo],M3e=t=>R3e.find(OP(t)),HE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],D3e=A4.length;class O3e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=M4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,gt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=b2(n),this.isVariantNode=UR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&Yn(m)&&m.set(l[f],!1)}}mount(e){this.current=e,GE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),QR.current||I3e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:y7.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){GE.delete(this.current),this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sa.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nu){const n=nu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):en()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<HE.length;r++){const i=HE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=P3e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<D3e;r++){const i=A4[r],s=this.props[i];(Bd(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(PP(i)||IP(i))?i=parseFloat(i):!M3e(i)&&Xo.test(n)&&(i=GP(e,n)),this.setBaseTarget(e,Yn(i)?i.get():i)),Yn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=C4(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Yn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new V4),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class JR extends O3e{constructor(){super(...arguments),this.KeyframeResolver=HP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function N3e(t){return window.getComputedStyle(t)}class F3e extends JR{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=jR}readValueFromInstance(e,n){if(sa.has(n)){const r=N4(n);return r&&r.default||0}else{const r=N3e(e),i=(MP(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TR(e,n)}build(e,n,r){Q4(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Y4(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class $3e extends JR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=en}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(sa.has(n)){const r=N4(n);return r&&r.default||0}return n=VR.has(n)?n:v2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return WR(e,n,r)}build(e,n,r){J4(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){GR(e,n,r,i)}mount(e){this.isSVGTag=e_(e.tagName),super.mount(e)}}const z3e=(t,e)=>q4(t)?new $3e(e):new F3e(e,{allowProjection:t!==P.Fragment}),B3e=A3e({...Lde,...qfe,...Ffe,...Yfe},z3e),$n=bue(B3e);class U3e extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function j3e({children:t,isPresent:e}){const n=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=P.useContext(W4);return P.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),E.jsx(U3e,{isPresent:e,childRef:r,sizeRef:i,children:P.cloneElement(t,{ref:r})})}const V3e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Z4(G3e),l=P.useId(),c=P.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random()]:[n]);return P.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),P.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=E.jsx(j3e,{isPresent:n,children:t})),E.jsx(_2.Provider,{value:c,children:t})};function G3e(){return new Map}const O3=t=>t.key||"";function WE(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const t_=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=P.useMemo(()=>WE(t),[t]),l=a.map(O3),c=P.useRef(!0),h=P.useRef(a),d=Z4(()=>new Map),[f,m]=P.useState(a),[g,v]=P.useState(a);$R(()=>{c.current=!1,h.current=a;for(let b=0;b<g.length;b++){const w=O3(g[b]);l.includes(w)?d.delete(w):d.get(w)!==!0&&d.set(w,!1)}},[g,l.length,l.join("-")]);const _=[];if(a!==f){let b=[...a];for(let w=0;w<g.length;w++){const T=g[w],C=O3(T);l.includes(C)||(b.splice(w,0,T),_.push(T))}o==="wait"&&_.length&&(b=_),v(WE(b)),m(a);return}const{forceRender:x}=P.useContext(G4);return E.jsx(E.Fragment,{children:g.map(b=>{const w=O3(b),T=a===g||l.includes(w),C=()=>{if(d.has(w))d.set(w,!0);else return;let I=!0;d.forEach(M=>{M||(I=!1)}),I&&(x==null||x(),v(h.current),i&&i())};return E.jsx(V3e,{isPresent:T,initial:!c.current||r?void 0:!1,custom:T?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:T?void 0:C,children:b},w)})})};var eM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(eM);var H3e=eM.exports;const Ye=to(H3e);function tM({data:t,tag:e}){const[n,r]=P.useState(!1),[i,s]=P.useState(!1),o=Date.now(),a=t!=null&&t.spotify?Math.min(100,(o-t.spotify.timestamps.start)/(t.spotify.timestamps.end-t.spotify.timestamps.start)*100):0;P.useEffect(()=>{t&&!t.listening_to_spotify&&s(!1)},[t]),P.useEffect(()=>{setTimeout(()=>{var c;(c=t==null?void 0:t.spotify)!=null&&c.timestamps&&r($0(t.spotify.timestamps.start))},1e3)},[n,t]);function l(c){return $0(c)}return E.jsxs(E.Fragment,{children:[t&&t.listening_to_spotify&&E.jsx(CP,{getColors:c=>s(c),children:E.jsx("img",{className:"hidden",src:`${t.spotify.album_art_url}`})}),t&&E.jsxs("div",{style:{backgroundColor:i&&`rgba(${kr(i[3])}, .15)`,border:i&&`1px solid rgba(${kr(i[2])}, .7)`},className:`flex flex-col w-full rounded-xl overflow-hidden cursor-pointer relative ${!i&&"border dark:border-white/[.15] border-black/30 bg-transparent"}`,onClick:()=>window.open(`https://discord.com/users/${t.discord_user.id}`,"_blank"),children:[t&&t.listening_to_spotify&&E.jsx("div",{style:{backgroundImage:`url(${t.spotify.album_art_url})`},className:"absolute inset-0 w-auto h-auto blur-sm bg-center bg-cover bg-no-repeat opacity-[.15]"}),E.jsx("div",{style:{borderColor:i?`rgba(${kr(i[2])}, .7)`:"rgba(255,255,255,.10)"},className:`${t.listening_to_spotify||t.activities.length>0?"border-b":""} p-3 flex items-center gap-x-2 relative`,children:E.jsxs("div",{className:"flex items-center gap-x-3",children:[E.jsx("div",{style:{backgroundImage:`url(https://cdn.discordapp.com/avatars/${t.discord_user.id}/${t.discord_user.avatar})`},className:"relative w-14 h-14 rounded-xl bg-center bg-cover",children:E.jsx("div",{className:Ye({"w-3 h-3 rounded-xl backdrop-blur-lg -right-0.5 -bottom-0.5 absolute":!0,"bg-yellow-500/60":t.discord_status==="idle","bg-green-500/60":t.discord_status==="online","bg-red-500/60":t.discord_status==="dnd"})})}),E.jsxs("div",{className:"flex flex-col -space-y-0.5",children:[E.jsxs("div",{className:"flex items-center -gap-x-4",children:[E.jsx("h4",{children:t.discord_user.username}),E.jsx(be,{color:i?i[1]:"#fffff",size:14,name:"VerticalLine"}),E.jsx("p",{className:"opacity-80 text-xs",children:"Discord"})]}),E.jsx("p",{className:"opacity-80 text-xs",children:e})]})]})}),t.listening_to_spotify&&E.jsxs("div",{className:`p-3 flex items-center relative ${t.activities.filter(c=>c.name!=="Spotify").length>0&&"border-b dark:border-white/[.15] border-black/30"}`,children:[E.jsx($n.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:1},style:{backgroundColor:i&&`rgba(${kr(i[1])}, .15)`},className:"absolute -z-10 inset-0 w-auto h-auto transition-all"}),E.jsxs("div",{className:"flex items-center gap-x-3",children:[E.jsx("img",{className:"w-14 h-14 rounded-xl object-cover",src:`${t.spotify.album_art_url}`}),E.jsxs("div",{className:"flex flex-col -space-y-0.5",children:[E.jsx("div",{className:"flex items-center -gap-x-4",children:E.jsx("h4",{children:t.spotify.song})}),E.jsxs("p",{className:"opacity-80 text-xs",children:[t.spotify.artist.replaceAll(";",",")," tarafından"]})]})]})]}),t.activities.length>0&&t.activities.filter(c=>c.name!=="Spotify").map(c=>E.jsx("div",{className:"p-3 flex items-center border-b dark:border-white/[.15] border-black/30 last:border-none relative",children:E.jsxs("div",{className:"flex items-center gap-x-3",children:[E.jsx("img",{className:"w-14 h-14 rounded-xl object-cover flex-shrink-0",src:R$(c)}),E.jsxs("div",{className:"flex flex-col -space-y-0.5",children:[E.jsxs("div",{className:"flex items-center -gap-x-4",children:[E.jsx("h4",{className:"line-clamp-1",children:c.name}),c.timestamps&&E.jsx(be,{color:i?i[1]:"#fffff",name:"VerticalLine",size:14}),E.jsx("p",{className:"opacity-80 text-xs flex-shrink-0",children:c.timestamps&&l(c.timestamps.start)})]}),E.jsx("p",{className:"opacity-80 text-xs",children:c.details}),E.jsx("p",{className:"opacity-80 text-xs",children:c.state})]})]})}))]})]})}var W3e={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function K3e(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return W3e[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function O6(t){var e=K3e(t);return"".concat(e.value).concat(e.unit)}var nM=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},qp;(function(t){t.maroon="#800000",t.red="#FF0000",t.orange="#FFA500",t.yellow="#FFFF00",t.olive="#808000",t.green="#008000",t.purple="#800080",t.fuchsia="#FF00FF",t.lime="#00FF00",t.teal="#008080",t.aqua="#00FFFF",t.blue="#0000FF",t.navy="#000080",t.black="#000000",t.gray="#808080",t.silver="#C0C0C0",t.white="#FFFFFF"})(qp||(qp={}));var q3e=function(t,e){if(Object.keys(qp).includes(t)&&(t=qp[t]),t[0]==="#"&&(t=t.slice(1)),t.length===3){var n="";t.split("").forEach(function(i){n+=i,n+=i}),t=n}var r=(t.match(/.{2}/g)||[]).map(function(i){return parseInt(i,16)}).join(", ");return"rgba(".concat(r,", ").concat(e,")")},Yp=function(){return Yp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yp.apply(this,arguments)},Y3e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Z3e=nM("BarLoader","0% {left: -35%;right: 100%} 60% {left: 100%;right: -90%} 100% {left: 100%;right: -90%}","long"),X3e=nM("BarLoader","0% {left: -200%;right: 100%} 60% {left: 107%;right: -8%} 100% {left: 107%;right: -8%}","short");function KE(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,c=t.height,h=c===void 0?4:c,d=t.width,f=d===void 0?100:d,m=Y3e(t,["loading","color","speedMultiplier","cssOverride","height","width"]),g=Yp({display:"inherit",position:"relative",width:O6(f),height:O6(h),overflow:"hidden",backgroundColor:q3e(i,.2),backgroundClip:"padding-box"},l),v=function(_){return{position:"absolute",height:O6(h),overflow:"hidden",backgroundColor:i,backgroundClip:"padding-box",display:"block",borderRadius:2,willChange:"left, right",animationFillMode:"forwards",animation:"".concat(_===1?Z3e:X3e," ").concat(2.1/o,"s ").concat(_===2?"".concat(1.15/o,"s"):""," ").concat(_===1?"cubic-bezier(0.65, 0.815, 0.735, 0.395)":"cubic-bezier(0.165, 0.84, 0.44, 1)"," infinite")}};return n?P.createElement("span",Yp({style:g},m),P.createElement("span",{style:v(1)}),P.createElement("span",{style:v(2)})):null}function ft({className:t,content:e,style:n,event:r,type:i,link:s,alt:o}){const[a,l]=P.useState(!1),{padding:c}=n||{},{icon:h}=e||{},{height:d}=n||{},{radius:f}=n||{},{width:m}=n||{},{color:g}=n||{},{click:v,enter:_,leave:x}=r||{},[b,w]=P.useState(window.innerWidth<1e3),[T,C]=P.useState((e==null?void 0:e.text)||!1),{theme:I}=yu(),M=Ye({[f==null?void 0:f.button]:f==null?void 0:f.button,"rounded-lg":!(f!=null&&f.button)}),A=Ye({[f==null?void 0:f.icon]:f==null?void 0:f.icon,"rounded-lg":!(f!=null&&f.icon)}),O=Ye({"h-auto":!d,[d]:d,"w-auto":!m,[m]:m});Ye({"p-2":!c,[c]:c});const N={border:g?`rgba(${kr(g.hex)}, 1`:`${I==="dark"?"rgba(255,255,255, .15)":"rgba(0,0,0, .3)"}`,color:g&&a&&`rgba(${kr(g.hex)}, .8)`,background:a?g?g.bg_transparent?"transparent":`rgba(${kr(g.hex)}, ${g.opacity+.1})`:"transparent":g?`rgba(${kr(g.hex)}, ${g.opacity})`:`${I==="dark"?"rgba(255,255,255, .05)":"rgba(0,0,0, .1)"}`};return P.useEffect(()=>{const z=()=>{w(window.innerWidth<1e3)};return window.addEventListener("resize",z),()=>{window.removeEventListener("resize",z)}},[]),P.useEffect(()=>{C(b?!1:(e==null?void 0:e.text)||!1)},[b]),s?E.jsxs(Pp,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"linear",duration:.2},to:s,className:Ye(`flex items-center ${!T&&"justify-center"} gap-x-2 p-1 text-sm group cursor-pointer group overflow-hidden text-black/80 hover:text-black dark:text-white/80 dark:hover:text-white transition-all duration-300 ease-linear ${t}`,M,O),onMouseLeave:()=>{l(!1)},onMouseEnter:()=>{l(!0)},style:{backgroundColor:N.background,border:a?`1px solid ${N.border}`:`1px solid ${I==="dark"?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)"}`},onClick:v||null,children:[h&&E.jsx("div",{style:{backgroundColor:T?a?`${N.border}`:"rgba(255,255,255, .05)":null},className:Ye("transition-all duration-300 ease-linear w-10 h-10 flex items-center justify-center flex-shrink-0",A),children:E.jsx(be,{style:h.style&&h.style,size:h.size||24,name:h.name})}),T&&!b&&E.jsx("p",{className:"pr-2 pl-0.5 flex-shrink-0 ",children:T}),o&&E.jsx("div",{className:"hidden min-w-[87px] text-center w-auto justify-center group-hover:flex flex-nowrap items-center absolute bottom-11 left-2/4 -translate-x-2/4 py-1 px-3 bg-server-50 rounded-lg font-semibold text-white transition-all",children:o})]}):E.jsxs($n.button,{initial:{opacity:0},animate:{opacity:1},type:i&&i,transition:{ease:"linear",duration:.2},className:Ye(`flex items-center ${!T&&"justify-center"} gap-x-2 p-1 text-sm group cursor-pointer group overflow-hidden text-black/80 hover:text-black dark:text-white/80 dark:hover:text-white transition-all duration-300 ease-linear ${t}`,M,O),onMouseEnter:()=>{l(!0),_&&_()},onMouseLeave:()=>{l(!1),x&&x()},onClick:()=>{v&&v()},style:{backgroundColor:N.background,border:a?`1px solid ${N.border}`:`1px solid ${I==="dark"?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)"}`},children:[h&&E.jsx("div",{style:{backgroundColor:T?a?`${N.border}`:`rgba(${I==="dark"?"255,255,255":"0,0,0"}, .05)`:null},className:Ye("transition-all duration-300 ease-linear w-10 h-10 flex items-center justify-center flex-shrink-0",A),children:E.jsx(be,{style:h.style&&h.style,size:h.size||24,name:h.name})}),T&&!b&&E.jsx("p",{className:"pr-2 pl-0.5 flex-shrink-0 ",children:T}),o&&E.jsx("div",{className:"hidden min-w-[87px] text-center w-auto justify-center group-hover:flex flex-nowrap items-center absolute bottom-11 left-2/4 -translate-x-2/4 py-1 px-3 bg-server-50 rounded-lg font-semibold text-white transition-all",children:o})]})}function Q3e(){const[t,e]=P.useState({x:1100,y:350}),[n,r]=P.useState(l()),i=[P.useRef(null),P.useRef(null),P.useRef(null)],[s,o]=P.useState(!1),{setTheme:a}=yu();P.useRef(),P.useEffect(()=>{a("dark")},[]),P.useEffect(()=>{const g=setTimeout(()=>{r(l())},1e3);return()=>clearTimeout(g)});function l(){const g=new Date("2024-08-31T00:00:00"),v=new Date,_=g.getTime()-v.getTime();if(_>0){const x=Math.floor(_/864e5),b=Math.floor(_/(1e3*60*60)%24),w=Math.floor(_/(1e3*60)%60),T=Math.floor(_/1e3%60);return{days:x,hours:b,minutes:w,seconds:T}}return{days:0,hours:0,minutes:0,seconds:0}}const c=g=>{const v=g.clientX,_=g.clientY;e({x:v,y:_})},h=()=>{if(i[0].current&&i[1].current&&i[2].current){const g=i[0].current.currentTime;i.forEach(v=>{v.current.currentTime=g,s?v.current.play():v.current.pause()})}},d=()=>{document.hidden||h()};P.useEffect(()=>(document.addEventListener("visibilitychange",d),()=>{document.removeEventListener("visibilitychange",d)}),[s]),P.useEffect(()=>(window.addEventListener("mousemove",c),i.forEach(g=>{g.current&&g.current.pause()}),()=>{window.removeEventListener("mousemove",c)}),[]);const f=()=>{i[0].current&&(s?i.forEach(g=>g.current.pause()):(h(),i.forEach(g=>g.current.play())),o(!s))};`${t.x}${t.y}`;const m={backgroundImage:`
      radial-gradient(
        circle at ${t.x}px ${t.y}px,
        transparent 10%,
        rgba(0,0,0, .75) 40%,
        rgba(0,0,0, .75) 90%
      )
    `,position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none"};return E.jsxs("div",{className:"w-screen h-screen flex flex-col items-center justify-center",children:[E.jsx("div",{style:m}),E.jsxs("div",{className:"w-screen h-screen flex items-center -z-10 fixed",children:[E.jsx("video",{muted:!0,loop:!0,style:{top:0,left:0,height:"100%",objectFit:"cover",zIndex:-1},ref:i[1],className:"h-screen w-full opacity-50 blur-md saturate-50",children:E.jsx("source",{src:"/video.mp4",type:"video/mp4"})}),E.jsx("video",{loop:!0,style:{top:0,left:0,objectFit:"cover",zIndex:-1},ref:i[0],className:"h-screen w-[40%] flex-shrink-0 mx-auto",children:E.jsx("source",{src:"/video.mp4",type:"video/mp4"})}),E.jsx("video",{muted:!0,loop:!0,style:{top:0,left:0,height:"100%",objectFit:"cover",zIndex:-1},ref:i[2],className:"h-screen w-full opacity-50 blur-md saturate-50",children:E.jsx("source",{src:"/video.mp4",type:"video/mp4"})})]}),E.jsxs("h2",{className:"opacity-60 select-none fixed bottom-8",children:[n.days>0&&n.days+" gün"," ",n.hours," saat"," ",n.minutes," dakika ",n.seconds," saniye"]}),E.jsx("p",{className:"text-sm opacity-40 font-extralight uppercase select-none fixed bottom-4",children:"açıklama belirtilmedi"}),E.jsxs("div",{className:"absolute left-4 top-4 flex items-center flex-col gap-y-2",children:[E.jsx(ft,{style:{radius:{icon:"rounded-full",button:"rounded-full"}},className:"!w-12 !h-12 !bg-black/40 hover:!bg-transparent backdrop-blur-lg",link:"/",content:{icon:{name:"Return",size:30}}}),E.jsx(ft,{style:{radius:{icon:"rounded-full",button:"rounded-full"}},className:"!w-12 !h-12 !bg-black/40 hover:!bg-transparent backdrop-blur-lg",event:{click:()=>f()},content:{icon:{name:s?"Pause":"Play",size:24}}}),E.jsx(ft,{style:{radius:{icon:"rounded-full",button:"rounded-full"}},className:"!w-12 !h-12 !bg-black/40 hover:!bg-transparent backdrop-blur-lg",event:{click:()=>pn("CONTACT",{title:"İletişim",data:{name:"COUNTDOWN"}})},content:{icon:{name:"SupportFilled",size:28}}})]})]})}function us({height:t="h-auto",className:e,text:n,type:r}){const{server:i}=bl(),{theme:s}=yu();return r==="page"?E.jsxs("div",{className:"w-screen h-screen fixed inset-0 flex flex-col justify-center overflow-hidden items-center bg-center bg-cover bg-no-repeat",children:[E.jsx("div",{className:"absolute inset-0 w-screen h-screen dark:bg-black/80 bg-white/80"}),E.jsx(KE,{className:"rounded-full",color:i&&i.color||(s==="dark"?"#fff":"#000")}),n&&E.jsx("p",{className:"text-xs dark:opacity-70 opacity-100 mt-2 z-10",children:n})]}):r==="pvs"?E.jsx(Q3e,{}):E.jsxs("div",{className:`w-full flex flex-col items-center justify-center gap-x-3.5 ${t} ${e}`,children:[E.jsx(KE,{className:"rounded-full",color:i&&i.color||"#fff"}),n&&E.jsx("p",{className:"text-xs opacity-70 mt-2",children:n})]})}var Zp={},_7=function(t,e){return _7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},_7(t,e)};function rM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_7(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Xp=function(){return Xp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xp.apply(this,arguments)};function iM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sM(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function oM(t,e){return function(n,r){e(n,r,t)}}function J3e(t,e,n,r,i,s){function o(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,h=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,m=n.length-1;m>=0;m--){var g={};for(var v in r)g[v]=v==="access"?{}:r[v];for(var v in r.access)g.access[v]=r.access[v];g.addInitializer=function(x){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(x||null))};var _=(0,n[m])(a==="accessor"?{get:h.get,set:h.set}:h[l],g);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=o(_.get))&&(h.get=d),(d=o(_.set))&&(h.set=d),(d=o(_.init))&&i.unshift(d)}else(d=o(_))&&(a==="field"?i.unshift(d):h[l]=d)}c&&Object.defineProperty(c,r.name,h),f=!0}function e0e(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function t0e(t){return typeof t=="symbol"?t:"".concat(t)}function n0e(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function aM(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function lM(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function cM(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var w2=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function uM(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&w2(e,t,n)}function Qp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function n_(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function hM(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n_(arguments[e]));return t}function dM(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function fM(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function ru(t){return this instanceof ru?(this.v=t,this):new ru(t)}function pM(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(g){return Promise.resolve(g).then(m,d)}}function a(m,g){r[m]&&(i[m]=function(v){return new Promise(function(_,x){s.push([m,v,_,x])>1||l(m,v)})},g&&(i[m]=g(i[m])))}function l(m,g){try{c(r[m](g))}catch(v){f(s[0][3],v)}}function c(m){m.value instanceof ru?Promise.resolve(m.value.v).then(h,d):f(s[0][2],m)}function h(m){l("next",m)}function d(m){l("throw",m)}function f(m,g){m(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}function mM(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:ru(t[i](o)),done:!1}:s?s(o):o}:s}}function gM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Qp=="function"?Qp(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function vM(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var r0e=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function yM(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&w2(e,t,n);return r0e(e,t),e}function _M(t){return t&&t.__esModule?t:{default:t}}function xM(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function bM(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function wM(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function SM(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var i0e=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function EM(t){function e(r){t.error=t.hasError?new i0e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}function n(){for(;t.stack.length;){var r=t.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,function(s){return e(s),n()})}catch(s){e(s)}}if(t.hasError)throw t.error}return n()}const s0e={__extends:rM,__assign:Xp,__rest:iM,__decorate:sM,__param:oM,__metadata:aM,__awaiter:lM,__generator:cM,__createBinding:w2,__exportStar:uM,__values:Qp,__read:n_,__spread:hM,__spreadArrays:dM,__spreadArray:fM,__await:ru,__asyncGenerator:pM,__asyncDelegator:mM,__asyncValues:gM,__makeTemplateObject:vM,__importStar:yM,__importDefault:_M,__classPrivateFieldGet:xM,__classPrivateFieldSet:bM,__classPrivateFieldIn:wM,__addDisposableResource:SM,__disposeResources:EM},o0e=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:SM,get __assign(){return Xp},__asyncDelegator:mM,__asyncGenerator:pM,__asyncValues:gM,__await:ru,__awaiter:lM,__classPrivateFieldGet:xM,__classPrivateFieldIn:wM,__classPrivateFieldSet:bM,__createBinding:w2,__decorate:sM,__disposeResources:EM,__esDecorate:J3e,__exportStar:uM,__extends:rM,__generator:cM,__importDefault:_M,__importStar:yM,__makeTemplateObject:vM,__metadata:aM,__param:oM,__propKey:t0e,__read:n_,__rest:iM,__runInitializers:e0e,__setFunctionName:n0e,__spread:hM,__spreadArray:fM,__spreadArrays:dM,__values:Qp,default:s0e},Symbol.toStringTag,{value:"Module"})),r_=ov(o0e);var ba={},qE;function i_(){return qE||(qE=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.HEARTBEAT_INTERVAL=ba.API_URL=void 0,ba.API_URL="api.lanyard.rest",ba.HEARTBEAT_INTERVAL=3e4),ba}var wa={},YE;function a0e(){if(YE)return wa;YE=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.del=wa.set=void 0;var t=r_,e=i_(),n=function(i){var s=i.apiKey,o=i.key,a=i.userId,l=i.value,c=i.apiUrl;return t.__awaiter(void 0,void 0,void 0,function(){return t.__generator(this,function(h){return[2,fetch("https://".concat(c||e.API_URL,"/v1/users/").concat(a,"/kv/").concat(o),{method:"PUT",headers:{Authorization:s},body:l})]})})};wa.set=n;var r=function(i){var s=i.apiKey,o=i.key,a=i.userId,l=i.apiUrl;return t.__awaiter(void 0,void 0,void 0,function(){return t.__generator(this,function(c){return[2,fetch("https://".concat(l||e.API_URL,"/v1/users/").concat(a,"/kv/").concat(o),{method:"DELETE",headers:{Authorization:s}})]})})};return wa.del=r,wa}var yh={},TM={exports:{}},LM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=P;function l0e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var c0e=typeof Object.is=="function"?Object.is:l0e,u0e=iu.useState,h0e=iu.useEffect,d0e=iu.useLayoutEffect,f0e=iu.useDebugValue;function p0e(t,e){var n=e(),r=u0e({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return d0e(function(){i.value=n,i.getSnapshot=e,N6(i)&&s({inst:i})},[t,n,e]),h0e(function(){return N6(i)&&s({inst:i}),t(function(){N6(i)&&s({inst:i})})},[t]),f0e(n),n}function N6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!c0e(t,n)}catch{return!0}}function m0e(t,e){return e()}var g0e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m0e:p0e;LM.useSyncExternalStore=iu.useSyncExternalStore!==void 0?iu.useSyncExternalStore:g0e;TM.exports=LM;var v0e=TM.exports;const Ao=()=>{},ir=Ao(),_0=Object,it=t=>t===ir,Ei=t=>typeof t=="function",eo=(t,e)=>({...t,...e}),y0e=t=>Ei(t.then),N3=new WeakMap;let _0e=0;const Gd=t=>{const e=typeof t,n=t&&t.constructor,r=n==Date;let i,s;if(_0(t)===t&&!r&&n!=RegExp){if(i=N3.get(t),i)return i;if(i=++_0e+"~",N3.set(t,i),n==Array){for(i="@",s=0;s<t.length;s++)i+=Gd(t[s])+",";N3.set(t,i)}if(n==_0){i="#";const o=_0.keys(t).sort();for(;!it(s=o.pop());)it(t[s])||(i+=s+":"+Gd(t[s])+",");N3.set(t,i)}}else i=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},Ji=new WeakMap,F6={},F3={},s_="undefined",S2=typeof window!=s_,x7=typeof document!=s_,x0e=()=>S2&&typeof window.requestAnimationFrame!=s_,CM=(t,e)=>{const n=Ji.get(t);return[()=>!it(e)&&t.get(e)||F6,r=>{if(!it(e)){const i=t.get(e);e in F3||(F3[e]=i),n[5](e,eo(i,r),i||F6)}},n[6],()=>!it(e)&&e in F3?F3[e]:!it(e)&&t.get(e)||F6]};let b7=!0;const b0e=()=>b7,[w7,S7]=S2&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ao,Ao],w0e=()=>{const t=x7&&document.visibilityState;return it(t)||t!=="hidden"},S0e=t=>(x7&&document.addEventListener("visibilitychange",t),w7("focus",t),()=>{x7&&document.removeEventListener("visibilitychange",t),S7("focus",t)}),E0e=t=>{const e=()=>{b7=!0,t()},n=()=>{b7=!1};return w7("online",e),w7("offline",n),()=>{S7("online",e),S7("offline",n)}},T0e={isOnline:b0e,isVisible:w0e},L0e={initFocus:S0e,initReconnect:E0e},ZE=!Cn.useId,Hd=!S2||"Deno"in window,C0e=t=>x0e()?window.requestAnimationFrame(t):setTimeout(t,1),x0=Hd?P.useEffect:P.useLayoutEffect,$6=typeof navigator<"u"&&navigator.connection,XE=!Hd&&$6&&(["slow-2g","2g"].includes($6.effectiveType)||$6.saveData),If=t=>{if(Ei(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Gd(t):"",[t,e]};let k0e=0;const E7=()=>++k0e,kM=0,AM=1,IM=2,A0e=3;var _h={__proto__:null,ERROR_REVALIDATE_EVENT:A0e,FOCUS_EVENT:kM,MUTATE_EVENT:IM,RECONNECT_EVENT:AM};async function PM(...t){const[e,n,r,i]=t,s=eo({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=s.populateCache;const a=s.rollbackOnError;let l=s.optimisticData;const c=f=>typeof a=="function"?a(f):a!==!1,h=s.throwOnError;if(Ei(n)){const f=n,m=[],g=e.keys();for(const v of g)!/^\$(inf|sub)\$/.test(v)&&f(e.get(v)._k)&&m.push(v);return Promise.all(m.map(d))}return d(n);async function d(f){const[m]=If(f);if(!m)return;const[g,v]=CM(e,m),[_,x,b,w]=Ji.get(e),T=()=>{const j=_[m];return(Ei(s.revalidate)?s.revalidate(g().data,f):s.revalidate!==!1)&&(delete b[m],delete w[m],j&&j[0])?j[0](IM).then(()=>g().data):g().data};if(t.length<3)return T();let C=r,I;const M=E7();x[m]=[M,0];const A=!it(l),O=g(),N=O.data,z=O._c,H=it(z)?N:z;if(A&&(l=Ei(l)?l(H,N):l,v({data:l,_c:H})),Ei(C))try{C=C(H)}catch(j){I=j}if(C&&y0e(C))if(C=await C.catch(j=>{I=j}),M!==x[m][0]){if(I)throw I;return C}else I&&A&&c(I)&&(o=!0,v({data:H,_c:ir}));if(o&&!I)if(Ei(o)){const j=o(C,H);v({data:j,error:ir,_c:ir})}else v({data:C,error:ir,_c:ir});if(x[m][1]=E7(),Promise.resolve(T()).then(()=>{v({_c:ir})}),I){if(h)throw I;return}return C}}const QE=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},RM=(t,e)=>{if(!Ji.has(t)){const n=eo(L0e,e),r={},i=PM.bind(ir,t);let s=Ao;const o={},a=(h,d)=>{const f=o[h]||[];return o[h]=f,f.push(d),()=>f.splice(f.indexOf(d),1)},l=(h,d,f)=>{t.set(h,d);const m=o[h];if(m)for(const g of m)g(d,f)},c=()=>{if(!Ji.has(t)&&(Ji.set(t,[r,{},{},{},i,l,a]),!Hd)){const h=n.initFocus(setTimeout.bind(ir,QE.bind(ir,r,kM))),d=n.initReconnect(setTimeout.bind(ir,QE.bind(ir,r,AM)));s=()=>{h&&h(),d&&d(),Ji.delete(t)}}};return c(),[t,i,c,s]}return[t,Ji.get(t)[4]]},I0e=(t,e,n,r,i)=>{const s=n.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!it(s)&&o>s||setTimeout(r,a,i)},P0e=(t,e)=>Gd(t)==Gd(e),[E2,MM]=RM(new Map),DM=eo({onLoadingSlow:Ao,onSuccess:Ao,onError:Ao,onErrorRetry:I0e,onDiscarded:Ao,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:XE?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:XE?5e3:3e3,compare:P0e,isPaused:()=>!1,cache:E2,mutate:MM,fallback:{}},T0e),OM=(t,e)=>{const n=eo(t,e);if(e){const{use:r,fallback:i}=t,{use:s,fallback:o}=e;r&&s&&(n.use=r.concat(s)),i&&o&&(n.fallback=eo(i,o))}return n},T7=P.createContext({}),R0e=t=>{const{value:e}=t,n=P.useContext(T7),r=Ei(e),i=P.useMemo(()=>r?e(n):e,[r,n,e]),s=P.useMemo(()=>r?i:OM(n,i),[r,n,i]),o=i&&i.provider,a=P.useRef(ir);o&&!a.current&&(a.current=RM(o(s.cache||E2),i));const l=a.current;return l&&(s.cache=l[0],s.mutate=l[1]),x0(()=>{if(l)return l[2]&&l[2](),l[3]},[]),P.createElement(T7.Provider,eo(t,{value:s}))},M0e="$inf$",NM=S2&&window.__SWR_DEVTOOLS_USE__,D0e=NM?window.__SWR_DEVTOOLS_USE__:[],O0e=()=>{NM&&(window.__SWR_DEVTOOLS_REACT__=Cn)},N0e=t=>Ei(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],FM=()=>eo(DM,P.useContext(T7)),F0e=(t,e)=>{const[n,r]=If(t),[,,,i]=Ji.get(E2);if(i[n])return i[n];const s=e(r);return i[n]=s,s},$0e=t=>(e,n,r)=>t(e,n&&((...s)=>{const[o]=If(e),[,,,a]=Ji.get(E2);if(o.startsWith(M0e))return n(...s);const l=a[o];return it(l)?n(...s):(delete a[o],l)}),r),z0e=D0e.concat($0e),B0e=t=>function(...n){const r=FM(),[i,s,o]=N0e(n),a=OM(r,o);let l=t;const{use:c}=a,h=(c||[]).concat(z0e);for(let d=h.length;d--;)l=h[d](l);return l(i,s||a.fetcher||null,a)},U0e=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};O0e();const j0e=t=>If(t)[0],JE=Cn.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),z6={dedupe:!0},V0e=(t,e,n)=>{const{cache:r,compare:i,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:h,refreshWhenOffline:d,keepPreviousData:f}=n,[m,g,v,_]=Ji.get(r),[x,b]=If(t),w=P.useRef(!1),T=P.useRef(!1),C=P.useRef(x),I=P.useRef(e),M=P.useRef(n),A=()=>M.current,O=()=>A().isVisible()&&A().isOnline(),[N,z,H,j]=CM(r,x),Z=P.useRef({}).current,te=it(o)?n.fallback[x]:o,G=(Pe,De)=>{for(const Oe in Z){const Ge=Oe;if(Ge==="data"){if(!i(Pe[Ge],De[Ge])&&(!it(Pe[Ge])||!i(de,De[Ge])))return!1}else if(De[Ge]!==Pe[Ge])return!1}return!0},ie=P.useMemo(()=>{const Pe=!x||!e?!1:it(a)?A().isPaused()||s?!1:it(l)?!0:l:a,De=hn=>{const ur=eo(hn);return delete ur._k,Pe?{isValidating:!0,isLoading:!0,...ur}:ur},Oe=N(),Ge=j(),nn=De(Oe),Ur=Oe===Ge?nn:De(Ge);let ut=nn;return[()=>{const hn=De(N());return G(hn,ut)?(ut.data=hn.data,ut.isLoading=hn.isLoading,ut.isValidating=hn.isValidating,ut.error=hn.error,ut):(ut=hn,hn)},()=>Ur]},[r,x]),U=v0e.useSyncExternalStore(P.useCallback(Pe=>H(x,(De,Oe)=>{G(Oe,De)||Pe()}),[r,x]),ie[0],ie[1]),W=!w.current,F=m[x]&&m[x].length>0,q=U.data,re=it(q)?te:q,le=U.error,he=P.useRef(re),de=f?it(q)?he.current:q:re,ce=F&&!it(le)?!1:W&&!it(a)?a:A().isPaused()?!1:s?it(re)?!1:l:it(re)||l,Se=!!(x&&e&&W&&ce),Xe=it(U.isValidating)?Se:U.isValidating,Qt=it(U.isLoading)?Se:U.isLoading,$t=P.useCallback(async Pe=>{const De=I.current;if(!x||!De||T.current||A().isPaused())return!1;let Oe,Ge,nn=!0;const Ur=Pe||{},ut=!v[x]||!Ur.dedupe,hn=()=>ZE?!T.current&&x===C.current&&w.current:x===C.current,ur={isValidating:!1,isLoading:!1},ps=()=>{z(ur)},aa=()=>{const Un=v[x];Un&&Un[1]===Ge&&delete v[x]},la={isValidating:!0};it(N().data)&&(la.isLoading=!0);try{if(ut&&(z(la),n.loadingTimeout&&it(N().data)&&setTimeout(()=>{nn&&hn()&&A().onLoadingSlow(x,n)},n.loadingTimeout),v[x]=[De(b),E7()]),[Oe,Ge]=v[x],Oe=await Oe,ut&&setTimeout(aa,n.dedupingInterval),!v[x]||v[x][1]!==Ge)return ut&&hn()&&A().onDiscarded(x),!1;ur.error=ir;const Un=g[x];if(!it(Un)&&(Ge<=Un[0]||Ge<=Un[1]||Un[1]===0))return ps(),ut&&hn()&&A().onDiscarded(x),!1;const Sr=N().data;ur.data=i(Sr,Oe)?Sr:Oe,ut&&hn()&&A().onSuccess(Oe,x,n)}catch(Un){aa();const Sr=A(),{shouldRetryOnError:Er}=Sr;Sr.isPaused()||(ur.error=Un,ut&&hn()&&(Sr.onError(Un,x,Sr),(Er===!0||Ei(Er)&&Er(Un))&&(!A().revalidateOnFocus||!A().revalidateOnReconnect||O())&&Sr.onErrorRetry(Un,x,Sr,Fi=>{const ms=m[x];ms&&ms[0]&&ms[0](_h.ERROR_REVALIDATE_EVENT,Fi)},{retryCount:(Ur.retryCount||0)+1,dedupe:!0})))}return nn=!1,ps(),!0},[x,r]),At=P.useCallback((...Pe)=>PM(r,C.current,...Pe),[]);if(x0(()=>{I.current=e,M.current=n,it(q)||(he.current=q)}),x0(()=>{if(!x)return;const Pe=$t.bind(ir,z6);let De=0;const Ge=U0e(x,m,(nn,Ur={})=>{if(nn==_h.FOCUS_EVENT){const ut=Date.now();A().revalidateOnFocus&&ut>De&&O()&&(De=ut+A().focusThrottleInterval,Pe())}else if(nn==_h.RECONNECT_EVENT)A().revalidateOnReconnect&&O()&&Pe();else{if(nn==_h.MUTATE_EVENT)return $t();if(nn==_h.ERROR_REVALIDATE_EVENT)return $t(Ur)}});return T.current=!1,C.current=x,w.current=!0,z({_k:b}),ce&&(it(re)||Hd?Pe():C0e(Pe)),()=>{T.current=!0,Ge()}},[x]),x0(()=>{let Pe;function De(){const Ge=Ei(c)?c(N().data):c;Ge&&Pe!==-1&&(Pe=setTimeout(Oe,Ge))}function Oe(){!N().error&&(h||A().isVisible())&&(d||A().isOnline())?$t(z6).then(De):De()}return De(),()=>{Pe&&(clearTimeout(Pe),Pe=-1)}},[c,h,d,x]),P.useDebugValue(de),s&&it(re)&&x){if(!ZE&&Hd)throw new Error("Fallback data is required when using suspense in SSR.");I.current=e,M.current=n,T.current=!1;const Pe=_[x];if(!it(Pe)){const De=At(Pe);JE(De)}if(it(le)){const De=$t(z6);it(de)||(De.status="fulfilled",De.value=!0),JE(De)}else throw le}return{mutate:At,get data(){return Z.data=!0,de},get error(){return Z.error=!0,le},get isValidating(){return Z.isValidating=!0,Xe},get isLoading(){return Z.isLoading=!0,Qt}}},G0e=_0.defineProperty(R0e,"defaultValue",{value:DM}),H0e=B0e(V0e),W0e=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:G0e,default:H0e,mutate:MM,preload:F0e,unstable_serialize:j0e,useSWRConfig:FM},Symbol.toStringTag,{value:"Module"})),K0e=ov(W0e);var e9;function q0e(){if(e9)return yh;e9=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.useLanyard=void 0;var t=r_,e=P,n=t.__importDefault(K0e),r=i_(),i=function(s){var o=s.apiUrl||r.API_URL;if(s.socket){var a=(0,e.useState)(),l=a[0],c=a[1],h=(0,e.useState)(),d=h[0],f=h[1],m=(0,e.useState)(!0),g=m[0],v=m[1];return(0,e.useEffect)(function(){var _="WebSocket"in window||"MozWebSocket"in window;if(s.socket&&!_)throw new Error("Browser doesn't support WebSocket connections.");var x=typeof s.userId=="object"?"subscribe_to_ids":"subscribe_to_id",b,w,T=function(){b&&clearInterval(b),w=new WebSocket("wss://".concat(o,"/socket")),f(w),v(!0),w.addEventListener("open",function(){var C;w.send(JSON.stringify({op:2,d:(C={},C[x]=s.userId,C)})),b=setInterval(function(){w.send(JSON.stringify({op:3}))},r.HEARTBEAT_INTERVAL)}),w.addEventListener("message",function(C){var I=C.data,M=JSON.parse(I),A=M.t,O=M.d;(A==="INIT_STATE"||A==="PRESENCE_UPDATE")&&(c(O||{}),g&&v(!1))}),w.addEventListener("close",T)};return T(),function(){clearInterval(b),w.removeEventListener("close",T),w.close()}},[]),{websocket:d,loading:g,status:l}}else return typeof s.userId=="string"?(0,n.default)("lanyard_".concat(s.userId),function(){return t.__awaiter(void 0,void 0,void 0,function(){var _,x;return t.__generator(this,function(b){switch(b.label){case 0:return[4,fetch("https://".concat(o,"/v1/users/").concat(s.userId))];case 1:return _=b.sent(),[4,_.json()];case 2:if(x=b.sent(),x.error)throw new Error(x.error.message);return[2,x]}})})}):(0,n.default)("lanyard_".concat(s.userId.join("_")),function(){return t.__awaiter(void 0,void 0,void 0,function(){var _,x,b,w,T,C;return t.__generator(this,function(I){switch(I.label){case 0:_=[],x=0,b=s.userId,I.label=1;case 1:return x<b.length?(w=b[x],[4,fetch("https://".concat(o,"/v1/users/").concat(w))]):[3,5];case 2:return T=I.sent(),[4,T.json()];case 3:if(C=I.sent(),C.error)throw new Error(C.error.message);_.push(C),I.label=4;case 4:return x++,[3,1];case 5:return[2,_]}})})})};return yh.useLanyard=i,yh}var B6={},t9;function Y0e(){return t9||(t9=1,Object.defineProperty(B6,"__esModule",{value:!0})),B6}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=r_;e.__exportStar(i_(),t),e.__exportStar(a0e(),t),e.__exportStar(q0e(),t),e.__exportStar(Y0e(),t)})(Zp);const $M=P.createContext(),zM=P.createContext(),BM=()=>P.useContext($M),Z0e=()=>P.useContext(zM),Os=async(t,e={},n=3,r=300)=>{try{const i=await fetch(t,e);if(!i.ok){if(i.status===429){const s=i.headers.get("Retry-After"),o=s?parseInt(s)*1e3:r;console.warn(`Rate limited. Retrying after ${o} ms`),await new Promise(a=>setTimeout(a,o))}if(n>0)return await new Promise(s=>setTimeout(s,r)),Os(t,e,n-1,r*2);throw new Error(`Failed to fetch: ${i.statusText}`)}return i.json()}catch(i){throw console.error(`Fetch error for ${t}:`,i),i}},X0e=({children:t})=>{const[e,n]=P.useState({twitch:[],kick:[]}),{specialStreamers:r,favorites:i}=Qn(m=>m.utils),[s,o]=P.useState([]),[a,l]=P.useState(!0),c=P.useCallback(async m=>{try{const g=m.streamers.twitch.slice(0,100),v=async A=>{const O=`https://api.twitch.tv/helix/channels/followers?broadcaster_id=${A}`;try{return(await Os(O,{headers:ss.twitch})).total||0}catch(N){return console.error(`Error fetching follower count for ${A}:`,N),0}},_=`https://api.twitch.tv/helix/streams?user_login=${g.join("&user_login=")}`,x=`https://api.twitch.tv/helix/users?login=${g.join("&login=")}`,[b,w]=await Promise.all([Os(_,{headers:ss.twitch}),Os(x,{headers:ss.twitch})]);if(!b.data||!w.data)throw new Error("Invalid Twitch API response");const T=b.data,C=w.data,I=[];return(await Promise.allSettled(C.map(async A=>{try{const O=T.find(H=>H.user_id===A.id),N=await v(A.id),z=m.gameWords.some(H=>O==null?void 0:O.title.toLowerCase().includes(H.toLowerCase()))&&(O==null?void 0:O.game_name)==="Grand Theft Auto V";return z&&I.push(A.id),{uptime:O!=null&&O.started_at?$0(O.started_at):"",viewers:(O==null?void 0:O.viewer_count)||0,avatar:A.profile_image_url,game:(O==null?void 0:O.game_name)||"",created_at:z0(A.created_at),title:(O==null?void 0:O.title)||"",verified:(A==null?void 0:A.broadcaster_type)==="partner",followers:N,characters:m.characters.filter(H=>H.streamer.toLowerCase()===A.display_name.toLowerCase()),name:A.display_name,slug:A.display_name,bio:A.description,tags:O==null?void 0:O.tags,inGame:z,live:!!O,id:Number(A.id),platform:"twitch"}}catch(O){return console.error(`Error processing Twitch user ${A.id}:`,O),null}}))).filter(A=>A.status==="fulfilled"&&A.value).map(A=>A.value)}catch(g){return console.error("Error fetching Twitch streamers:",g),[]}},[]),h=P.useCallback(async m=>{try{const g=[],v=async w=>{var T,C,I,M;try{const A=await Os(`https://kick.com/api/v2/channels/${w}`);if(!A)return null;const O=A,N=m.gameWords.some(z=>{var H;return(H=O.livestream)==null?void 0:H.session_title.toLowerCase().includes(z.toLowerCase())})&&((T=O.livestream)==null?void 0:T.categories[0].slug.replaceAll("-"," ").toLowerCase())==="grand theft auto v";return N&&g.push(O.user.id),{uptime:O.livestream&&cL(O.livestream.start_time),viewers:(C=O.livestream)==null?void 0:C.viewer_count,avatar:O.user.profile_pic||"https://dbxmjjzl5pc1g.cloudfront.net/de48cbf6-5d74-4da5-b8bf-793cc7787a4a/images/user-profile-pic.png",game:((I=O.livestream)==null?void 0:I.categories[0].slug.replaceAll("-"," "))||"",created_at:z0(O.user.email_verified_at),title:((M=O.livestream)==null?void 0:M.session_title)||"",followers:O.followers_count||0,name:O.user.username,slug:O.slug,verified:O.verified,characters:m.characters.filter(z=>z.streamer.toLowerCase()===O.user.username.toLowerCase()),bio:O.user.bio||"",live:!!O.livestream,inGame:N,playback:O.playback_url&&O.playback_url,id:Number(O.user.id),platform:"kick"}}catch(A){return console.error("Error fetching Kick streamers:",A),null}},_=m.streamers.kick.map(w=>v(w));return(await Promise.all(_)).filter(w=>w!==null)}catch(g){return console.error("Error fetching Kick streamers:",g),[]}},[]),d=P.useCallback(async(m,g)=>{l(!0);try{const[v,_]=await Promise.all([c(m,g.filter(x=>x.platform==="twitch").map(x=>x.name)),h(m,g.filter(x=>x.platform==="kick").map(x=>x.name))]);n({twitch:v,kick:_})}catch(v){console.error("Error fetching all streamers:",v)}finally{l(!1)}},[c,h]);P.useEffect(()=>{const g=Is([...e.twitch,...e.kick]).sort((v,_)=>{const x=r.twitch.includes(v.name.toLowerCase())||r.kick.includes(v.name.toLowerCase()),b=r.twitch.includes(_.name.toLowerCase())||r.kick.includes(_.name.toLowerCase()),w=i.some(C=>C.name.toLowerCase()===v.name.toLowerCase()&&C.platform===v.platform),T=i.some(C=>C.name.toLowerCase()===_.name.toLowerCase()&&C.platform===_.platform);if(x&&v.live&&(!b||!_.live))return-1;if(b&&_.live&&(!x||!v.live))return 1;if(v.live&&!_.live)return-1;if(!v.live&&_.live)return 1;if(v.inGame&&!_.inGame)return-1;if(!v.inGame&&_.inGame)return 1;if(w&&!T)return-1;if(!w&&T)return 1;if(!v.live&&!_.live){const C=(v.platform==="twitch"?v.followers:0)+(v.platform==="kick"?v.followers:0);return(_.platform==="twitch"?_.followers:0)+(_.platform==="kick"?_.followers:0)-C}return _.viewers-v.viewers});o(g)},[e,r,i]);const f=s&&s.filter(m=>m.live);return E.jsx($M.Provider,{value:{streamers:s,liveStreamers:f,fetchAllStreamers:d,loading:a},children:t})},Q0e=({children:t})=>{const[e,n]=P.useState({twitch:[],kick:[]}),[r,i]=P.useState([]),[s,o]=P.useState(!0),a=P.useCallback(async d=>{try{const f=async T=>{const C=`https://api.twitch.tv/helix/channels/followers?broadcaster_id=${T}`;try{return(await Os(C,{headers:ss.twitch})).total||0}catch(I){return console.error(`Error fetching follower count for ${T}:`,I),0}},m=`https://api.twitch.tv/helix/streams?user_login=${d.join("&user_login=")}`,g=`https://api.twitch.tv/helix/users?login=${d.join("&login=")}`,[v,_]=await Promise.all([Os(m,{headers:ss.twitch}),Os(g,{headers:ss.twitch})]);if(!v.data||!_.data)throw new Error("Invalid Twitch API response");const x=v.data,b=_.data;return(await Promise.allSettled(b.map(async T=>{try{const C=x.find(M=>M.user_id===T.id),I=await f(T.id);return{uptime:C!=null&&C.started_at?$0(C.started_at):"",viewers:(C==null?void 0:C.viewer_count)||0,avatar:T.profile_image_url,game:(C==null?void 0:C.game_name)||"",created_at:z0(T.created_at),title:(C==null?void 0:C.title)||"",verified:(T==null?void 0:T.broadcaster_type)==="partner",followers:I,name:T.display_name,slug:T.display_name,bio:T.description,id:Number(T.id),tags:C==null?void 0:C.tags,live:!!C,platform:"twitch",inGame:!1}}catch(C){return console.error(`Error processing Twitch user ${T.id}:`,C),null}}))).filter(T=>T.status==="fulfilled"&&T.value).map(T=>T.value)}catch(f){return console.error("Error fetching Twitch streamers:",f),[]}},[]),l=P.useCallback(async d=>{try{const f=async _=>{var x,b,w;try{const T=await Os(`https://kick.com/api/v2/channels/${_}`);if(!T)return null;const C=T;return{uptime:C.livestream&&cL(C.livestream.start_time),viewers:(x=C.livestream)==null?void 0:x.viewer_count,avatar:C.user.profile_pic||"https://dbxmjjzl5pc1g.cloudfront.net/de48cbf6-5d74-4da5-b8bf-793cc7787a4a/images/user-profile-pic.png",game:((b=C.livestream)==null?void 0:b.categories[0].slug.replaceAll("-"," "))||"",created_at:z0(C.user.email_verified_at),title:((w=C.livestream)==null?void 0:w.session_title)||"",followers:C.followers_count||0,name:C.user.username,slug:C.slug,verified:C.verified,bio:C.user.bio||"",live:!!C.livestream,playback:C.playback_url&&C.playback_url,id:Number(C.user.id),inGame:!1,platform:"kick"}}catch(T){return console.error(`Error fetching Kick streamer ${_}:`,T),null}},m=d.map(_=>f(_));return(await Promise.all(m)).filter(_=>_!==null)}catch(f){return console.error("Error fetching Kick streamers:",f),[]}},[]),c=P.useCallback(async(d,f)=>{o(!0);try{const m=d.length?await a(d):[],g=f.length?await l(f):[];n({twitch:m,kick:g})}catch(m){console.error("Error fetching all streamers:",m)}finally{o(!1)}},[a,l]);P.useEffect(()=>{const f=Is([...e.twitch,...e.kick]).sort((m,g)=>m.live&&!g.live?-1:!m.live&&g.live?1:g.viewers-m.viewers);i(f)},[e]);const h=r&&r.filter(d=>d.live);return E.jsx(zM.Provider,{value:{streamers:r,liveStreamers:h,fetchAllStreamers:c,loading:s},children:t})};function n9({setSelectedServer:t,selectedServer:e,privateSpace:n,countdown:r,minimal:i,server:s}){var v,_;const[o,a]=P.useState(!1),[l,c]=P.useState(!1),{restartServer:h}=bl(),{liveStreamers:d}=BM();function f(x,b){if(x!==void 0&&!isNaN(b)){const w=parseInt(x),T=parseInt(b),I=(w>0?T/w*100:0).toFixed(),M=parseInt(I.slice(-1));let A;switch(M){case 0:A="'ı";break;case 1:A="'i";break;case 2:A="'si";break;case 3:A="'ü";break;case 4:A="'ü";break;case 5:A="'i";break;case 6:A="'sı";break;case 7:A="'si";break;case 8:A="'i";break;case 9:A="'u";break;default:A="";break}return{ratio:I,suffix:A}}else return null}P.useEffect(()=>{s!=null&&s.code?fetch(`https://servers-frontend.fivem.net/api/servers/single/${s==null?void 0:s.code}`,{headers:{"Content-Type":"application/json"},mode:"cors"}).then(x=>{if(!x.ok)throw new Error("Network response was not ok");return x.json()}).then(x=>{var b;((b=x==null?void 0:x.Data)==null?void 0:b.clients)!==void 0?a({clients:x.Data.clients}):a({error:"Sunucu kapalı"})}).catch(()=>a({error:"Sunucu kapalı"})):a({error:"Oyuncu sayısı alınamadı"})},[s]);const m=o.clients!==void 0?E.jsxs("p",{className:"line-clamp-1",children:[o.clients," oyuncu aktif"]}):E.jsx("p",{className:"line-clamp-1",children:o.error}),g=E.jsxs("div",{className:"flex flex-col -space-y-0.5",children:[E.jsx("h3",{style:{color:(s==null?void 0:s.name)===e&&(s==null?void 0:s.color)},children:s==null?void 0:s.name.toUpperCase()}),E.jsxs("div",{className:Ye("flex items-center text-xs opacity-70 space-x-2 dark:text-white text-black",{"!text-black dark:!text-white":i}),children:[E.jsx(be,{size:16,name:"GTA"}),m,E.jsx("svg",{className:"fill-white opacity-80 flex-shrink-0","aria-hidden":"true",height:3,width:3,children:E.jsx("circle",{cx:1,cy:1,r:1})}),E.jsx(be,{size:16,name:"GroupFilled"}),E.jsxs("p",{className:"line-clamp-1",children:[s==null?void 0:s.streamersCount," yayıncı"]})]}),e===(s==null?void 0:s.name)&&d.filter(x=>x.inGame).length>0&&o&&o.clients>10&&E.jsxs("div",{className:"flex items-center text-xs opacity-70 space-x-2",children:["Aktif oyuncuların"," ",E.jsxs("span",{className:"text-server px-1 font-semibold",children:["%",(v=f(o.clients,d.length))==null?void 0:v.ratio,(_=f(o.clients,d.length))==null?void 0:_.suffix]}),"canlı yayında"]})]});return r?E.jsx("div",{className:"",children:g}):i?n?E.jsxs(Pp,{to:"@me",className:"flex flex-col -space-y-0.5 p-2",children:[E.jsx("h3",{className:"uppercase",children:"ÖZEL"}),E.jsx("div",{className:"flex items-center text-xs opacity-70 space-x-2 ",children:"İstediğin yayıncıları ekleyebilir, yayıncı içeriklerini takip edebilirsin"})]}):E.jsx("div",{className:"p-2",children:g}):n?E.jsxs(Pp,{to:"/@me",className:Ye("flex items-center gap-x-1 flex-auto w-full h-auto dark:text-white text-black border border-black/30 dark:border-white/[.15] rounded-3xl p-3 cursor-pointer relative overflow-hidden"),children:[E.jsx("div",{className:"w-[65px] h-[65px] flex-shrink-0 rounded-full flex items-center justify-center",children:E.jsx(be,{size:40,name:"Account"})}),E.jsxs("div",{className:"flex flex-col -space-y-0.5",children:[E.jsx("h3",{className:"uppercase",children:"ÖZEL"}),E.jsx("div",{className:"flex items-center text-xs opacity-70 space-x-2 ",children:"İstediğin yayıncıları ekleyebilir, yayıncı içeriklerini takip edebilirsin"})]})]}):E.jsxs("div",{className:Ye("flex items-center gap-x-3 flex-auto w-full h-auto border rounded-3xl p-3 cursor-pointer relative border-black/30 dark:border-white/[.15] overflow-hidden dark:text-white text-black"),onClick:()=>{t(s==null?void 0:s.name)},onMouseLeave:()=>c(!1),onMouseEnter:()=>c(!0),children:[(s==null?void 0:s.name)===e&&E.jsxs("div",{className:"absolute right-4 top-2/4 -translate-y-2/4 flex items-center gap-x-2",children:[E.jsx("div",{className:"h-12 w-12 flex-shrink-0 hover:bg-white/10 transition-all flex items-center justify-center rounded-full border border-black/30 dark:border-white/[.15] text-black dark:text-white cursor-pointer",onClick:()=>pn("SERVER_INFO",{title:s==null?void 0:s.name.toUpperCase(),position:"Right",server:s}),children:E.jsx(be,{size:23,name:"Info"})}),E.jsx("div",{className:"h-12 w-12 flex-shrink-0 hover:bg-white/10 transition-all flex items-center justify-center rounded-full border border-black/30 dark:border-white/[.15] text-black dark:text-white cursor-pointer",onClick:()=>h(),children:E.jsx(be,{size:23,name:"Sync"})})]}),E.jsx("img",{className:"w-[65px] h-[65px] flex-shrink-0 rounded-2xl",src:s==null?void 0:s.logo}),g]})}function UM({setSelectedServer:t,selectedServer:e,countdown:n,minimal:r,servers:i}){return P.useState(e),E.jsxs("div",{className:"w-full flex items-center overflow-hidden gap-x-6",children:[i.map((s,o)=>E.jsx(n9,{setSelectedServer:t,selectedServer:e,countdown:n,minimal:r,server:s},o)),E.jsx(n9,{minimal:r,privateSpace:!0})]})}function Ln({content:t,style:e,event:n,value:r,type:i,area:s,className:o,className2:a}){const{change:l,focus:c,blur:h}=n||{},[d,f]=P.useState(!1),[m,g]=P.useState(!1),v=P.useRef(null),{padding:_}=e||{},{text:x}=t||{},{icon:b}=t||{},{height:w}=e||{},{radius:T}=e||{},{width:C}=e||{},{color:I}=e||{},M=P.useRef(null),{theme:A}=yu();P.useEffect(()=>{const j=Z=>{v.current&&!v.current.contains(Z.target)&&g(!1)};return m&&document.addEventListener("click",j),()=>{document.removeEventListener("click",j)}},[m]);const O=Ye({[T==null?void 0:T.button]:T==null?void 0:T.button,"rounded-lg":!(T!=null&&T.button)}),N=Ye({[T==null?void 0:T.icon]:T==null?void 0:T.icon,"rounded-lg":!(T!=null&&T.icon)}),z=Ye({"h-auto":!w,[w]:w,"w-auto":!C,[C]:C});Ye({"p-2":!_,[_]:_});const H={border:I?`rgba(${kr(I.hex)}, 1)`:`${A==="dark"?"rgba(255,255,255, .15)":"rgba(0,0,0, .3)"}`,background:m?I?I.bg_transparent?"transparent":`rgba(${kr(I.hex)}, ${I.opacity+.1})`:"transparent":d?I?I.bg_transparent?"transparent":`rgba(${kr(I.hex)}, ${I.opacity+.1})`:"transparent":I?`rgba(${kr(I.hex)}, ${I.opacity})`:`${A==="dark"?"rgba(255,255,255, .05)":"rgba(0,0,0, .1)"}`};return E.jsxs($n.div,{initial:{opacity:0},animate:{opacity:1},ref:v,className:Ye(`flex items-center ${!x&&"justify-center"} gap-x-2 p-1 text-sm cursor-pointer text-black/80 hover:text-black dark:text-white/80 dark:hover:text-white transition-all duration-200 ease-linear ${o}`,O,z),onMouseLeave:()=>f(!1),onMouseEnter:()=>f(!0),style:{backgroundColor:H.background,border:d?`1px solid ${H.border}`:`1px solid ${A==="dark"?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)"}`},onClick:()=>g(!0),children:[b&&E.jsx("div",{style:{backgroundColor:d?`${H.border}`:`rgba(${A==="dark"?"255,255,255":"0,0,0"}, .05)`},className:Ye("transition-all duration-300 ease-linear w-10 h-10 flex items-center justify-center flex-shrink-0",N),children:E.jsx(be,{style:b.style&&b.style,size:b.size||24,name:b.name})}),E.jsx("input",{className:`w-full pr-2 pl-0.5 py-2 bg-transparent text-black/80 hover:text-black dark:text-white/80 dark:hover:text-white placeholder-black/80 dark:placeholder-white/80 text-sm !appearance-none  ${a}`,onChange:l||null,onFocus:c,onBlur:h,type:i||"text",placeholder:x,ref:M,value:r})]})}let $3;const J0e=new Uint8Array(16);function epe(){if(!$3&&($3=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$3))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $3(J0e)}const Pn=[];for(let t=0;t<256;++t)Pn.push((t+256).toString(16).slice(1));function tpe(t,e=0){return Pn[t[e+0]]+Pn[t[e+1]]+Pn[t[e+2]]+Pn[t[e+3]]+"-"+Pn[t[e+4]]+Pn[t[e+5]]+"-"+Pn[t[e+6]]+Pn[t[e+7]]+"-"+Pn[t[e+8]]+Pn[t[e+9]]+"-"+Pn[t[e+10]]+Pn[t[e+11]]+Pn[t[e+12]]+Pn[t[e+13]]+Pn[t[e+14]]+Pn[t[e+15]]}const npe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),r9={randomUUID:npe};function Wd(t,e,n){if(r9.randomUUID&&!e&&!t)return r9.randomUUID();t=t||{};const r=t.random||(t.rng||epe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tpe(r)}function jM({privateSpace:t}){const{startWatch:e,admin:n,watchs:r}=Qn(o=>o.utils),{spaceColor:i}=Qn(o=>o.space),{server:s}=bl();return E.jsx(E.Fragment,{children:E.jsxs("div",{className:"flex items-center justify-between gap-y-2 gap-x-4 sm:w-auto h-auto overflow-hidden",children:[E.jsxs("div",{className:"flex items-center gap-x-4 gap-y-2",children:[E.jsx(Ln,{className:"!w-auto !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",content:{text:"Adı, başlığı, karakteri",icon:{name:"Search"}},style:{radius:{icon:"rounded-xl",button:"rounded-2xl"},color:{hex:new _a("@me").include()&&i?i:s.color,opacity:1,bg_transparent:!0}},event:{change:o=>cn.dispatch(k$(o.target.value.toLowerCase()))}}),!t&&E.jsxs(E.Fragment,{children:[E.jsx(ft,{style:{radius:{icon:"rounded-xl",button:"rounded-2xl"},color:{hex:s.color,opacity:1,bg_transparent:!0}},className:"!w-auto  !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",link:"/map",content:{text:"Harita",icon:{name:"MapFilled"}}}),E.jsx(ft,{className:"!w-auto  !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",event:{click:()=>pn("REDDIT",{title:s.name.toUpperCase()+" Reddit gönderileri",position:"Left",server:s})},style:{radius:{icon:"rounded-xl",button:"rounded-2xl"},color:{hex:s.color,opacity:1,bg_transparent:!0}},content:{text:"Reddit",icon:{name:"Reddit"}}}),E.jsx(ft,{className:"!w-auto  !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",event:{click:()=>pn("SERVER_MEDIA",{title:s.name.toUpperCase()+" Twitter gönderileri",position:"Left"})},style:{radius:{icon:"rounded-xl",button:"rounded-2xl"},color:{hex:s.color,opacity:1,bg_transparent:!0}},content:{text:"Twitter",icon:{name:"Twitter"}}})]})]}),E.jsxs("div",{className:"flex items-center gap-x-4 gap-y-2",children:[e&&r.length>0&&E.jsx(ft,{style:{radius:{icon:"rounded-xl",button:"rounded-2xl"},color:{bg_transparent:!0,hex:new _a("@me").include()&&i?i:s.color,opacity:1}},className:"!w-auto  !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",link:"/watch/"+Wd(),content:{text:"Seyir partisini başlat",icon:{name:"Eye"}}}),E.jsx(ft,{className:"!w-auto  !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",event:{click:()=>cn.dispatch(mv(!e))},style:{radius:{icon:"rounded-xl",button:"rounded-2xl"},color:{hex:new _a("@me").include()&&i?i:s.color,opacity:1,bg_transparent:!0}},content:{text:e?"Seyir partisinden çık":"Seyir partisi",icon:{name:e?"Close":"GroupFilled"}}}),!t&&E.jsxs(E.Fragment,{children:[s.qa&&E.jsx(ft,{className:"!w-auto  !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",event:{click:()=>pn("QA",{title:"Etkinlik: Soru cevap",position:"BottomLeft",server:s,qaTitle:s.qa.title,id:s.qa.id})},content:{text:"Soru cevap",icon:{name:"QA"}},style:{radius:{icon:"rounded-xl",button:"rounded-2xl"},color:{hex:s.color,opacity:1,bg_transparent:!0}}}),s.poll&&E.jsx(ft,{className:"!w-auto  !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",event:{click:()=>pn("POLL",{title:"Etkinlik: Anket",server:s})},content:{text:"Anket",icon:{name:"Poll"}},style:{radius:{icon:"rounded-xl",button:"rounded-2xl"},color:{hex:s.color,opacity:1,bg_transparent:!0}}})]}),t&&E.jsx(ft,{style:{color:{hex:new _a("@me").include()&&i?i:s.color,bg_transparent:!0,opacity:1},radius:{icon:"rounded-xl",button:"rounded-2xl"}},className:"!w-auto !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",event:{click:()=>pn("SPACE_PANEL",{title:"Yönetici paneli"})},content:{text:"Panel",icon:{name:"AdminFilled"}}}),E.jsx(ft,{style:{radius:{icon:"rounded-xl",button:"rounded-2xl"},color:{hex:new _a("@me").include()&&i?i:s.color,opacity:1,bg_transparent:!0}},className:"!w-auto !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",event:{click:()=>pn("CONTACT",{title:"İletişim",server:s})},content:{text:"İletişim",icon:{name:"SupportFilled"}}}),!t&&n&&E.jsx(ft,{style:{color:{hex:s.color,bg_transparent:!0,opacity:1},radius:{icon:"rounded-xl",button:"rounded-2xl"}},className:"!w-auto !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",event:{click:()=>pn("PANEL",{title:"Yönetici paneli",server:s})},content:{icon:{name:"AdminFilled"}}}),E.jsx(ft,{style:{radius:{icon:"rounded-xl",button:"rounded-2xl"},color:{bg_transparent:!0,hex:new _a("@me").include()&&i?i:s.color,opacity:1}},className:"!w-auto !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",event:{click:()=>pn("SETTINGS",{title:"Ayarlar",server:s})},content:{icon:{name:"SettingsFilled"}}}),t&&E.jsx(ft,{link:"/",style:{radius:{icon:"rounded-xl",button:"rounded-2xl"},color:{bg_transparent:!0,hex:new _a("@me").include()&&i?i:s.color,opacity:1}},className:"!w-auto !bg-white/50 dark:!bg-black/40 hover:!bg-transparent",content:{icon:{name:"Return"}}})]})]})})}function rpe(){const{setSelectedServer:t,selectedServer:e,servers:n,server:r}=bl(),{minimal:i}=Qn(s=>s.utils);return E.jsxs("div",{className:Ye("w-full h-auto px-8 pt-8 pb-0 space-y-6 flex flex-col"),children:[r&&E.jsx(jM,{}),E.jsx(UM,{setSelectedServer:t,selectedServer:e,servers:n,minimal:i})]})}var VM={exports:{}},ipe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",spe=ipe,ope=spe;function GM(){}function HM(){}HM.resetWarningCache=GM;var ape=function(){function t(r,i,s,o,a,l){if(l!==ope){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:HM,resetWarningCache:GM};return n.PropTypes=n,n};VM.exports=ape();var lpe=VM.exports;const Ot=to(lpe);function cpe(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var WM=P,upe=cpe(WM);function i9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hpe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var dpe=!!(typeof window<"u"&&window.document&&window.document.createElement);function fpe(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=t(o.map(function(h){return h.props})),c.canUseDOM?e(a):n&&(a=n(a))}var c=function(h){hpe(d,h);function d(){return h.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,o=[],g};var f=d.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),l()},f.componentDidUpdate=function(){l()},f.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),l()},f.render=function(){return upe.createElement(s,this.props)},d}(WM.PureComponent);return i9(c,"displayName","SideEffect("+r(s)+")"),i9(c,"canUseDOM",dpe),c}}var ppe=fpe;const mpe=to(ppe);var gpe=typeof Element<"u",vpe=typeof Map=="function",ype=typeof Set=="function",_pe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function b0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!b0(t[r],e[r]))return!1;return!0}var s;if(vpe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!b0(r.value[1],e.get(r.value[0])))return!1;return!0}if(ype&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(_pe&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(gpe&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!b0(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var xpe=function(e,n){try{return b0(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const bpe=to(xpe);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s9=Object.getOwnPropertySymbols,wpe=Object.prototype.hasOwnProperty,Spe=Object.prototype.propertyIsEnumerable;function Epe(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Tpe(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Lpe=Tpe()?Object.assign:function(t,e){for(var n,r=Epe(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)wpe.call(n,o)&&(r[o]=n[o]);if(s9){i=s9(n);for(var a=0;a<i.length;a++)Spe.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const Cpe=to(Lpe);var Za={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Fe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Fe).map(function(t){return Fe[t]});var Nt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Jp={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Kd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},kpe=Object.keys(Jp).reduce(function(t,e){return t[Jp[e]]=e,t},{}),Ape=[Fe.NOSCRIPT,Fe.SCRIPT,Fe.STYLE],Li="data-react-helmet",Ipe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ppe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Rpe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mpe=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},o9=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Dpe=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},L7=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Ope=function(e){var n=Mc(e,Fe.TITLE),r=Mc(e,Kd.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Mc(e,Kd.DEFAULT_TITLE);return n||i||void 0},Npe=function(e){return Mc(e,Kd.ON_CHANGE_CLIENT_STATE)||function(){}},U6=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return fr({},r,i)},{})},Fpe=function(e,n){return n.filter(function(r){return typeof r[Fe.BASE]<"u"}).map(function(r){return r[Fe.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(e.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},xh=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&Upe("Helmet: "+e+' should be of type "Array". Instead found type "'+Ipe(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var a={};o.filter(function(f){for(var m=void 0,g=Object.keys(f),v=0;v<g.length;v++){var _=g[v],x=_.toLowerCase();n.indexOf(x)!==-1&&!(m===Nt.REL&&f[m].toLowerCase()==="canonical")&&!(x===Nt.REL&&f[x].toLowerCase()==="stylesheet")&&(m=x),n.indexOf(_)!==-1&&(_===Nt.INNER_HTML||_===Nt.CSS_TEXT||_===Nt.ITEM_PROP)&&(m=_)}if(!m||!f[m])return!1;var b=f[m].toLowerCase();return i[m]||(i[m]={}),a[m]||(a[m]={}),i[m][b]?!1:(a[m][b]=!0,!0)}).reverse().forEach(function(f){return s.push(f)});for(var l=Object.keys(a),c=0;c<l.length;c++){var h=l[c],d=Cpe({},i[h],a[h]);i[h]=d}return s},[]).reverse()},Mc=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},$pe=function(e){return{baseTag:Fpe([Nt.HREF,Nt.TARGET],e),bodyAttributes:U6(Za.BODY,e),defer:Mc(e,Kd.DEFER),encode:Mc(e,Kd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:U6(Za.HTML,e),linkTags:xh(Fe.LINK,[Nt.REL,Nt.HREF],e),metaTags:xh(Fe.META,[Nt.NAME,Nt.CHARSET,Nt.HTTPEQUIV,Nt.PROPERTY,Nt.ITEM_PROP],e),noscriptTags:xh(Fe.NOSCRIPT,[Nt.INNER_HTML],e),onChangeClientState:Npe(e),scriptTags:xh(Fe.SCRIPT,[Nt.SRC,Nt.INNER_HTML],e),styleTags:xh(Fe.STYLE,[Nt.CSS_TEXT],e),title:Ope(e),titleAttributes:U6(Za.TITLE,e)}},C7=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){C7(e)},0)}}(),a9=function(e){return clearTimeout(e)},zpe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||C7:global.requestAnimationFrame||C7,Bpe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||a9:global.cancelAnimationFrame||a9,Upe=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},bh=null,jpe=function(e){bh&&Bpe(bh),e.defer?bh=zpe(function(){l9(e,function(){bh=null})}):(l9(e),bh=null)},l9=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,l=e.noscriptTags,c=e.onChangeClientState,h=e.scriptTags,d=e.styleTags,f=e.title,m=e.titleAttributes;k7(Fe.BODY,i),k7(Fe.HTML,s),Vpe(f,m);var g={baseTag:Hl(Fe.BASE,r),linkTags:Hl(Fe.LINK,o),metaTags:Hl(Fe.META,a),noscriptTags:Hl(Fe.NOSCRIPT,l),scriptTags:Hl(Fe.SCRIPT,h),styleTags:Hl(Fe.STYLE,d)},v={},_={};Object.keys(g).forEach(function(x){var b=g[x],w=b.newTags,T=b.oldTags;w.length&&(v[x]=w),T.length&&(_[x]=g[x].oldTags)}),n&&n(),c(e,v,_)},KM=function(e){return Array.isArray(e)?e.join(""):e},Vpe=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=KM(e)),k7(Fe.TITLE,n)},k7=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Li),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],h=n[c]||"";r.getAttribute(c)!==h&&r.setAttribute(c,h),s.indexOf(c)===-1&&s.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var f=o.length-1;f>=0;f--)r.removeAttribute(o[f]);s.length===o.length?r.removeAttribute(Li):r.getAttribute(Li)!==a.join(",")&&r.setAttribute(Li,a.join(","))}},Hl=function(e,n){var r=document.head||document.querySelector(Fe.HEAD),i=r.querySelectorAll(e+"["+Li+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(e);for(var h in l)if(l.hasOwnProperty(h))if(h===Nt.INNER_HTML)c.innerHTML=l.innerHTML;else if(h===Nt.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[h]>"u"?"":l[h];c.setAttribute(h,d)}c.setAttribute(Li,"true"),s.some(function(f,m){return a=m,c.isEqualNode(f)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},qM=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},Gpe=function(e,n,r,i){var s=qM(r),o=KM(n);return s?"<"+e+" "+Li+'="true" '+s+">"+L7(o,i)+"</"+e+">":"<"+e+" "+Li+'="true">'+L7(o,i)+"</"+e+">"},Hpe=function(e,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Nt.INNER_HTML||c===Nt.CSS_TEXT)}).reduce(function(c,h){var d=typeof s[h]>"u"?h:h+'="'+L7(s[h],r)+'"';return c?c+" "+d:d},""),a=s.innerHTML||s.cssText||"",l=Ape.indexOf(e)===-1;return i+"<"+e+" "+Li+'="true" '+o+(l?"/>":">"+a+"</"+e+">")},"")},YM=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Jp[i]||i]=e[i],r},n)},Wpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[kpe[i]||i]=e[i],r},n)},Kpe=function(e,n,r){var i,s=(i={key:n},i[Li]=!0,i),o=YM(r,s);return[Cn.createElement(Fe.TITLE,o,n)]},qpe=function(e,n){return n.map(function(r,i){var s,o=(s={key:i},s[Li]=!0,s);return Object.keys(r).forEach(function(a){var l=Jp[a]||a;if(l===Nt.INNER_HTML||l===Nt.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Cn.createElement(e,o)})},Ss=function(e,n,r){switch(e){case Fe.TITLE:return{toComponent:function(){return Kpe(e,n.title,n.titleAttributes)},toString:function(){return Gpe(e,n.title,n.titleAttributes,r)}};case Za.BODY:case Za.HTML:return{toComponent:function(){return YM(n)},toString:function(){return qM(n)}};default:return{toComponent:function(){return qpe(e,n)},toString:function(){return Hpe(e,n,r)}}}},ZM=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,l=e.noscriptTags,c=e.scriptTags,h=e.styleTags,d=e.title,f=d===void 0?"":d,m=e.titleAttributes;return{base:Ss(Fe.BASE,n,i),bodyAttributes:Ss(Za.BODY,r,i),htmlAttributes:Ss(Za.HTML,s,i),link:Ss(Fe.LINK,o,i),meta:Ss(Fe.META,a,i),noscript:Ss(Fe.NOSCRIPT,l,i),script:Ss(Fe.SCRIPT,c,i),style:Ss(Fe.STYLE,h,i),title:Ss(Fe.TITLE,{title:f,titleAttributes:m},i)}},Ype=function(e){var n,r;return r=n=function(i){Mpe(s,i);function s(){return Ppe(this,s),Dpe(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!bpe(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case Fe.SCRIPT:case Fe.NOSCRIPT:return{innerHTML:l};case Fe.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,h=a.arrayTypeChildren,d=a.newChildProps,f=a.nestedChildren;return fr({},h,(l={},l[c.type]=[].concat(h[c.type]||[],[fr({},d,this.mapNestedChildrenToProps(c,f))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,h=a.child,d=a.newProps,f=a.newChildProps,m=a.nestedChildren;switch(h.type){case Fe.TITLE:return fr({},d,(l={},l[h.type]=m,l.titleAttributes=fr({},f),l));case Fe.BODY:return fr({},d,{bodyAttributes:fr({},f)});case Fe.HTML:return fr({},d,{htmlAttributes:fr({},f)})}return fr({},d,(c={},c[h.type]=fr({},f),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=fr({},l);return Object.keys(a).forEach(function(h){var d;c=fr({},c,(d={},d[h]=a[h],d))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,h={};return Cn.Children.forEach(a,function(d){if(!(!d||!d.props)){var f=d.props,m=f.children,g=o9(f,["children"]),v=Wpe(g);switch(c.warnOnInvalidChildren(d,m),d.type){case Fe.LINK:case Fe.META:case Fe.NOSCRIPT:case Fe.SCRIPT:case Fe.STYLE:h=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:h,newChildProps:v,nestedChildren:m});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:v,nestedChildren:m});break}}}),l=this.mapArrayTypeChildrenToProps(h,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=o9(a,["children"]),h=fr({},c);return l&&(h=this.mapChildrenToProps(l,h)),Cn.createElement(e,h)},Rpe(s,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),s}(Cn.Component),n.propTypes={base:Ot.object,bodyAttributes:Ot.object,children:Ot.oneOfType([Ot.arrayOf(Ot.node),Ot.node]),defaultTitle:Ot.string,defer:Ot.bool,encodeSpecialCharacters:Ot.bool,htmlAttributes:Ot.object,link:Ot.arrayOf(Ot.object),meta:Ot.arrayOf(Ot.object),noscript:Ot.arrayOf(Ot.object),onChangeClientState:Ot.func,script:Ot.arrayOf(Ot.object),style:Ot.arrayOf(Ot.object),title:Ot.string,titleAttributes:Ot.object,titleTemplate:Ot.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=ZM({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Zpe=function(){return null},Xpe=mpe($pe,jpe,ZM)(Zpe),e1=Ype(Xpe);e1.renderStatic=e1.rewind;function Qpe({handleToggle:t,offColor:e,onColor:n,isOn:r}){return E.jsx("div",{onClick:t,className:Ye("w-12 h-24 flex flex-col items-center border dark:border-white/[.15] border-black/20 rounded-full p-1 cursor-pointer transition-colors duration-300"),children:E.jsx("div",{className:Ye("border border-transparent !border-opacity-30 w-10 h-10 rounded-full transform transition-transform duration-300 absolute",{"translate-y-10":r,"-translate-y-0":!r,[n]:r,[e]:!r}),children:E.jsx("div",{className:"flex items-center justify-center h-full w-full",children:r?E.jsx(be,{style:"ml-0.5",size:24,name:"Twitch"}):E.jsx(be,{size:22,name:"Kick"})})})})}function c9({isSpecialStreamer:t,checkIncludeFavs:e,getCategoryName:n,removeFavorite:r,privateSpace:i,CHECK_PLAYER:s,addFavorite:o,streamer:a,bigCard:l,server:c,admin:h,hover:d}){return E.jsxs("div",{className:Ye("flex items-center opacity-75 text-sm font-light uppercase",{"!opacity-100 !font-bold":l}),children:[d&&E.jsxs(E.Fragment,{children:[h&&!i&&E.jsxs("div",{className:"flex items-center -space-x-0.5",children:[E.jsx(be,{click:()=>pn("EDIT_STREAMER",{title:a.name.toUpperCase()+" yayıncısını düzenleyin",streamer:a,position:"Bottom",server:c}),style:"mb-[1.15px] hover:text-server cursor-pointer px-0",name:"Edit",size:18}),E.jsx(be,{size:16,name:"VerticalLine"})]}),e(a)&&E.jsxs("div",{className:"flex items-center -space-x-0.5",children:[E.jsx(be,{click:()=>r(a),style:"mb-[1.15px] hover:text-server cursor-pointer px-0",name:"StarFilled",size:18}),E.jsx(be,{size:16,name:"VerticalLine"})]}),!e(a)&&E.jsxs("div",{className:"flex items-center -space-x-0.5",children:[E.jsx(be,{click:()=>o(a),style:"mb-[1.15px] hover:text-server cursor-pointer px-0",size:18,name:"Star"}),E.jsx(be,{size:16,name:"VerticalLine"})]}),!i&&a.characters.length>0&&E.jsxs("div",{className:"flex items-center -space-x-0.5",children:[E.jsx(be,{click:()=>pn("STREAMER_CHARACTER",{title:a.name+" karakterleri",position:"BottomRight",streamer:a}),style:"mb-[1.15px] hover:text-server cursor-pointer px-0",size:18,name:"GroupFilled"}),E.jsx(be,{size:16,name:"VerticalLine"})]})]}),a.live?E.jsxs(E.Fragment,{children:[a.inGame?E.jsx("img",{className:"w-[21px] rounded-lg flex-shrink-0",src:c.logo}):E.jsx(E.Fragment,{children:!i&&a.game.toLowerCase()==="grand theft auto v"&&a.characters&&s()?E.jsxs(E.Fragment,{children:[E.jsx("img",{className:"w-[21px] rounded-lg flex-shrink-0",src:c.logo}),E.jsx(be,{size:16,name:"VerticalLine"}),E.jsxs("div",{className:"flex items-center gap-x-1 line-clamp-1 flex-shrink-0",children:[s().class&&E.jsx("p",{children:n(s().class)}),s().class&&E.jsx("svg",{width:3,height:3,"aria-hidden":"true",className:"fill-white flex-shrink-0",children:E.jsx("circle",{cx:1,cy:1,r:1})}),E.jsx("p",{className:"text-red-500 font-semibold",children:s().name})]})]}):a.game}),E.jsx(be,{size:16,name:"VerticalLine"}),a.characters&&a.inGame&&s()&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex items-center gap-x-1 line-clamp-1 flex-shrink-0",children:[s().class&&E.jsx("p",{children:n(s().class)}),s().class&&E.jsx("svg",{width:3,height:3,"aria-hidden":"true",className:"fill-white flex-shrink-0",children:E.jsx("circle",{cx:1,cy:1,r:1})}),E.jsx("p",{className:"text-red-500 font-semibold",children:s().name})]}),E.jsx(be,{size:16,name:"VerticalLine"})]}),E.jsxs("div",{className:"flex items-center space-x-1.5",children:[E.jsx(be,{size:16,name:"Eye"}),E.jsx("span",{children:a.viewers})]}),E.jsx(be,{size:16,name:"VerticalLine"}),E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx(be,{size:16,name:"Clock"}),E.jsx("span",{children:a.uptime})]})]}):E.jsxs(E.Fragment,{children:[e(a)&&E.jsxs("div",{className:"flex items-center -space-x-0.5",children:[E.jsx(be,{click:()=>r(a),style:"mb-[1.15px] hover:text-server cursor-pointer px-0",size:18,name:"StarFilled"}),E.jsx(be,{size:16,name:"VerticalLine"})]}),E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx(be,{size:16,name:"MembershipFilled"}),E.jsx("span",{children:Eg(a.followers)})]}),E.jsx(be,{size:16,name:"VerticalLine"}),E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx(be,{style:"mb-[1.15px] cursor-pointer px-0",name:"BirthdayFilled",size:15}),E.jsx("span",{children:Eg(a.created_at)})]})]})]})}function Jpe({minimal:t}){if(!t)return E.jsx($n.div,{className:"lg:w-1/3 xl:w-1/4 md:w-1/2 flex flex-col !flex-auto rounded-3xl skeleton border dark:border-white/[.15] border-black/30 bg-server-20 overflow-hidden transition-all duration-200 ease-in-out relative",children:E.jsxs("div",{className:"w-full h-auto flex items-center gap-x-3 p-4",children:[E.jsx("div",{className:"relative flex-shrink-0",children:E.jsx("div",{className:"rounded-full w-[65px] h-[65px] bg-black/30 dark:bg-white/10 animate-pulse"})}),E.jsxs("div",{className:"flex flex-col space-y-2",children:[E.jsx("div",{className:"h-4 bg-black/30 dark:bg-white/10 rounded-full w-32"}),E.jsxs("div",{className:"w-full flex items-center space-x-2",children:[E.jsx("div",{className:"flex items-center space-x-1",children:E.jsx("span",{className:"w-8 h-2 rounded-full bg-black/30 dark:bg-white/10"})}),E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx("div",{className:"w-4 h-4 rounded-full bg-black/30 dark:bg-white/10 animate-pulse"}),E.jsx("span",{className:"w-8 h-2 rounded-full bg-black/30 dark:bg-white/10"})]}),E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx("div",{className:"w-4 h-4 rounded-full bg-black/30 dark:bg-white/10 animate-pulse"}),E.jsx("span",{className:"w-8 h-2 rounded-full bg-black/30 dark:bg-white/10"})]})]})]})]})})}function e1e({streamer:t}){const[e,n]=P.useState(0),[r,i]=P.useState(),s=async()=>{if(t.platform==="twitch")try{const c=await(await fetch(`https://api.twitch.tv/helix/clips?broadcaster_id=${t.id}&first=50&sort=time`,{headers:ss.twitch})).json();i(c.data)}catch(l){console.error("Error fetching clips:",l)}else if(t.platform==="kick")try{const c=await(await fetch(`https://kick.com/api/v2/channels/${t.name}/clips`,{headers:ss.twitch})).json();i(c.clips)}catch(l){console.error("Error fetching clips:",l)}};P.useEffect(()=>{s()},[]);const o=()=>{r.length>3?n(Math.min((e+1)%r.length,r.length-3)):n((e+1)%r.length)},a=()=>{r.length>3?n(Math.max((e-1+r.length)%r.length,0)):n((e-1+r.length)%r.length)};return r&&r.length>0?E.jsxs("div",{className:"flex items-center justify-between w-full h-full relative border-r dark:border-white/[.15] border-black/30",children:[E.jsx("button",{className:"p-2 dark:bg-white dark:text-black bg-black text-white rounded-md px-4 absolute left-4 z-10",onClick:a,children:"❮"}),E.jsx("div",{className:"grid grid-cols-3 grid-rows-2 h-full w-full",children:[e,(e+1)%r.length,(e+2)%r.length,(e+3)%r.length,(e+4)%r.length,(e+5)%r.length].map(l=>E.jsx("div",{style:{backgroundImage:`url(${r[l].thumbnail_url})`},onClick:()=>t.platform==="twitch"?pn("SOCIAL_PLAYER",{title:r[l].title,clip:r[l],url:r[l].url}):pn("SOCIAL_PLAYER",{title:r[l].title,kickClip:r[l],url:r[l].clip_url}),className:"h-full w-full bg-center bg-no-repeat bg-cover relative overflow-hidden cursor-pointer",children:E.jsx("h4",{className:"absolute py-2 bg-black/30 bottom-0 left-0 right-0 text-center backdrop-blur-xl line-clamp-2 w-full",children:r[l].title})},l))}),E.jsx("button",{className:"p-2 dark:bg-white dark:text-black bg-black text-white rounded-md px-4 absolute right-4 z-10",onClick:o,children:"❯"})]}):r&&r.length===0?E.jsx("div",{className:"h-full w-full grid place-items-center",children:"Klip bulunamadı"}):E.jsx(us,{text:"Klipler yükleniyor"})}function t1e({streamer:t}){const[e,n]=P.useState(0),[r,i]=P.useState(),s=async()=>{if(t.platform==="twitch")try{const c=await(await fetch(`https://api.twitch.tv/helix/videos?user_id=${t.id}&first=50&sort=time&type=archive`,{headers:ss.twitch})).json();i(c.data)}catch(l){console.error("Error fetching videos:",l)}if(t.platform==="kick")try{const c=await(await fetch(`https://kick.com/api/v2/channels/${t.name}/videos`,{headers:ss.twitch})).json();i(c)}catch(l){console.error("Error fetching videos:",l)}};P.useEffect(()=>{s()},[]);const o=()=>{r.length>3?n(Math.min((e+1)%r.length,r.length-3)):n((e+1)%r.length)},a=()=>{r.length>3?n(Math.max((e-1+r.length)%r.length,0)):n((e-1+r.length)%r.length)};return r&&r.length>0&&t?E.jsxs("div",{className:"flex items-center justify-between w-full h-full relative border-l dark:border-white/[.15] border-black/30",children:[E.jsx("button",{className:"p-2 dark:bg-white dark:text-black bg-black text-white rounded-md px-4 absolute left-4 z-10",onClick:a,children:"❮"}),E.jsx("div",{className:"grid grid-cols-3 grid-rows-2 h-full w-full",children:[e,(e+1)%r.length,(e+2)%r.length,(e+3)%r.length,(e+4)%r.length,(e+5)%r.length].map(l=>E.jsx("div",{style:{backgroundImage:`url(${t.platform==="twitch"?r[l].thumbnail_url.replace("%{width}x%{height}","600x600"):r[l].thumbnail.src})`},onClick:()=>t.platform==="twitch"?pn("SOCIAL_PLAYER",{title:r[l].title,video:r[l],url:r[l].url}):pn("SOCIAL_PLAYER",{title:r[l].session_title,url:r[l].source,kickVideo:r[l]}),className:"h-full w-full bg-center bg-no-repeat bg-cover relative overflow-hidden cursor-pointer",children:E.jsx("h4",{className:"absolute py-2 bg-black/30 bottom-0 left-0 right-0 text-center backdrop-blur-xl line-clamp-2 w-full",children:r[l].title||r[l].session_title})},l))}),E.jsx("button",{className:"p-2 dark:bg-white dark:text-black bg-black text-white rounded-md px-4 absolute right-4 z-10",onClick:o,children:"❯"})]}):r&&r.length===0?E.jsx("div",{className:"h-full w-full grid place-items-center",children:"Video bulunamadı"}):E.jsx(us,{text:"Videolar yükleniyor"})}function n1e({streamer:t}){return E.jsx(t_,{initial:!1,children:E.jsx($n.div,{animate:{opacity:1,width:"100%",height:t.live?"750px":"450px"},className:Ye("h-auto z-10 flex gap-x-4 !overflow-hidden border-t dark:border-white/[.15] border-black/30"),initial:{opacity:0,height:0},exit:{opacity:0,height:0,width:0},transition:{ease:"easeInOut",duration:.6,delay:.1},children:t.live?E.jsxs(E.Fragment,{children:[t.platform==="twitch"&&E.jsxs($n.div,{animate:{opacity:1,width:"100%",height:"auto"},transition:{duration:.8,ease:"easeInOut"},initial:{opacity:0,width:0,height:0},exit:{opacity:0,height:0,width:0},className:"flex",children:[E.jsx("iframe",{src:`https://player.twitch.tv/?channel=${t.slug}&parent=${window.location.hostname}`,width:"100%",height:"100%",allowFullScreen:!0,title:"Stream"}),E.jsx("iframe",{src:`https://www.twitch.tv/embed/${t.slug}/chat?parent=${window.location.hostname}&darkpopout`,height:"100%",title:"Chat",width:480})]}),t.platform==="kick"&&E.jsxs($n.div,{animate:{opacity:1,width:"100%",height:"auto"},transition:{duration:.8,ease:"easeInOut"},className:"flex overflow-hidden scrollbar-hide",initial:{opacity:0,width:0,height:0},exit:{opacity:0,height:0,width:0},children:[E.jsx("iframe",{src:"https://player.kick.com/"+t.slug,width:"100%",frameborder:"0",scrolling:"no",allowfullscreen:"true"}),E.jsx("iframe",{src:`https://kick-chat.corard.tv/v1/chat?user=${t.slug}&font-size=Small&stroke=Off&animate=true&badges=true&commands=true&bots=true`,height:"100%",width:480})]})]}):E.jsxs("div",{className:"h-full w-full flex flex-col",children:[E.jsxs("div",{className:"flex w-full h-12 tracking-[.5em] font-thin uppercase",children:[E.jsx("div",{className:"w-full h-full flex items-center justify-center text-center border-r border-b dark:border-white/[.15] border-black/30",children:"klipler"}),E.jsx("div",{className:"w-full h-full flex items-center justify-center text-center border-l border-b dark:border-white/[.15] border-black/30",children:"videolar"})]}),E.jsxs("div",{className:"flex w-full h-full",children:[E.jsx(e1e,{streamer:t}),E.jsx(t1e,{streamer:t})]})]})})})}function Io({streamerGroup:t,liveStreamers:e,privateSpace:n,server:r,index:i}){const{specialStreamers:s,bigStreamerCard:o,startWatch:a,favorites:l,minimal:c,watchs:h,admin:d}=Qn(ie=>ie.utils),[f,m]=P.useState(-1),[g,v]=P.useState(!1),[_,x]=P.useState("kick"),b=t.find(ie=>ie.platform===_)||t[0];P.useEffect(()=>{const ie=t.some(W=>e.some(F=>F.name===W.name&&F.platform==="kick")),U=t.some(W=>e.some(F=>F.name===W.name&&F.platform==="twitch"));x(ie?"kick":U?"twitch":"kick")},[t,e]);const w=()=>{x(ie=>ie==="twitch"?"kick":"twitch")},T=[{code:"mechanic",name:"MECH"},{code:"medical",name:"MEDIC"},{code:"lspd",name:"LSPD"},{code:"lost",name:"LOST"},{code:"aod",name:"AOD"},{code:"ss",name:"SS"}],C={hidden:{opacity:0},visible:{opacity:1}},I=()=>{const ie=b.title.toLowerCase();return b.characters.find(U=>{const W=U.name.split(" ").some(q=>ie.includes(q.toLowerCase())),F=U.allies?U.allies.some(q=>ie.includes(q.toLowerCase())):!1;return W||F})||null},M=ie=>{const U=T.find(W=>W.code===ie);return U?U.name:null},A=ie=>{m(ie===f?-1:ie)},O=ie=>h.some(U=>U.name.toLowerCase()===ie.name.toLowerCase()),N=ie=>h.length!==6?cn.dispatch(T$(ie)):Jd("En fazla 6 yayıncı ekleyebilirsiniz"),z=ie=>cn.dispatch(C$(h.filter(U=>U.name!==ie.name))),H=ie=>{const U=[...l,{name:ie.name,platform:ie.platform}];cn.dispatch(F0(U))},j=ie=>{const U=l.filter(W=>W.name!==ie.name||W.platform!==ie.platform);cn.dispatch(F0(U))},Z=ie=>l.some(U=>U.name.toLowerCase()===ie.name.toLowerCase()&&U.platform.toLowerCase()===ie.platform.toLowerCase()),te=()=>{if(!b.live)return!1;const ie=b.name.toLowerCase();return s.twitch.includes(ie)||s.kick.includes(ie)},G=ie=>{ie==="twitch"?window.open(`https://twitch.tv/${b.slug.toLowerCase()}`,"_blank"):ie==="kick"&&window.open(`https://kick.com/${b.slug.toLowerCase()}`,"_blank")};return!t||t.length===0?E.jsx(Jpe,{minimal:c}):c?E.jsxs("div",{className:"lg:w-1/3 xl:w-1/5 md:w-1/2 sm:w-full flex-auto flex items-center gap-x-2 p-2",onMouseEnter:()=>{v(!a&&!0)},onMouseLeave:()=>{v(!1)},children:[a&&b.live&&E.jsx("div",{className:"rounded-full w-[30px] h-[30px] overflow-hidden object-cover flex-shrink-0 cursor-pointer grid place-items-center opacity-40",children:O(b)?E.jsx(be,{click:()=>z(b),name:"Remove",size:40}):E.jsx(be,{click:()=>N(b),name:"Add",size:30})}),E.jsxs("div",{className:"flex flex-col -space-y-0.5",children:[E.jsx("h3",{onClick:()=>G(b.platform),className:"cursor-pointer w-auto line-clamp-1",children:b.live&&g?b.title:b.name.toUpperCase()}),E.jsx(c9,{isSpecialStreamer:te,checkIncludeFavs:Z,getCategoryName:M,removeFavorite:j,CHECK_PLAYER:I,privateSpace:n,addFavorite:H,streamer:b,server:r,admin:d,hover:g},b.slug)]})]}):E.jsx(E.Fragment,{children:E.jsxs($n.div,{onMouseEnter:()=>{v(!a&&!0)},onMouseLeave:()=>{v(!1)},animate:"visible",initial:"hidden",variants:C,className:Ye("lg:w-1/3 xl:w-1/4 md:w-1/2 sm:w-full flex flex-col !flex-auto rounded-3xl group border select-none dark:border-white/[.15] border-black/30 hover:border-server dark:hover:border-server overflow-hidden transition-all duration-300 ease-in-out !relative",{"!opacity-0":a&&!b.live,"flex-shrink-0 flex-auto !w-full duration-500":f===i,special:te()&&f!==i}),children:[E.jsxs("div",{className:Ye("w-full h-auto flex items-center gap-x-3 p-4 relative rounded-2xl",{"dark:!bg-black/95 !bg-white/95 !rounded-3xl":te()}),children:[t.filter(ie=>ie.name.toLowerCase()===b.name.toLowerCase()).length>1?E.jsx("div",{className:"absolute right-1 top-1 bottom-1 justify-center h-auto z-10 flex flex-col space-y-1",children:E.jsx(Qpe,{isOn:_==="twitch",handleToggle:w,onColor:"!border-[#a970ff] !border-opacity-70",offColor:"!border-[#53fc18] !border-opacity-70"})}):E.jsx("div",{className:"absolute right-1 top-1 justify-center z-10 flex flex-col space-y-1",children:E.jsx("div",{className:"w-12 h-12 flex justify-center items-center border dark:border-white/[.15] border-black/20 rounded-full p-1 cursor-pointer transition-colors duration-300",children:E.jsx("div",{className:Ye("border border-transparent !border-opacity-30 w-10 h-10 rounded-full transform transition-transform duration-300 absolute",{"!border-[#a970ff] !border-opacity-70":b.platform==="twitch","!border-[#53fc18] !border-opacity-70":b.platform==="kick"}),children:E.jsx("div",{className:"flex items-center justify-center h-full w-full",children:b.platform==="twitch"?E.jsx(be,{style:"ml-0.5",size:24,name:"Twitch"}):E.jsx(be,{size:22,name:"Kick"})})})})}),E.jsxs("div",{className:"relative flex-shrink-0",children:[a&&b.live&&E.jsx("div",{className:"rounded-full w-[65px] h-[65px] overflow-hidden object-cover flex-shrink-0 cursor-pointer grid place-items-center opacity-40",children:O(b)?E.jsx(be,{click:()=>z(b),name:"Remove",size:40}):E.jsx(be,{click:()=>N(b),name:"Add",size:40})}),!g&&!a?E.jsx("img",{className:Ye("rounded-full w-[65px] h-[65px] overflow-hidden object-cover flex-shrink-0",{"!border-[3px] !border-[#a970ff]":b.live&&b.platform==="twitch","!border-[3px] !border-[#53fc18]":b.live&&b.platform==="kick"}),src:b.avatar}):!a&&E.jsxs("div",{className:"w-auto h-auto relative",children:[E.jsx("img",{className:Ye("rounded-full w-[65px] h-[65px] overflow-hidden object-cover flex-shrink-0",{"!border-[3px] !border-[#a970ff]":b.live&&b.platform==="twitch","!border-[3px] !border-[#53fc18]":b.live&&b.platform==="kick"}),src:b.avatar}),E.jsx("div",{className:"rounded-full w-[65px] bg-black/30 absolute inset-0 h-[65px] overflow-hidden object-cover flex-shrink-0 cursor-pointer grid place-items-center",onClick:()=>A(i),children:i!==f?E.jsx(be,{size:38,style:"-rotate-90 text-white dark:text-white",name:"Left"}):E.jsx(be,{size:38,style:"-rotate-90 text-white dark:text-white",name:"Right"})})]}),!g&&b.live&&!a&&E.jsx("div",{className:"absolute bottom-0 left-1.5 right-1.5 w-auto text-[10px] bg-red-600 text-white dark:text-white rounded-xl text-center font-bold p-0.5",children:"CANLI"})]}),E.jsxs("div",{className:"flex flex-col -space-y-0.5",children:[E.jsxs("div",{className:"flex items-center space-x-0.5",children:[E.jsx("h3",{onClick:()=>G(b.platform),className:"cursor-pointer w-auto line-clamp-1",children:i===f&&b.live||b.live&&g?b.title:b.name.toUpperCase()}),b.verified&&E.jsx(be,{style:b.platform==="twitch"?"text-[#a970ff]":"text-[#53fc18]",size:18,name:"Verified"})]}),E.jsx(c9,{isSpecialStreamer:te,checkIncludeFavs:Z,getCategoryName:M,removeFavorite:j,CHECK_PLAYER:I,privateSpace:n,addFavorite:H,streamer:b,server:r,admin:d,hover:g},b.slug)]})]}),f===i&&E.jsx(n1e,{streamer:b},b.name)]})})}function r1e({server:t}){const{fetchAllStreamers:e,streamers:n,loading:r,liveStreamers:i}=BM(),s=hI(),{favorites:o,search:a,platform:l,startWatch:c,example:h}=Qn(T=>T.utils),[d,f]=P.useState([]);P.useEffect(()=>{s(mv(!1))},[]),P.useEffect(()=>{e(t,t.streamers.twitch.slice(0,100),t.streamers.kick.slice(0,100),o)},[e,o]),P.useEffect(()=>{const T=JSON.parse(localStorage.getItem("POVS_FAVS"));T&&s(F0(T))},[s]),P.useEffect(()=>{localStorage.setItem("POVS_FAVS",JSON.stringify(o))},[o]),P.useEffect(()=>{const T=localStorage.getItem("POVS_BIG_STREAM");T!==null&&s(pv(T==="true"))},[s]),P.useEffect(()=>{if(n){const T=n.reduce((C,I)=>{const M=I.name.toLowerCase(),A=Object.keys(C).find(O=>O.includes(M));return A?C[A].push(I):C[M]=[I],C},{});f(Object.values(T))}},[n]);const m={hidden:{opacity:0,y:200},show:{opacity:1,y:0,transition:{delayChildren:.07,staggerChildren:.07}}};if(c&&i.length===0)return E.jsx("div",{className:"bg-red-500/10 flex items-center justify-center border-4 border-red-500/[.15] h-screen",children:"Çevimiçi yayıncı bulunamadı"});if(!t.streamers)return E.jsx("div",{className:"absolute top-2/4 left-2/4 -translate-x-2/4",children:E.jsx("h3",{className:"text-red-200",children:"Sunucuya ait yayıncı bulunamadı"})});if(r||!d.length)return E.jsx("div",{className:"w-full flex flex-wrap flex-auto gap-6 p-2 sm:px-8 sm:pt-4 sm:pb-8",children:Array.from({length:40},(T,C)=>E.jsx(Io,{streamerGroup:[],server:t,loading:!0,index:C},C))});const g=d.filter(T=>l==="all"||T.some(C=>C.platform===l)),v=g.filter(T=>T.some(C=>i.some(I=>I.name.toLowerCase()===C.name.toLowerCase()&&I.platform===C.platform))),_=g.filter(T=>!T.some(C=>i.some(I=>I.name.toLowerCase()===C.name.toLowerCase()&&I.platform===C.platform))),x=T=>T.some(C=>C.name.toLowerCase().includes(a.toLowerCase())||C.title.toLowerCase().includes(a.toLowerCase())||C.characters.some(I=>I.name.toLowerCase().includes(a.toLowerCase()))),b=v.filter(x),w=_.filter(x);return E.jsxs("div",{className:"p-2 sm:px-8 sm:pt-4 sm:pb-8",children:[E.jsx($n.div,{className:"w-full flex flex-wrap flex-auto gap-6",variants:m,initial:"hidden",animate:"show",children:a===""?v.map((T,C)=>E.jsx(Io,{streamerGroup:T,liveStreamers:i,server:t,index:C},C)):b.map((T,C)=>E.jsx(Io,{streamerGroup:T,liveStreamers:i,server:t,index:C},C))}),E.jsx($n.div,{className:Ye("w-full flex flex-wrap flex-auto gap-6",{"!mt-6":v.length>0}),variants:m,initial:"hidden",animate:"show",children:w.map((T,C)=>E.jsx(Io,{streamerGroup:T,liveStreamers:i,server:t,index:C},C))})]})}function i1e(){const[t,e]=P.useState(!1);return P.useEffect(()=>{Oo(ot(at,"/announcement"),n=>{e(n.val())})},[]),E.jsx(E.Fragment,{children:t&&t!==""&&E.jsx("div",{className:"group w-full gap-2 transition-all cursor-default pt-5 px-1 text-xs dark:text-white/80 text-black/80 flex items-center justify-center",children:E.jsx("span",{className:"line-clamp-1 font-semibold",children:t})})})}function s1e(){var s;const{server:t,servers:e,selectedServer:n,setSelectedServer:r}=bl(),i=(s=Zp.useLanyard({userId:"849975428496097320"}).data)==null?void 0:s.data;return typeof e=="string"?E.jsx(us,{text:e,type:"page",size:40}):typeof t=="string"?E.jsx(us,{text:t,type:"page",size:40}):t?E.jsxs(X0e,{children:[E.jsx(i1e,{}),E.jsx(rpe,{}),t&&(window.location.pathname==="/"?E.jsxs(e1,{children:[E.jsxs("title",{children:[t.name.toUpperCase()," ・ POVS.LIVE"]}),E.jsx("link",{href:t.logo,type:"image/x-icon",rel:"icon"})]}):E.jsxs(e1,{children:[E.jsx("title",{children:"POVS.LIVE"}),E.jsx("link",{href:"https://cdn.discordapp.com/avatars/1108037557964513352/bc42211111c3860315bdc9bf36db53b2",type:"image/x-icon",rel:"icon"})]})),E.jsx(yI,{background:t.background}),E.jsx(r1e,{selectedServer:n,servers:e,server:t})]}):E.jsxs(E.Fragment,{children:[typeof e!="string"&&E.jsx("div",{className:"fixed top-0 p-4 w-full z-10",children:E.jsx(UM,{setSelectedServer:r,selectedServer:n,servers:e,countdown:!1})}),E.jsxs("div",{className:"w-full h-[calc(100vh-5.15rem)] py-8 relative flex flex-col items-center justify-center bg-red-800/10 text-red-200",children:[E.jsxs("div",{children:[E.jsx("h3",{children:"Yapılandırmaya ait sunucu bulunamadı"}),E.jsx("p",{className:"text-center text-sm opacity-70",children:"Sunucu değiştirmeyi veya yenilemeyi deneyin"}),E.jsx("p",{className:"text-center text-sm opacity-70",children:"Sunucu hata kodu: 0x2387H"})]}),E.jsx("div",{className:"absolute bottom-2 w-full max-w-2xl",children:E.jsx(tM,{data:i,tag:"Hata bildirimi için yazabilirsiniz"})})]})]})}function o1e({name:t,platform:e}){const{watchChat:n}=Qn(r=>r.utils);return E.jsxs("div",{className:"w-2/4 h-auto flex-auto relative",children:[e==="twitch"&&E.jsx("iframe",{src:`https://player.twitch.tv/?channel=${t}&parent=${window.location.hostname}`,allowFullScreen:!0,height:"100%",width:"100%",title:"Twitch"}),e==="kick"&&E.jsx("iframe",{src:`https://player.kick.com/${t}?autoplay=true`,className:"!overflow-hidden !scrollbar-hide",style:{overflow:"hidden"},allowfullscreen:!0,scrolling:"no",height:"100%",frameborder:"0",width:"100%"}),n&&E.jsx("iframe",{src:`https://kick-chat.corard.tv/v1/chat?user=${t}&font-size=Small&stroke=Off&animate=true&badges=true&commands=true&bots=true`,className:"w-72 h-auto rounded-lg absolute bottom-0 -right-2 select-none"})]})}function a1e(){const{watchs:t,watchChat:e}=Qn(r=>r.utils),{id:n}=VW();if(P.useEffect(()=>{cd();const r=document.documentElement;r.requestFullscreen?r.requestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.msRequestFullscreen&&r.msRequestFullscreen();const i=()=>{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};return()=>{i()}},[]),!t&&n)return window.location.pathname="/";if(t.length>0&&n)return E.jsxs("div",{className:"w-screen h-screen gap-0 flex justify-between flex-auto flex-wrap",children:[t.map((r,i)=>E.jsx(o1e,{name:r.slug,platform:r.platform},i)),E.jsxs("div",{className:"absolute w-auto h-12 bg-black/50 backdrop-blur-3xl top-2 left-2 flex items-center gap-x-2 border border-white/30 rounded-full overflow-hidden p-1",children:[E.jsx(Pp,{to:"/",className:"h-full px-2 bg-server-10 hover:bg-server-30 transition-all rounded-full flex items-center justify-center",children:E.jsx(be,{name:"Return"})}),E.jsx("button",{className:"h-full px-2 bg-server-10 hover:bg-server-30 transition-all rounded-full flex items-center justify-center",onClick:()=>cn.dispatch(E$(!e)),children:e?E.jsxs(E.Fragment,{children:[E.jsx(be,{name:"ForumFilled"}),E.jsx("p",{className:"text-xs px-2",children:"Sohbetleri gizle"})]}):E.jsxs(E.Fragment,{children:[E.jsx(be,{name:"Forum"}),E.jsx("p",{className:"text-xs px-2",children:"Sohbetleri göster"})]})})]})]})}const XM=typeof document<"u"?Cn.useLayoutEffect:()=>{};function l1e(t){const e=P.useRef(null);return XM(()=>{e.current=t},[t]),P.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const Pf=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},ja=t=>t&&"window"in t&&t.window===t?t:Pf(t).defaultView||window;function c1e(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function u1e(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function QM(t){let e=null;return()=>(e==null&&(e=t()),e)}const h1e=QM(function(){return u1e(/^Mac/i)}),d1e=QM(function(){return c1e(/Android/i)});function f1e(t){return t.mozInputSource===0&&t.isTrusted?!0:d1e()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class p1e{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function JM(t){let e=P.useRef({isFocused:!1,observer:null});XM(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=l1e(r=>{t==null||t(r)});return P.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{e.current.isFocused=!1,i.disabled&&n(new p1e("blur",o)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function m1e(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=P.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=JM(s),a=P.useCallback(l=>{const c=Pf(l.target);l.target===l.currentTarget&&c.activeElement===l.target&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}let Rf=null,A7=new Set,rd=new Map,fl=!1,I7=!1;const g1e={Tab:!0,Escape:!0};function o_(t,e){for(let n of A7)n(t,e)}function v1e(t){return!(t.metaKey||!h1e()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function t1(t){fl=!0,v1e(t)&&(Rf="keyboard",o_("keyboard",t))}function Jr(t){Rf="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(fl=!0,o_("pointer",t))}function eD(t){f1e(t)&&(fl=!0,Rf="virtual")}function tD(t){t.target===window||t.target===document||(!fl&&!I7&&(Rf="virtual",o_("virtual",t)),fl=!1,I7=!1)}function nD(){fl=!1,I7=!0}function P7(t){if(typeof window>"u"||rd.get(ja(t)))return;const e=ja(t),n=Pf(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){fl=!0,r.apply(this,arguments)},n.addEventListener("keydown",t1,!0),n.addEventListener("keyup",t1,!0),n.addEventListener("click",eD,!0),e.addEventListener("focus",tD,!0),e.addEventListener("blur",nD,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Jr,!0),n.addEventListener("pointermove",Jr,!0),n.addEventListener("pointerup",Jr,!0)):(n.addEventListener("mousedown",Jr,!0),n.addEventListener("mousemove",Jr,!0),n.addEventListener("mouseup",Jr,!0)),e.addEventListener("beforeunload",()=>{rD(t)},{once:!0}),rd.set(e,{focus:r})}const rD=(t,e)=>{const n=ja(t),r=Pf(t);e&&r.removeEventListener("DOMContentLoaded",e),rd.has(n)&&(n.HTMLElement.prototype.focus=rd.get(n).focus,r.removeEventListener("keydown",t1,!0),r.removeEventListener("keyup",t1,!0),r.removeEventListener("click",eD,!0),n.removeEventListener("focus",tD,!0),n.removeEventListener("blur",nD,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Jr,!0),r.removeEventListener("pointermove",Jr,!0),r.removeEventListener("pointerup",Jr,!0)):(r.removeEventListener("mousedown",Jr,!0),r.removeEventListener("mousemove",Jr,!0),r.removeEventListener("mouseup",Jr,!0)),rd.delete(n))};function y1e(t){const e=Pf(t);let n;return e.readyState!=="loading"?P7(t):(n=()=>{P7(t)},e.addEventListener("DOMContentLoaded",n)),()=>rD(t,n)}typeof document<"u"&&y1e();function iD(){return Rf!=="pointer"}const _1e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function x1e(t,e,n){var r;const i=typeof window<"u"?ja(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?ja(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?ja(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?ja(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||(n==null?void 0:n.target)instanceof i&&!_1e.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof s||(n==null?void 0:n.target)instanceof o&&(n==null?void 0:n.target.isContentEditable),!(t&&e==="keyboard"&&n instanceof a&&!g1e[n.key])}function b1e(t,e,n){P7(),P.useEffect(()=>{let r=(i,s)=>{x1e(!!(n!=null&&n.isTextInput),i,s)&&t(iD())};return A7.add(r),()=>{A7.delete(r)}},e)}function w1e(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=P.useRef({isFocusWithin:!1}),o=P.useCallback(c=>{s.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(s.current.isFocusWithin=!1,n&&n(c),i&&i(!1))},[n,i,s]),a=JM(o),l=P.useCallback(c=>{!s.current.isFocusWithin&&document.activeElement===c.target&&(r&&r(c),i&&i(!0),s.current.isFocusWithin=!0,a(c))},[r,i,a]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:o}}}let n1=!1,j6=0;function R7(){n1=!0,setTimeout(()=>{n1=!1},50)}function u9(t){t.pointerType==="touch"&&R7()}function S1e(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",u9):document.addEventListener("touchend",R7),j6++,()=>{j6--,!(j6>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",u9):document.removeEventListener("touchend",R7))}}function E1e(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=P.useState(!1),a=P.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;P.useEffect(S1e,[]);let{hoverProps:l,triggerHoverEnd:c}=P.useMemo(()=>{let h=(m,g)=>{if(a.pointerType=g,i||g==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let v=m.currentTarget;a.target=v,e&&e({type:"hoverstart",target:v,pointerType:g}),n&&n(!0),o(!0)},d=(m,g)=>{if(a.pointerType="",a.target=null,g==="touch"||!a.isHovered)return;a.isHovered=!1;let v=m.currentTarget;r&&r({type:"hoverend",target:v,pointerType:g}),n&&n(!1),o(!1)},f={};return typeof PointerEvent<"u"?(f.onPointerEnter=m=>{n1&&m.pointerType==="mouse"||h(m,m.pointerType)},f.onPointerLeave=m=>{!i&&m.currentTarget.contains(m.target)&&d(m,m.pointerType)}):(f.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},f.onMouseEnter=m=>{!a.ignoreEmulatedMouseEvents&&!n1&&h(m,"mouse"),a.ignoreEmulatedMouseEvents=!1},f.onMouseLeave=m=>{!i&&m.currentTarget.contains(m.target)&&d(m,"mouse")}),{hoverProps:f,triggerHoverEnd:d}},[e,n,r,i,a]);return P.useEffect(()=>{i&&c({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:s}}function sD(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=P.useRef({isFocused:!1,isFocusVisible:e||iD()}),[s,o]=P.useState(!1),[a,l]=P.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=P.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),h=P.useCallback(m=>{i.current.isFocused=m,o(m),c()},[c]);b1e(m=>{i.current.isFocusVisible=m,c()},[],{isTextInput:n});let{focusProps:d}=m1e({isDisabled:r,onFocusChange:h}),{focusWithinProps:f}=w1e({isDisabled:!r,onFocusWithinChange:h});return{isFocused:s,isFocusVisible:a,focusProps:r?f:d}}var T1e=Object.defineProperty,L1e=(t,e,n)=>e in t?T1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V6=(t,e,n)=>(L1e(t,typeof e!="symbol"?e+"":e,n),n);let C1e=class{constructor(){V6(this,"current",this.detect()),V6(this,"handoffState","pending"),V6(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},oD=new C1e;function aD(t){return oD.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function lD(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function cD(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return lD(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=cD();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function k1e(){let[t]=P.useState(cD);return P.useEffect(()=>()=>t.dispose(),[t]),t}let su=(t,e)=>{oD.isServer?P.useEffect(t,e):P.useLayoutEffect(t,e)};function Mh(t){let e=P.useRef(t);return su(()=>{e.current=t},[t]),e}let es=function(t){let e=Mh(t);return Cn.useCallback((...n)=>e.current(...n),[e])};function A1e(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function I1e(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function P1e({disabled:t=!1}={}){let e=P.useRef(null),[n,r]=P.useState(!1),i=k1e(),s=es(()=>{e.current=null,r(!1),i.dispose()}),o=es(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=aD(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let h=A1e(c);r(I1e(h,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function h9(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Xa(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Xa),r}var M7=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(M7||{}),R1e=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(R1e||{});function Ru({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??M1e;let l=uD(e,t);if(s)return z3(l,n,r,o,a);let c=i??0;if(c&2){let{static:h=!1,...d}=l;if(h)return z3(d,n,r,o,a)}if(c&1){let{unmount:h=!0,...d}=l;return Xa(h?0:1,{0(){return null},1(){return z3({...d,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return z3(l,n,r,o,a)}function z3(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=G6(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},h=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(e){let f=!1,m=[];for(let[g,v]of Object.entries(e))typeof v=="boolean"&&(f=!0),v===!0&&m.push(g.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(f){d["data-headlessui-state"]=m.join(" ");for(let g of m)d[`data-${g}`]=""}}if(s===P.Fragment&&(Object.keys(Wl(l)).length>0||Object.keys(Wl(d)).length>0))if(!P.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(Wl(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Wl(l)).concat(Object.keys(Wl(d))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=h.props,m=f==null?void 0:f.className,g=typeof m=="function"?(...x)=>h9(m(...x),l.className):h9(m,l.className),v=g?{className:g}:{},_=uD(h.props,Wl(G6(l,["ref"])));for(let x in d)x in _&&delete d[x];return P.cloneElement(h,Object.assign({},_,d,c,{ref:i(h.ref,c.ref)},v))}return P.createElement(s,Object.assign({},G6(l,["ref"]),s!==P.Fragment&&c,s!==P.Fragment&&d),h)}function M1e(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function uD(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function hD(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function Mu(t){var e;return Object.assign(P.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Wl(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function G6(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let D1e="span";var dD=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(dD||{});function O1e(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ru({ourProps:s,theirProps:i,slot:{},defaultTag:D1e,name:"Hidden"})}let fD=Mu(O1e),N1e=Symbol();function Mf(...t){let e=P.useRef(t);P.useEffect(()=>{e.current=t},[t]);let n=es(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[N1e]))?void 0:n}var fi=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(fi||{});let F1e=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),$1e=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var pi=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(pi||{}),Dh=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Dh||{}),z1e=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(z1e||{});function B1e(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(F1e)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function U1e(t=document.body){return t==null?[]:Array.from(t.querySelectorAll($1e)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var j1e=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(j1e||{}),V1e=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(V1e||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let G1e=["textarea","input"].join(",");function H1e(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,G1e))!=null?n:!1}function _c(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Kl(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?_c(t):t:e&64?U1e(t):B1e(t);i.length>0&&o.length>1&&(o=o.filter(m=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===m:g===m))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},h=0,d=o.length,f;do{if(h>=d||h+d<=0)return 0;let m=l+h;if(e&16)m=(m+d)%d;else{if(m<0)return 3;if(m>=d)return 1}f=o[m],f==null||f.focus(c),h+=a}while(f!==s.activeElement);return e&6&&H1e(f)&&f.select(),2}function W1e(t,e){return P.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function K1e(){let t=P.useRef(!1);return su(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function q1e({onFocus:t}){let[e,n]=P.useState(!0),r=K1e();return e?Cn.createElement(fD,{as:"button",type:"button",features:dD.Focusable,onFocus:i=>{i.preventDefault();let s,o=50;function a(){if(o--<=0){s&&cancelAnimationFrame(s);return}if(t()){if(cancelAnimationFrame(s),!r.current)return;n(!1);return}s=requestAnimationFrame(a)}s=requestAnimationFrame(a)}}):null}const pD=P.createContext(null);function Y1e(){return{groups:new Map,get(t,e){var n;let r=this.groups.get(t);r||(r=new Map,this.groups.set(t,r));let i=(n=r.get(e))!=null?n:0;r.set(e,i+1);let s=Array.from(r.keys()).indexOf(e);function o(){let a=r.get(e);a>1?r.set(e,a-1):r.delete(e)}return[s,o]}}}function Z1e({children:t}){let e=P.useRef(Y1e());return P.createElement(pD.Provider,{value:e},t)}function mD(t){let e=P.useContext(pD);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let n=P.useId(),[r,i]=e.current.get(t,n);return P.useEffect(()=>i,[]),r}var X1e=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(X1e||{}),Q1e=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(Q1e||{}),J1e=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(J1e||{});let e2e={0(t,e){var n;let r=_c(t.tabs,h=>h.current),i=_c(t.panels,h=>h.current),s=r.filter(h=>{var d;return!((d=h.current)!=null&&d.hasAttribute("disabled"))}),o={...t,tabs:r,panels:i};if(e.index<0||e.index>r.length-1){let h=Xa(Math.sign(e.index-t.selectedIndex),{[-1]:()=>1,0:()=>Xa(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return o;let d=Xa(h,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...o,selectedIndex:d===-1?t.selectedIndex:d}}let a=r.slice(0,e.index),l=[...r.slice(e.index),...a].find(h=>s.includes(h));if(!l)return o;let c=(n=r.indexOf(l))!=null?n:t.selectedIndex;return c===-1&&(c=t.selectedIndex),{...o,selectedIndex:c}},1(t,e){if(t.tabs.includes(e.tab))return t;let n=t.tabs[t.selectedIndex],r=_c([...t.tabs,e.tab],s=>s.current),i=t.selectedIndex;return t.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=t.selectedIndex)),{...t,tabs:r,selectedIndex:i}},2(t,e){return{...t,tabs:t.tabs.filter(n=>n!==e.tab)}},3(t,e){return t.panels.includes(e.panel)?t:{...t,panels:_c([...t.panels,e.panel],n=>n.current)}},4(t,e){return{...t,panels:t.panels.filter(n=>n!==e.panel)}}},a_=P.createContext(null);a_.displayName="TabsDataContext";function ou(t){let e=P.useContext(a_);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ou),n}return e}let l_=P.createContext(null);l_.displayName="TabsActionsContext";function c_(t){let e=P.useContext(l_);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,c_),n}return e}function t2e(t,e){return Xa(e.type,e2e,t,e)}let n2e="div";function r2e(t,e){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:s,selectedIndex:o=null,...a}=t;const l=r?"vertical":"horizontal",c=i?"manual":"auto";let h=o!==null,d=Mh({isControlled:h}),f=Mf(e),[m,g]=P.useReducer(t2e,{info:d,selectedIndex:o??n,tabs:[],panels:[]}),v=P.useMemo(()=>({selectedIndex:m.selectedIndex}),[m.selectedIndex]),_=Mh(s||(()=>{})),x=Mh(m.tabs),b=P.useMemo(()=>({orientation:l,activation:c,...m}),[l,c,m]),w=es(O=>(g({type:1,tab:O}),()=>g({type:2,tab:O}))),T=es(O=>(g({type:3,panel:O}),()=>g({type:4,panel:O}))),C=es(O=>{I.current!==O&&_.current(O),h||g({type:0,index:O})}),I=Mh(h?t.selectedIndex:m.selectedIndex),M=P.useMemo(()=>({registerTab:w,registerPanel:T,change:C}),[]);su(()=>{g({type:0,index:o??n})},[o]),su(()=>{if(I.current===void 0||m.tabs.length<=0)return;let O=_c(m.tabs,N=>N.current);O.some((N,z)=>m.tabs[z]!==N)&&C(O.indexOf(m.tabs[I.current]))});let A={ref:f};return Cn.createElement(Z1e,null,Cn.createElement(l_.Provider,{value:M},Cn.createElement(a_.Provider,{value:b},b.tabs.length<=0&&Cn.createElement(q1e,{onFocus:()=>{var O,N;for(let z of x.current)if(((O=z.current)==null?void 0:O.tabIndex)===0)return(N=z.current)==null||N.focus(),!0;return!1}}),Ru({ourProps:A,theirProps:a,slot:v,defaultTag:n2e,name:"Tabs"}))))}let i2e="div";function s2e(t,e){let{orientation:n,selectedIndex:r}=ou("Tab.List"),i=Mf(e),s=P.useMemo(()=>({selectedIndex:r}),[r]);return Ru({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:t,slot:s,defaultTag:i2e,name:"Tabs.List"})}let o2e="button";function a2e(t,e){var n,r;let i=P.useId(),{id:s=`headlessui-tabs-tab-${i}`,disabled:o=!1,autoFocus:a=!1,...l}=t,{orientation:c,activation:h,selectedIndex:d,tabs:f,panels:m}=ou("Tab"),g=c_("Tab"),v=ou("Tab"),[_,x]=P.useState(null),b=P.useRef(null),w=Mf(b,e,x);su(()=>g.registerTab(b),[g,b]);let T=mD("tabs"),C=f.indexOf(b);C===-1&&(C=T);let I=C===d,M=es(F=>{var q;let re=F();if(re===Dh.Success&&h==="auto"){let le=(q=aD(b))==null?void 0:q.activeElement,he=v.tabs.findIndex(de=>de.current===le);he!==-1&&g.change(he)}return re}),A=es(F=>{let q=f.map(re=>re.current).filter(Boolean);if(F.key===fi.Space||F.key===fi.Enter){F.preventDefault(),F.stopPropagation(),g.change(C);return}switch(F.key){case fi.Home:case fi.PageUp:return F.preventDefault(),F.stopPropagation(),M(()=>Kl(q,pi.First));case fi.End:case fi.PageDown:return F.preventDefault(),F.stopPropagation(),M(()=>Kl(q,pi.Last))}if(M(()=>Xa(c,{vertical(){return F.key===fi.ArrowUp?Kl(q,pi.Previous|pi.WrapAround):F.key===fi.ArrowDown?Kl(q,pi.Next|pi.WrapAround):Dh.Error},horizontal(){return F.key===fi.ArrowLeft?Kl(q,pi.Previous|pi.WrapAround):F.key===fi.ArrowRight?Kl(q,pi.Next|pi.WrapAround):Dh.Error}}))===Dh.Success)return F.preventDefault()}),O=P.useRef(!1),N=es(()=>{var F;O.current||(O.current=!0,(F=b.current)==null||F.focus({preventScroll:!0}),g.change(C),lD(()=>{O.current=!1}))}),z=es(F=>{F.preventDefault()}),{isFocusVisible:H,focusProps:j}=sD({autoFocus:a}),{isHovered:Z,hoverProps:te}=E1e({isDisabled:o}),{pressed:G,pressProps:ie}=P1e({disabled:o}),U=P.useMemo(()=>({selected:I,hover:Z,active:G,focus:H,autofocus:a,disabled:o}),[I,Z,H,G,a,o]),W=hD({ref:w,onKeyDown:A,onMouseDown:z,onClick:N,id:s,role:"tab",type:W1e(t,_),"aria-controls":(r=(n=m[C])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":I,tabIndex:I?0:-1,disabled:o||void 0,autoFocus:a},j,te,ie);return Ru({ourProps:W,theirProps:l,slot:U,defaultTag:o2e,name:"Tabs.Tab"})}let l2e="div";function c2e(t,e){let{selectedIndex:n}=ou("Tab.Panels"),r=Mf(e),i=P.useMemo(()=>({selectedIndex:n}),[n]);return Ru({ourProps:{ref:r},theirProps:t,slot:i,defaultTag:l2e,name:"Tabs.Panels"})}let u2e="div",h2e=M7.RenderStrategy|M7.Static;function d2e(t,e){var n,r,i,s;let o=P.useId(),{id:a=`headlessui-tabs-panel-${o}`,tabIndex:l=0,...c}=t,{selectedIndex:h,tabs:d,panels:f}=ou("Tab.Panel"),m=c_("Tab.Panel"),g=P.useRef(null),v=Mf(g,e);su(()=>m.registerPanel(g),[m,g]);let _=mD("panels"),x=f.indexOf(g);x===-1&&(x=_);let b=x===h,{isFocusVisible:w,focusProps:T}=sD(),C=P.useMemo(()=>({selected:b,focus:w}),[b,w]),I=hD({ref:v,id:a,role:"tabpanel","aria-labelledby":(r=(n=d[x])==null?void 0:n.current)==null?void 0:r.id,tabIndex:b?l:-1},T);return!b&&((i=c.unmount)==null||i)&&!((s=c.static)!=null&&s)?Cn.createElement(fD,{"aria-hidden":"true",...I}):Ru({ourProps:I,theirProps:c,slot:C,defaultTag:u2e,features:h2e,visible:b,name:"Tabs.Panel"})}let f2e=Mu(a2e),gD=Mu(r2e),vD=Mu(s2e),yD=Mu(c2e),_D=Mu(d2e),p2e=Object.assign(f2e,{Group:gD,List:vD,Panels:yD,Panel:_D});function m2e({server:t}){const[e,n]=P.useState([{name:"",votes:0}]),[r]=P.useState(Math.floor(Math.random()*1e4)),[i,s]=P.useState(""),o=()=>{n([...e,{name:"",votes:0}])},a=c=>{const h=[...e];h.splice(c,1),n(h)},l=(c,h,d)=>{const f=[...e];f[c]={...f[c],[h]:d},n(f)};return E.jsx("div",{className:"flex flex-col gap-y-4",children:E.jsxs("div",{className:"w-full flex flex-col border dark:border-white/[.15] border-black/30 rounded-lg overflow-hidden",children:[E.jsxs("div",{className:"flex items-center justify-between w-full p-2 border-b dark:border-white/[.15] border-black/30 gap-x-4",children:[E.jsx("h4",{className:"ml-3",children:"Anket ekle"}),E.jsx(ft,{style:{color:{hex:t.color,opacity:.2}},content:{icon:{name:"Ok",style:"ml-0.5"}},event:{click:()=>{RV(t.name,{title:i,id:r,answers:e})}}})]}),E.jsx("div",{className:"p-3 w-full",children:E.jsx(Ln,{event:{change:c=>s(c.target.value)},content:{text:"Anket başlığı"},style:{height:"h-10",padding:"px-4",width:"w-full"},value:i})}),E.jsxs("div",{className:"flex items-center justify-between w-full p-1 bg-white/5 gap-x-4",children:[E.jsx("h4",{className:"ml-2",children:"Yanıtları düzenle"}),E.jsx("div",{className:"flex items-center gap-x-1",children:E.jsx("button",{onClick:()=>o(),className:"h-auto text-sm bg-black/40 hover:bg-purple-500/10 rounded-lg flex items-center gap-x-1.5 border dark:border-white/[.15] border-black/30 hover:border-transparent",children:E.jsx("div",{className:"px-2 py-1.5",children:E.jsx(be,{size:23,name:"Add"})})})})]}),E.jsx("div",{className:"flex flex-col",children:e.map((c,h)=>E.jsxs("div",{className:"w-full flex items-center last:border-0 border-b dark:border-white/[.15] border-black/30",children:[E.jsx("input",{onChange:d=>l(h,"name",d.target.value),className:"bg-transparent w-full border-r dark:border-white/[.15] border-black/30 h-full py-2 px-3",placeholder:"Yanıt",value:c.name,type:"text"}),E.jsx("button",{onClick:()=>a(h),className:"p-2 flex items-center justify-center hover:bg-purple-500/10",children:E.jsx(be,{size:23,name:"Remove"})})]},h))})]})})}const d9="pvs-yenna";function xD(){const[t,e]=P.useState(!1),[n,r]=P.useState(""),[i,s]=P.useState(!1),[o,a]=P.useState({}),[l,c]=P.useState(""),h=tI(),{server:d}=bl();P.useEffect(()=>{localStorage.getItem("POVS_ADMIN")===d9&&(cn.dispatch(Sg(!0)),e(!0))},[]);const f=()=>{l===d9?(localStorage.setItem("POVS_ADMIN",l),cn.dispatch(Sg(!0)),e(!0),h("/")):alert("Yanlış şifre!")};P.useEffect(()=>{Oo(ot(at,"/announcement"),v=>{r(v.val())})},[]),P.useEffect(()=>{if(d){const v=[{name:"Sunucu işlemleri",posts:[{id:1,title:"Sunucu duyurusunu güncelle",value:d.announcement,event:Cm},{id:2,title:"Sunucu logosunu güncelle",value:d.logo,event:Sm},{id:3,title:"Sunucu arkaplanını güncelle",value:d.background,event:km},{id:4,title:"Sunucu rengini düzenle",value:d.color,event:Em},{id:5,title:"Sunucu FiveM kodunu güncelle",value:d.code,event:Lm},{id:6,title:"Oyun kelimelerini düzenle",value:d.gameWords,event:Tm},{id:7,title:"Kick yayıncısı ekle",value:"",event:"SERVER_DB_ADD_STREAMER_KICK"},{id:8,title:"Twitch yayıncısı ekle",value:"",event:"SERVER_DB_ADD_STREAMER_TWITCH"},{id:9,title:"Karakter ekle (Karakter,Yayıncı)",value:"",event:"SERVER_DB_ADD_CHARACTER"},{id:10,title:"Anket oluştur (sohbetli)",value:"",event:Am}]},{name:"Genel işlemler",posts:[{id:1,title:"Duyuru",value:n,event:wm},{id:2,title:"Sunucu ekle",value:"",event:bm}]}];s(v);const _={};v.forEach(x=>{x.posts.forEach(b=>{_[b.id]=b.value})}),a(_)}},[d]);const m=(v,_)=>{a(x=>({...x,[v]:_}))},g=v=>{const _=o[v.id];switch(v.event){case Cm:Cm(d,_);break;case Sm:Sm(d,_);break;case km:km(d,_);break;case Em:Em(d,_);break;case Lm:Lm(d,_);break;case Tm:Tm(d,_);break;case wm:wm(_);break;case"SERVER_DB_ADD_STREAMER_KICK":Mx(d,_,null);break;case"SERVER_DB_ADD_STREAMER_TWITCH":Mx(d,null,_);break;case"SERVER_DB_ADD_CHARACTER":zC(d.name,_);break;case Am:Am(d.name,{title:_,id:Wd()});break;case bm:bm(_);break}};return t?i?E.jsx("div",{className:"flex w-full max-w-5xl mx-auto items-center justify-center p-3",children:E.jsxs("div",{className:"w-full",children:[E.jsxs(gD,{children:[E.jsx(vD,{className:"flex mx-auto gap-4 items-center justify-center",children:i.map(({name:v})=>E.jsx(p2e,{className:"rounded-xl py-1 px-3 text-sm/6 font-semibold focus:outline-none data-[selected]:bg-white/10 data-[hover]:bg-white/5 data-[selected]:data-[hover]:bg-white/10 data-[focus]:outline-1 data-[focus]:outline-white",children:v},v))}),E.jsx(yD,{className:"flex flex-auto flex-wrap w-full",children:i.map(({name:v,posts:_})=>E.jsx(_D,{className:"rounded-xl flex w-full flex-wrap gap-2",children:_.map(x=>E.jsxs("div",{className:"relative rounded-md py-3 text-sm/6 transition w-1/4 flex-auto",children:[E.jsx("div",{className:"mb-2 font-semibold",children:x.title}),E.jsxs("div",{className:"flex items-center gap-x-2 w-full",children:[E.jsx(Ln,{event:{change:b=>m(x.id,b.target.value)},style:{width:"w-full"},content:{icon:{name:"Settings"},text:x.title},value:o[x.id]||""}),E.jsx(ft,{event:{click:()=>g(x)},content:{icon:{name:"Ok"}}})]})]},x.id))},v))})]}),E.jsx(m2e,{server:d})]})}):E.jsx(us,{text:"Panel yükleniyor",type:"page",size:40}):E.jsx("div",{className:"flex w-full max-w-5xl mx-auto items-center justify-center p-3",children:E.jsxs("div",{className:"w-full max-w-xs",children:[E.jsx("div",{className:"mb-4",children:E.jsx(Ln,{event:{change:v=>c(v.target.value)},style:{width:"w-full"},content:{icon:{name:"Lock"},text:"Şifre"},value:l,type:"password"})}),E.jsx(ft,{event:{click:f},content:{icon:{name:"Login"},text:"Giriş Yap"}})]})})}function g2e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bD={exports:{}};(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,c,h){if(h=h||{},l=l.trim(),c=c.trim(),!c){if(!h.alwaysNormalize)return l;var d=a.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=a.normalizePath(d.path),a.buildURLFromParts(d)}var f=a.parseURL(c);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return h.alwaysNormalize?(f.path=a.normalizePath(f.path),a.buildURLFromParts(f)):c;var m=a.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var g=i.exec(m.path);m.netLoc=g[1],m.path=g[2]}m.netLoc&&!m.path&&(m.path="/");var v={scheme:m.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(v.netLoc=m.netLoc,f.path[0]!=="/"))if(!f.path)v.path=m.path,f.params||(v.params=m.params,f.query||(v.query=m.query));else{var _=m.path,x=_.substring(0,_.lastIndexOf("/")+1)+f.path;v.path=a.normalizePath(x)}return v.path===null&&(v.path=h.alwaysNormalize?a.normalizePath(f.path):f.path),a.buildURLFromParts(v)},parseURL:function(l){var c=r.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(bD);var u_=bD.exports;function f9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f9(Object(n),!0).forEach(function(r){_2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y2e(t){var e=v2e(t,"string");return typeof e=="symbol"?e:String(e)}function _2e(t,e,n){return e=y2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function un(){return un=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},un.apply(this,arguments)}const _e=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},x2e=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=b2e},b2e=Number.MAX_SAFE_INTEGER||9007199254740991;let R=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),Ie=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),ee=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const Ra=function(){},D7={trace:Ra,debug:Ra,log:Ra,warn:Ra,info:Ra,error:Ra};let id=D7;function w2e(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):Ra}function S2e(t,...e){e.forEach(function(n){id[n]=t[n]?t[n].bind(t):w2e(n)})}function E2e(t,e){if(typeof console=="object"&&t===!0||typeof t=="object"){S2e(t,"debug","log","info","warn","error");try{id.log(`Debug logs enabled for "${e}" in hls.js version 1.5.15`)}catch{id=D7}}else id=D7}const K=id,T2e=/^(\d+)x(\d+)$/,p9=/(.+?)=(".*?"|.*?)(?:,|$)/g;class zt{constructor(e){typeof e=="string"&&(e=zt.parseAttrList(e)),un(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let i=0;i<n.length/2;i++)r[i]=parseInt(n.slice(i*2,i*2+2),16);return r}else return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const n=T2e.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e){let n;const r={},i='"';for(p9.lastIndex=0;(n=p9.exec(e))!==null;){let s=n[2];s.indexOf(i)===0&&s.lastIndexOf(i)===s.length-1&&(s=s.slice(1,-1));const o=n[1].trim();r[o]=s}return r}}function L2e(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function C2e(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class wD{constructor(e,n){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,n){const r=n.attr;for(const i in r)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==r[i]){K.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=i;break}e=un(new zt({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const r=new Date(this.attr["END-DATE"]);_e(r.getTime())&&(this._endDate=r)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(_e(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&_e(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class T2{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var mt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class SD{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[mt.AUDIO]:null,[mt.VIDEO]:null,[mt.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,n){const r=e.split("@",2);let i;r.length===1?i=(n==null?void 0:n.byteRangeEndOffset)||0:i=parseInt(r[1]),this._byteRange=[i,parseInt(r[0])+i]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=u_.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class H6 extends SD{constructor(e,n){super(n),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new T2,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!_e(this.programDateTime))return null;const e=_e(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const n=Object.keys(this.levelkeys),r=n.length;if(r>1||r===1&&this.levelkeys[n[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const n=this.levelkeys[e];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,i,s,o=!1){const{elementaryStreams:a}=this,l=a[e];if(!l){a[e]={startPTS:n,endPTS:r,startDTS:i,endDTS:s,partial:o};return}l.startPTS=Math.min(l.startPTS,n),l.endPTS=Math.max(l.endPTS,r),l.startDTS=Math.min(l.startDTS,i),l.endDTS=Math.max(l.endDTS,s)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[mt.AUDIO]=null,e[mt.VIDEO]=null,e[mt.AUDIOVIDEO]=null}}class k2e extends SD{constructor(e,n,r,i,s){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new T2,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=i;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const A2e=10;class I2e{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?_e(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||A2e}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function h_(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function P2e(t){const e=O7(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function R2e(t){const e=function(r,i,s){const o=r[i];r[i]=r[s],r[s]=o};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function M2e(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),i=r[r.length-1].split(",");if(i.length===2){const s=i[0]==="base64",o=i[1];s?(r.splice(-1,1),n=h_(o)):n=P2e(o)}}return n}function O7(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}const au=typeof self<"u"?self:void 0;var Ct={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},gr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function m9(t){switch(t){case gr.FAIRPLAY:return Ct.FAIRPLAY;case gr.PLAYREADY:return Ct.PLAYREADY;case gr.WIDEVINE:return Ct.WIDEVINE;case gr.CLEARKEY:return Ct.CLEARKEY}}var Oh={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",FAIRPLAY:"94ce86fb07ff4f43adb893d2fa968ca2",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function g9(t){if(t===Oh.WIDEVINE)return Ct.WIDEVINE;if(t===Oh.PLAYREADY)return Ct.PLAYREADY;if(t===Oh.CENC||t===Oh.CLEARKEY)return Ct.CLEARKEY}function v9(t){switch(t){case Ct.FAIRPLAY:return gr.FAIRPLAY;case Ct.PLAYREADY:return gr.PLAYREADY;case Ct.WIDEVINE:return gr.WIDEVINE;case Ct.CLEARKEY:return gr.CLEARKEY}}function W6(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[Ct.FAIRPLAY,Ct.WIDEVINE,Ct.PLAYREADY,Ct.CLEARKEY].filter(i=>!!e[i]):[];return!r[Ct.WIDEVINE]&&n&&r.push(Ct.WIDEVINE),r}const ED=function(t){return au!=null&&(t=au.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function D2e(t,e,n,r){let i;switch(t){case Ct.FAIRPLAY:i=["cenc","sinf"];break;case Ct.WIDEVINE:case Ct.PLAYREADY:i=["cenc"];break;case Ct.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return O2e(i,e,n,r)}function O2e(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs="${s}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(s=>({contentType:`video/mp4; codecs="${s}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function Qa(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const d_=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,TD=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,qd=(t,e)=>{const n=e;let r=0;for(;d_(t,e);){r+=10;const i=L2(t,e+6);r+=i,TD(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)},L2=(t,e)=>{let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n},N2e=(t,e)=>d_(t,e)&&L2(t,e+6)+10<=t.length-e,f_=t=>{const e=CD(t);for(let n=0;n<e.length;n++){const r=e[n];if(LD(r))return j2e(r)}},LD=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",F2e=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=L2(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}},CD=t=>{let e=0;const n=[];for(;d_(t,e);){const r=L2(t,e+6);e+=10;const i=e+r;for(;e+8<i;){const s=F2e(t.subarray(e)),o=$2e(s);o&&n.push(o),e+=s.size+10}TD(t,e)&&(e+=10)}return n},$2e=t=>t.type==="PRIV"?z2e(t):t.type[0]==="W"?U2e(t):B2e(t),z2e=t=>{if(t.size<2)return;const e=cs(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},B2e=t=>{if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=cs(t.data.subarray(n),!0);n+=r.length+1;const i=cs(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=cs(t.data.subarray(1));return{key:t.type,data:e}},U2e=t=>{if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=cs(t.data.subarray(n),!0);n+=r.length+1;const i=cs(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=cs(t.data);return{key:t.type,data:e}},j2e=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}},cs=(t,e=!1)=>{const n=V2e();if(n){const c=n.decode(t);if(e){const h=c.indexOf("\0");return h!==-1?c.substring(0,h):c}return c.replace(/\0/g,"")}const r=t.length;let i,s,o,a="",l=0;for(;l<r;){if(i=t[l++],i===0&&e)return a;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:s=t[l++],a+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=t[l++],o=t[l++],a+=String.fromCharCode((i&15)<<12|(s&63)<<6|(o&63)<<0);break}}return a};let K6;function V2e(){if(!navigator.userAgent.includes("PlayStation 4"))return!K6&&typeof self.TextDecoder<"u"&&(K6=new self.TextDecoder("utf-8")),K6}const Yi={hexDump:function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}},r1=Math.pow(2,32)-1,G2e=[].push,kD={video:1,audio:2,id3:3,text:4};function fn(t){return String.fromCharCode.apply(null,t)}function AD(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function Ee(t,e){const n=ID(t,e);return n<0?4294967296+n:n}function y9(t,e){let n=Ee(t,e);return n*=Math.pow(2,32),n+=Ee(t,e+4),n}function ID(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function q6(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n&255}function H2e(t){const e=t.byteLength;for(let n=0;n<e;){const r=Ee(t,n);if(r>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=r>1?n+r:e}return!1}function $e(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let i=0;i<r;){const s=Ee(t,i),o=fn(t.subarray(i+4,i+8)),a=s>1?i+s:r;if(o===e[0])if(e.length===1)n.push(t.subarray(i+8,a));else{const l=$e(t.subarray(i+8,a),e.slice(1));l.length&&G2e.apply(n,l)}i=a}return n}function W2e(t){const e=[],n=t[0];let r=8;const i=Ee(t,r);r+=4;let s=0,o=0;n===0?(s=Ee(t,r),o=Ee(t,r+4),r+=8):(s=y9(t,r),o=y9(t,r+8),r+=16),r+=2;let a=t.length+o;const l=AD(t,r);r+=2;for(let c=0;c<l;c++){let h=r;const d=Ee(t,h);h+=4;const f=d&2147483647;if((d&2147483648)>>>31===1)return K.warn("SIDX has hierarchical references (not supported)"),null;const g=Ee(t,h);h+=4,e.push({referenceSize:f,subsegmentDuration:g,info:{duration:g/i,start:a,end:a+f-1}}),a+=f,h+=4,r=h}return{earliestPresentationTime:s,timescale:i,version:n,referencesCount:l,references:e}}function PD(t){const e=[],n=$e(t,["moov","trak"]);for(let i=0;i<n.length;i++){const s=n[i],o=$e(s,["tkhd"])[0];if(o){let a=o[0];const l=Ee(o,a===0?12:20),c=$e(s,["mdia","mdhd"])[0];if(c){a=c[0];const h=Ee(c,a===0?12:20),d=$e(s,["mdia","hdlr"])[0];if(d){const f=fn(d.subarray(8,12)),m={soun:mt.AUDIO,vide:mt.VIDEO}[f];if(m){const g=$e(s,["mdia","minf","stbl","stsd"])[0],v=K2e(g);e[l]={timescale:h,type:m},e[m]=An({timescale:h,id:l},v)}}}}}return $e(t,["moov","mvex","trex"]).forEach(i=>{const s=Ee(i,4),o=e[s];o&&(o.default={duration:Ee(i,12),flags:Ee(i,20)})}),e}function K2e(t){const e=t.subarray(8),n=e.subarray(86),r=fn(e.subarray(4,8));let i=r;const s=r==="enca"||r==="encv";if(s){const a=$e(e,[r])[0].subarray(r==="enca"?28:78);$e(a,["sinf"]).forEach(c=>{const h=$e(c,["schm"])[0];if(h){const d=fn(h.subarray(4,8));if(d==="cbcs"||d==="cenc"){const f=$e(c,["frma"])[0];f&&(i=fn(f))}}})}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const o=$e(n,["avcC"])[0];i+="."+B3(o[1])+B3(o[2])+B3(o[3]);break}case"mp4a":{const o=$e(e,[r])[0],a=$e(o.subarray(28),["esds"])[0];if(a&&a.length>12){let l=4;if(a[l++]!==3)break;l=Y6(a,l),l+=2;const c=a[l++];if(c&128&&(l+=2),c&64&&(l+=a[l++]),a[l++]!==4)break;l=Y6(a,l);const h=a[l++];if(h===64)i+="."+B3(h);else break;if(l+=12,a[l++]!==5)break;l=Y6(a,l);const d=a[l++];let f=(d&248)>>3;f===31&&(f+=1+((d&7)<<3)+((a[l]&224)>>5)),i+="."+f}break}case"hvc1":case"hev1":{const o=$e(n,["hvcC"])[0],a=o[1],l=["","A","B","C"][a>>6],c=a&31,h=Ee(o,2),d=(a&32)>>5?"H":"L",f=o[12],m=o.subarray(6,12);i+="."+l+c,i+="."+h.toString(16).toUpperCase(),i+="."+d+f;let g="";for(let v=m.length;v--;){const _=m[v];(_||g)&&(g="."+_.toString(16).toUpperCase()+g)}i+=g;break}case"dvh1":case"dvhe":{const o=$e(n,["dvcC"])[0],a=o[2]>>1&127,l=o[2]<<5&32|o[3]>>3&31;i+="."+Wi(a)+"."+Wi(l);break}case"vp09":{const o=$e(n,["vpcC"])[0],a=o[4],l=o[5],c=o[6]>>4&15;i+="."+Wi(a)+"."+Wi(l)+"."+Wi(c);break}case"av01":{const o=$e(n,["av1C"])[0],a=o[1]>>>5,l=o[1]&31,c=o[2]>>>7?"H":"M",h=(o[2]&64)>>6,d=(o[2]&32)>>5,f=a===2&&h?d?12:10:h?10:8,m=(o[2]&16)>>4,g=(o[2]&8)>>3,v=(o[2]&4)>>2,_=o[2]&3;i+="."+a+"."+Wi(l)+c+"."+Wi(f)+"."+m+"."+g+v+_+"."+Wi(1)+"."+Wi(1)+"."+Wi(1)+"."+0;break}}return{codec:i,encrypted:s}}function Y6(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function B3(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function Wi(t){return(t<10?"0":"")+t}function q2e(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&$e(t,["moov","trak"]).forEach(i=>{const o=$e(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let a=$e(o,["enca"]);const l=a.length>0;l||(a=$e(o,["encv"])),a.forEach(c=>{const h=l?c.subarray(28):c.subarray(78);$e(h,["sinf"]).forEach(f=>{const m=RD(f);if(m){const g=m.subarray(8,24);g.some(v=>v!==0)||(K.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${Yi.hexDump(g)} -> ${Yi.hexDump(n)}`),m.set(n,8))}})})}),t}function RD(t){const e=$e(t,["schm"])[0];if(e){const n=fn(e.subarray(4,8));if(n==="cbcs"||n==="cenc")return $e(t,["schi","tenc"])[0]}return null}function Y2e(t,e){return $e(e,["moof","traf"]).reduce((n,r)=>{const i=$e(r,["tfdt"])[0],s=i[0],o=$e(r,["tfhd"]).reduce((a,l)=>{const c=Ee(l,4),h=t[c];if(h){let d=Ee(i,4);if(s===1){if(d===r1)return K.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),a;d*=r1+1,d+=Ee(i,8)}const f=h.timescale||9e4,m=d/f;if(_e(m)&&(a===null||m<a))return m}return a},null);return o!==null&&_e(o)&&(n===null||o<n)?o:n},null)}function Z2e(t,e){let n=0,r=0,i=0;const s=$e(t,["moof","traf"]);for(let o=0;o<s.length;o++){const a=s[o],l=$e(a,["tfhd"])[0],c=Ee(l,4),h=e[c];if(!h)continue;const d=h.default,f=Ee(l,0)|(d==null?void 0:d.flags);let m=d==null?void 0:d.duration;f&8&&(f&2?m=Ee(l,12):m=Ee(l,8));const g=h.timescale||9e4,v=$e(a,["trun"]);for(let _=0;_<v.length;_++){if(n=X2e(v[_]),!n&&m){const x=Ee(v[_],4);n=m*x}h.type===mt.VIDEO?r+=n/g:h.type===mt.AUDIO&&(i+=n/g)}}if(r===0&&i===0){let o=1/0,a=0,l=0;const c=$e(t,["sidx"]);for(let h=0;h<c.length;h++){const d=W2e(c[h]);if(d!=null&&d.references){o=Math.min(o,d.earliestPresentationTime/d.timescale);const f=d.references.reduce((m,g)=>m+g.info.duration||0,0);a=Math.max(a,f+d.earliestPresentationTime/d.timescale),l=a-o}}if(l&&_e(l))return l}return r||i}function X2e(t){const e=Ee(t,0);let n=8;e&1&&(n+=4),e&4&&(n+=4);let r=0;const i=Ee(t,4);for(let s=0;s<i;s++){if(e&256){const o=Ee(t,n);r+=o,n+=4}e&512&&(n+=4),e&1024&&(n+=4),e&2048&&(n+=4)}return r}function Q2e(t,e,n){$e(e,["moof","traf"]).forEach(r=>{$e(r,["tfhd"]).forEach(i=>{const s=Ee(i,4),o=t[s];if(!o)return;const a=o.timescale||9e4;$e(r,["tfdt"]).forEach(l=>{const c=l[0],h=n*a;if(h){let d=Ee(l,4);if(c===0)d-=h,d=Math.max(d,0),q6(l,4,d);else{d*=Math.pow(2,32),d+=Ee(l,8),d-=h,d=Math.max(d,0);const f=Math.floor(d/(r1+1)),m=Math.floor(d%(r1+1));q6(l,4,f),q6(l,8,m)}}})})})}function J2e(t){const e={valid:null,remainder:null},n=$e(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=Qa(t,0,r.byteOffset-8),e.remainder=Qa(t,r.byteOffset-8),e}function ai(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function _9(t,e){const n=[],r=e.samples,i=e.timescale,s=e.id;let o=!1;return $e(r,["moof"]).map(l=>{const c=l.byteOffset-8;$e(l,["traf"]).map(d=>{const f=$e(d,["tfdt"]).map(m=>{const g=m[0];let v=Ee(m,4);return g===1&&(v*=Math.pow(2,32),v+=Ee(m,8)),v/i})[0];return f!==void 0&&(t=f),$e(d,["tfhd"]).map(m=>{const g=Ee(m,4),v=Ee(m,0)&16777215,_=(v&1)!==0,x=(v&2)!==0,b=(v&8)!==0;let w=0;const T=(v&16)!==0;let C=0;const I=(v&32)!==0;let M=8;g===s&&(_&&(M+=8),x&&(M+=4),b&&(w=Ee(m,M),M+=4),T&&(C=Ee(m,M),M+=4),I&&(M+=4),e.type==="video"&&(o=eme(e.codec)),$e(d,["trun"]).map(A=>{const O=A[0],N=Ee(A,0)&16777215,z=(N&1)!==0;let H=0;const j=(N&4)!==0,Z=(N&256)!==0;let te=0;const G=(N&512)!==0;let ie=0;const U=(N&1024)!==0,W=(N&2048)!==0;let F=0;const q=Ee(A,4);let re=8;z&&(H=Ee(A,re),re+=4),j&&(re+=4);let le=H+c;for(let he=0;he<q;he++){if(Z?(te=Ee(A,re),re+=4):te=w,G?(ie=Ee(A,re),re+=4):ie=C,U&&(re+=4),W&&(O===0?F=Ee(A,re):F=ID(A,re),re+=4),e.type===mt.VIDEO){let de=0;for(;de<ie;){const ce=Ee(r,le);if(le+=4,tme(o,r[le])){const Se=r.subarray(le,le+ce);MD(Se,o?2:1,t+F/i,n)}le+=ce,de+=ce+4}}t+=te/i}}))})})}),n}function eme(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return n==="hvc1"||n==="hev1"||n==="dvh1"||n==="dvhe"}function tme(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function MD(t,e,n,r){const i=DD(t);let s=0;s+=e;let o=0,a=0,l=0;for(;s<i.length;){o=0;do{if(s>=i.length)break;l=i[s++],o+=l}while(l===255);a=0;do{if(s>=i.length)break;l=i[s++],a+=l}while(l===255);const c=i.length-s;let h=s;if(a<c)s+=a;else if(a>c){K.error(`Malformed SEI payload. ${a} is too small, only ${c} bytes left to parse.`);break}if(o===4){if(i[h++]===181){const f=AD(i,h);if(h+=2,f===49){const m=Ee(i,h);if(h+=4,m===1195456820){const g=i[h++];if(g===3){const v=i[h++],_=31&v,x=64&v,b=x?2+_*3:0,w=new Uint8Array(b);if(x){w[0]=v;for(let T=1;T<b;T++)w[T]=i[h++]}r.push({type:g,payloadType:o,pts:n,bytes:w})}}}}}else if(o===5&&a>16){const d=[];for(let g=0;g<16;g++){const v=i[h++].toString(16);d.push(v.length==1?"0"+v:v),(g===3||g===5||g===7||g===9)&&d.push("-")}const f=a-16,m=new Uint8Array(f);for(let g=0;g<f;g++)m[g]=i[h++];r.push({payloadType:o,pts:n,uuid:d.join(""),userData:cs(m),userDataBytes:m})}}}function DD(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const i=e-n.length,s=new Uint8Array(i);let o=0;for(r=0;r<i;o++,r++)o===n[0]&&(o++,n.shift()),s[r]=t[o];return s}function nme(t){const e=t[0];let n="",r="",i=0,s=0,o=0,a=0,l=0,c=0;if(e===0){for(;fn(t.subarray(c,c+1))!=="\0";)n+=fn(t.subarray(c,c+1)),c+=1;for(n+=fn(t.subarray(c,c+1)),c+=1;fn(t.subarray(c,c+1))!=="\0";)r+=fn(t.subarray(c,c+1)),c+=1;r+=fn(t.subarray(c,c+1)),c+=1,i=Ee(t,12),s=Ee(t,16),a=Ee(t,20),l=Ee(t,24),c=28}else if(e===1){c+=4,i=Ee(t,c),c+=4;const d=Ee(t,c);c+=4;const f=Ee(t,c);for(c+=4,o=2**32*d+f,x2e(o)||(o=Number.MAX_SAFE_INTEGER,K.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=Ee(t,c),c+=4,l=Ee(t,c),c+=4;fn(t.subarray(c,c+1))!=="\0";)n+=fn(t.subarray(c,c+1)),c+=1;for(n+=fn(t.subarray(c,c+1)),c+=1;fn(t.subarray(c,c+1))!=="\0";)r+=fn(t.subarray(c,c+1)),c+=1;r+=fn(t.subarray(c,c+1)),c+=1}const h=t.subarray(c,t.byteLength);return{schemeIdUri:n,value:r,timeScale:i,presentationTime:o,presentationTimeDelta:s,eventDuration:a,id:l,payload:h}}function rme(t,...e){const n=e.length;let r=8,i=n;for(;i--;)r+=e[i].byteLength;const s=new Uint8Array(r);for(s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,s.set(t,4),i=0,r=8;i<n;i++)s.set(e[i],r),r+=e[i].byteLength;return s}function ime(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,i;r=0,i=new Uint8Array;let s;r>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const o=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(o.buffer).setUint32(0,n.byteLength,!1),rme([112,115,115,104],new Uint8Array([r,0,0,0]),t,s,i,o,n||new Uint8Array)}function sme(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let r=0;for(;r+32<n;){const i=new DataView(t,r),s=ome(i);e.push(s),r+=s.size}}return e}function ome(t){const e=t.getUint32(0),n=t.byteOffset,r=t.byteLength;if(r<e)return{offset:n,size:r};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const s=t.getUint32(8)>>>24;if(s!==0&&s!==1)return{offset:n,size:e};const o=t.buffer,a=Yi.hexDump(new Uint8Array(o,n+12,16)),l=t.getUint32(28);let c=null,h=null;if(s===0){if(e-32<l||l<22)return{offset:n,size:e};h=new Uint8Array(o,n+32,l)}else if(s===1){if(!l||r<n+32+l*16+16)return{offset:n,size:e};c=[];for(let d=0;d<l;d++)c.push(new Uint8Array(o,n+32+d*16,16))}return{version:s,systemId:a,kids:c,data:h,offset:n,size:e}}let U3={};class Yd{static clearKeyUriToKeyIdMap(){U3={}}constructor(e,n,r,i=[1],s=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case gr.FAIRPLAY:case gr.WIDEVINE:case gr.PLAYREADY:case gr.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&K.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=ame(e);return new Yd(this.method,this.uri,"identity",this.keyFormatVersions,r)}const n=M2e(this.uri);if(n)switch(this.keyFormat){case gr.WIDEVINE:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case gr.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=ime(r,null,n);const i=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),s=String.fromCharCode.apply(null,Array.from(i)),o=s.substring(s.indexOf("<"),s.length),c=new DOMParser().parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(c){const h=c.childNodes[0]?c.childNodes[0].nodeValue:c.getAttribute("VALUE");if(h){const d=h_(h).subarray(0,16);R2e(d),this.keyId=d}}break}default:{let r=n.subarray(0,16);if(r.length!==16){const i=new Uint8Array(16);i.set(r,16-r.length),r=i}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=U3[this.uri];if(!r){const i=Object.keys(U3).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,i),U3[this.uri]=r}this.keyId=r}return this}}function ame(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const OD=/\{\$([a-zA-Z0-9-_]+)\}/g;function x9(t){return OD.test(t)}function pr(t,e,n){if(t.variableList!==null||t.hasVariableRefs)for(let r=n.length;r--;){const i=n[r],s=e[i];s&&(e[i]=N7(t,s))}}function N7(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(OD,r=>{const i=r.substring(2,r.length-1),s=n==null?void 0:n[i];return s===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),r):s})}return e}function b9(t,e,n){let r=t.variableList;r||(t.variableList=r={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const o=new self.URL(n).searchParams;if(o.has(i))s=o.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${n}"`)}catch(o){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${o.message}`))}}else i=e.NAME,s=e.VALUE;i in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):r[i]=s||""}function lme(t,e,n){const r=e.IMPORT;if(n&&r in n){let i=t.variableList;i||(t.variableList=i={}),i[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function pl(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function cme(t){return typeof self<"u"&&t===self.ManagedMediaSource}const i1={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function ume(t,e){const n=i1[e];return!!n&&!!n[t.slice(0,4)]}function Z6(t,e,n=!0){return!t.split(",").some(r=>!ND(r,e,n))}function ND(t,e,n=!0){var r;const i=pl(n);return(r=i==null?void 0:i.isTypeSupported(Zd(t,e)))!=null?r:!1}function Zd(t,e){return`${e}/mp4;codecs="${t}"`}function w9(t){if(t){const e=t.substring(0,4);return i1.video[e]}return 2}function s1(t){return t.split(",").reduce((e,n)=>{const r=i1.video[n];return r?(r*2+e)/(e?3:2):(i1.audio[n]+e)/(e?2:1)},0)}const X6={};function hme(t,e=!0){if(X6[t])return X6[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let r=0;r<n.length;r++)if(ND(n[r],"audio",e))return X6[t]=n[r],n[r];return t}const dme=/flac|opus/i;function o1(t,e=!0){return t.replace(dme,n=>hme(n.toLowerCase(),e))}function S9(t,e){return t&&t!=="mp4a"?t:e&&e.split(",")[0]}function fme(t){const e=t.split(",");for(let n=0;n<e.length;n++){const r=e[n].split(".");if(r.length>2){let i=r.shift()+".";i+=parseInt(r.shift()).toString(16),i+=("000"+parseInt(r.shift()).toString(16)).slice(-4),e[n]=i}}return e.join(",")}const E9=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,T9=/#EXT-X-MEDIA:(.*)/g,pme=/^#EXT(?:INF|-X-TARGETDURATION):/m,L9=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),mme=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class ts{static findGroup(e,n){for(let r=0;r<e.length;r++){const i=e[r];if(i.id===n)return i}}static resolve(e,n){return u_.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return pme.test(e)}static parseMasterPlaylist(e,n){const r=x9(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},s=[];E9.lastIndex=0;let o;for(;(o=E9.exec(e))!=null;)if(o[1]){var a;const c=new zt(o[1]);pr(i,c,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const h=N7(i,o[2]),d={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:ts.resolve(h,n)},f=c.decimalResolution("RESOLUTION");f&&(d.width=f.width,d.height=f.height),gme(c.CODECS,d),(a=d.unknownCodecs)!=null&&a.length||s.push(d),i.levels.push(d)}else if(o[3]){const c=o[3],h=o[4];switch(c){case"SESSION-DATA":{const d=new zt(h);pr(i,d,["DATA-ID","LANGUAGE","VALUE","URI"]);const f=d["DATA-ID"];f&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[f]=d);break}case"SESSION-KEY":{const d=C9(h,n,i);d.encrypted&&d.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(d)):K.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${h}"`);break}case"DEFINE":{{const d=new zt(h);pr(i,d,["NAME","VALUE","QUERYPARAM"]),b9(i,d,n)}break}case"CONTENT-STEERING":{const d=new zt(h);pr(i,d,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:ts.resolve(d["SERVER-URI"],n),pathwayId:d["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=k9(h);break}}}const l=s.length>0&&s.length<i.levels.length;return i.levels=l?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,n,r){let i;const s={},o=r.levels,a={AUDIO:o.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:o.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(T9.lastIndex=0;(i=T9.exec(e))!==null;){const c=new zt(i[1]),h=c.TYPE;if(h){const d=a[h],f=s[h]||[];s[h]=f,pr(r,c,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const m=c.LANGUAGE,g=c["ASSOC-LANGUAGE"],v=c.CHANNELS,_=c.CHARACTERISTICS,x=c["INSTREAM-ID"],b={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||m||"",type:h,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:m,url:c.URI?ts.resolve(c.URI,n):""};if(g&&(b.assocLang=g),v&&(b.channels=v),_&&(b.characteristics=_),x&&(b.instreamId=x),d!=null&&d.length){const w=ts.findGroup(d,b.groupId)||d[0];A9(b,w,"audioCodec"),A9(b,w,"textCodec")}f.push(b)}}return s}static parseLevelPlaylist(e,n,r,i,s,o){const a=new I2e(n),l=a.fragments;let c=null,h=0,d=0,f=0,m=0,g=null,v=new H6(i,n),_,x,b,w=-1,T=!1,C=null;for(L9.lastIndex=0,a.m3u8=e,a.hasVariableRefs=x9(e);(_=L9.exec(e))!==null;){T&&(T=!1,v=new H6(i,n),v.start=f,v.sn=h,v.cc=m,v.level=r,c&&(v.initSegment=c,v.rawProgramDateTime=c.rawProgramDateTime,c.rawProgramDateTime=null,C&&(v.setByteRange(C),C=null)));const O=_[1];if(O){v.duration=parseFloat(O);const N=(" "+_[2]).slice(1);v.title=N||null,v.tagList.push(N?["INF",O,N]:["INF",O])}else if(_[3]){if(_e(v.duration)){v.start=f,b&&R9(v,b,a),v.sn=h,v.level=r,v.cc=m,l.push(v);const N=(" "+_[3]).slice(1);v.relurl=N7(a,N),I9(v,g),g=v,f+=v.duration,h++,d=0,T=!0}}else if(_[4]){const N=(" "+_[4]).slice(1);g?v.setByteRange(N,g):v.setByteRange(N)}else if(_[5])v.rawProgramDateTime=(" "+_[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),w===-1&&(w=l.length);else{if(_=_[0].match(mme),!_){K.warn("No matches on slow regex match for level playlist!");continue}for(x=1;x<_.length&&!(typeof _[x]<"u");x++);const N=(" "+_[x]).slice(1),z=(" "+_[x+1]).slice(1),H=_[x+2]?(" "+_[x+2]).slice(1):"";switch(N){case"PLAYLIST-TYPE":a.type=z.toUpperCase();break;case"MEDIA-SEQUENCE":h=a.startSN=parseInt(z);break;case"SKIP":{const j=new zt(z);pr(a,j,["RECENTLY-REMOVED-DATERANGES"]);const Z=j.decimalInteger("SKIPPED-SEGMENTS");if(_e(Z)){a.skippedSegments=Z;for(let G=Z;G--;)l.unshift(null);h+=Z}const te=j.enumeratedString("RECENTLY-REMOVED-DATERANGES");te&&(a.recentlyRemovedDateranges=te.split("	"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt(z),1);break;case"VERSION":a.version=parseInt(z);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":(z||H)&&v.tagList.push(H?[z,H]:[z]);break;case"DISCONTINUITY":m++,v.tagList.push(["DIS"]);break;case"GAP":v.gap=!0,v.tagList.push([N]);break;case"BITRATE":v.tagList.push([N,z]);break;case"DATERANGE":{const j=new zt(z);pr(a,j,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),pr(a,j,j.clientAttrs);const Z=new wD(j,a.dateRanges[j.ID]);Z.isValid||a.skippedSegments?a.dateRanges[Z.id]=Z:K.warn(`Ignoring invalid DATERANGE tag: "${z}"`),v.tagList.push(["EXT-X-DATERANGE",z]);break}case"DEFINE":{{const j=new zt(z);pr(a,j,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in j?lme(a,j,o):b9(a,j,n)}break}case"DISCONTINUITY-SEQUENCE":m=parseInt(z);break;case"KEY":{const j=C9(z,n,a);if(j.isSupported()){if(j.method==="NONE"){b=void 0;break}b||(b={}),b[j.keyFormat]&&(b=un({},b)),b[j.keyFormat]=j}else K.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${z}"`);break}case"START":a.startTimeOffset=k9(z);break;case"MAP":{const j=new zt(z);if(pr(a,j,["BYTERANGE","URI"]),v.duration){const Z=new H6(i,n);P9(Z,j,r,b),c=Z,v.initSegment=c,c.rawProgramDateTime&&!v.rawProgramDateTime&&(v.rawProgramDateTime=c.rawProgramDateTime)}else{const Z=v.byteRangeEndOffset;if(Z){const te=v.byteRangeStartOffset;C=`${Z-te}@${te}`}else C=null;P9(v,j,r,b),c=v,T=!0}break}case"SERVER-CONTROL":{const j=new zt(z);a.canBlockReload=j.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=j.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&j.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=j.optionalFloat("PART-HOLD-BACK",0),a.holdBack=j.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const j=new zt(z);a.partTarget=j.decimalFloatingPoint("PART-TARGET");break}case"PART":{let j=a.partList;j||(j=a.partList=[]);const Z=d>0?j[j.length-1]:void 0,te=d++,G=new zt(z);pr(a,G,["BYTERANGE","URI"]);const ie=new k2e(G,v,n,te,Z);j.push(ie),v.duration+=ie.duration;break}case"PRELOAD-HINT":{const j=new zt(z);pr(a,j,["URI"]),a.preloadHint=j;break}case"RENDITION-REPORT":{const j=new zt(z);pr(a,j,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(j);break}default:K.warn(`line parsed but not handled: ${_}`);break}}}g&&!g.relurl?(l.pop(),f-=g.duration,a.partList&&(a.fragmentHint=g)):a.partList&&(I9(v,g),v.cc=m,a.fragmentHint=v,b&&R9(v,b,a));const I=l.length,M=l[0],A=l[I-1];if(f+=a.skippedSegments*a.targetduration,f>0&&I&&A){a.averagetargetduration=f/I;const O=A.sn;a.endSN=O!=="initSegment"?O:0,a.live||(A.endList=!0),M&&(a.startCC=M.cc)}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(f+=a.fragmentHint.duration),a.totalduration=f,a.endCC=m,w>0&&vme(l,w),a}}function C9(t,e,n){var r,i;const s=new zt(t);pr(n,s,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const o=(r=s.METHOD)!=null?r:"",a=s.URI,l=s.hexadecimalInteger("IV"),c=s.KEYFORMATVERSIONS,h=(i=s.KEYFORMAT)!=null?i:"identity";a&&s.IV&&!l&&K.error(`Invalid IV: ${s.IV}`);const d=a?ts.resolve(a,e):"",f=(c||"1").split("/").map(Number).filter(Number.isFinite);return new Yd(o,d,h,f,l)}function k9(t){const n=new zt(t).decimalFloatingPoint("TIME-OFFSET");return _e(n)?n:null}function gme(t,e){let n=(t||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const i=n.filter(s=>ume(s,r));i.length&&(e[`${r}Codec`]=i.join(","),n=n.filter(s=>i.indexOf(s)===-1))}),e.unknownCodecs=n}function A9(t,e,n){const r=e[n];r&&(t[n]=r)}function vme(t,e){let n=t[e];for(let r=e;r--;){const i=t[r];if(!i)return;i.programDateTime=n.programDateTime-i.duration*1e3,n=i}}function I9(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),_e(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function P9(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function R9(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&r.push(t)}var tt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Te={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function M9(t){const{type:e}=t;switch(e){case tt.AUDIO_TRACK:return Te.AUDIO;case tt.SUBTITLE_TRACK:return Te.SUBTITLE;default:return Te.MAIN}}function Q6(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class yme{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.LEVEL_LOADING,this.onLevelLoading,this),e.on(R.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(R.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.LEVEL_LOADING,this.onLevelLoading,this),e.off(R.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(R.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,i=n.loader,s=r||i,o=new s(n);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:tt.MANIFEST,url:r,deliveryDirectives:null})}onLevelLoading(e,n){const{id:r,level:i,pathwayId:s,url:o,deliveryDirectives:a}=n;this.load({id:r,level:i,pathwayId:s,responseType:"text",type:tt.LEVEL,url:o,deliveryDirectives:a})}onAudioTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:o}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:tt.AUDIO_TRACK,url:s,deliveryDirectives:o})}onSubtitleTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:o}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:tt.SUBTITLE_TRACK,url:s,deliveryDirectives:o})}load(e){var n;const r=this.hls.config;let i=this.getInternalLoader(e);if(i){const c=i.context;if(c&&c.url===e.url&&c.level===e.level){K.trace("[playlist-loader]: playlist request ongoing");return}K.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===tt.MANIFEST?s=r.manifestLoadPolicy.default:s=un({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),_e((n=e.deliveryDirectives)==null?void 0:n.part)){let c;if(e.type===tt.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===tt.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===tt.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const h=c.partTarget,d=c.targetduration;if(h&&d){const f=Math.max(h*3,d*.8)*1e3;s=un({},s,{maxTimeToFirstByteMs:Math.min(f,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(f,s.maxTimeToFirstByteMs)})}}}const o=s.errorRetry||s.timeoutRetry||{},a={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},l={onSuccess:(c,h,d,f)=>{const m=this.getInternalLoader(d);this.resetInternalLoader(d.type);const g=c.data;if(g.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,d,new Error("no EXTM3U delimiter"),f||null,h);return}h.parsing.start=performance.now(),ts.isMediaPlaylist(g)?this.handleTrackOrLevelPlaylist(c,h,d,f||null,m):this.handleMasterPlaylist(c,h,d,f)},onError:(c,h,d,f)=>{this.handleNetworkError(h,d,!1,c,f)},onTimeout:(c,h,d)=>{this.handleNetworkError(h,d,!0,void 0,c)}};i.load(e,a,l)}handleMasterPlaylist(e,n,r,i){const s=this.hls,o=e.data,a=Q6(e,r),l=ts.parseMasterPlaylist(o,a);if(l.playlistParsingError){this.handleManifestParsingError(e,r,l.playlistParsingError,i,n);return}const{contentSteering:c,levels:h,sessionData:d,sessionKeys:f,startTimeOffset:m,variableList:g}=l;this.variableList=g;const{AUDIO:v=[],SUBTITLES:_,"CLOSED-CAPTIONS":x}=ts.parseMasterPlaylistMedia(o,a,l);v.length&&!v.some(w=>!w.url)&&h[0].audioCodec&&!h[0].attrs.AUDIO&&(K.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),v.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new zt({}),bitrate:0,url:""})),s.trigger(R.MANIFEST_LOADED,{levels:h,audioTracks:v,subtitles:_,captions:x,contentSteering:c,url:a,stats:n,networkDetails:i,sessionData:d,sessionKeys:f,startTimeOffset:m,variableList:g})}handleTrackOrLevelPlaylist(e,n,r,i,s){const o=this.hls,{id:a,level:l,type:c}=r,h=Q6(e,r),d=0,f=_e(l)?l:_e(a)?a:0,m=M9(r),g=ts.parseLevelPlaylist(e.data,h,f,m,d,this.variableList);if(c===tt.MANIFEST){const v={attrs:new zt({}),bitrate:0,details:g,name:"",url:h};o.trigger(R.MANIFEST_LOADED,{levels:[v],audioTracks:[],url:h,stats:n,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=g,this.handlePlaylistLoaded(g,e,n,r,i,s)}handleManifestParsingError(e,n,r,i,s){this.hls.trigger(R.ERROR,{type:Ie.NETWORK_ERROR,details:ee.MANIFEST_PARSING_ERROR,fatal:n.type===tt.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:i,stats:s})}handleNetworkError(e,n,r=!1,i,s){let o=`A network ${r?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===tt.LEVEL?o+=`: ${e.level} id: ${e.id}`:(e.type===tt.AUDIO_TRACK||e.type===tt.SUBTITLE_TRACK)&&(o+=` id: ${e.id} group-id: "${e.groupId}"`);const a=new Error(o);K.warn(`[playlist-loader]: ${o}`);let l=ee.UNKNOWN,c=!1;const h=this.getInternalLoader(e);switch(e.type){case tt.MANIFEST:l=r?ee.MANIFEST_LOAD_TIMEOUT:ee.MANIFEST_LOAD_ERROR,c=!0;break;case tt.LEVEL:l=r?ee.LEVEL_LOAD_TIMEOUT:ee.LEVEL_LOAD_ERROR,c=!1;break;case tt.AUDIO_TRACK:l=r?ee.AUDIO_TRACK_LOAD_TIMEOUT:ee.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case tt.SUBTITLE_TRACK:l=r?ee.SUBTITLE_TRACK_LOAD_TIMEOUT:ee.SUBTITLE_LOAD_ERROR,c=!1;break}h&&this.resetInternalLoader(e.type);const d={type:Ie.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:h,context:e,error:a,networkDetails:n,stats:s};if(i){const f=(n==null?void 0:n.url)||e.url;d.response=An({url:f,data:void 0},i)}this.hls.trigger(R.ERROR,d)}handlePlaylistLoaded(e,n,r,i,s,o){const a=this.hls,{type:l,level:c,id:h,groupId:d,deliveryDirectives:f}=i,m=Q6(n,i),g=M9(i),v=typeof i.level=="number"&&g===Te.MAIN?c:void 0;if(!e.fragments.length){const x=new Error("No Segments found in Playlist");a.trigger(R.ERROR,{type:Ie.NETWORK_ERROR,details:ee.LEVEL_EMPTY_ERROR,fatal:!1,url:m,error:x,reason:x.message,response:n,context:i,level:v,parent:g,networkDetails:s,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const _=e.playlistParsingError;if(_){a.trigger(R.ERROR,{type:Ie.NETWORK_ERROR,details:ee.LEVEL_PARSING_ERROR,fatal:!1,url:m,error:_,reason:_.message,response:n,context:i,level:v,parent:g,networkDetails:s,stats:r});return}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),(!o.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case tt.MANIFEST:case tt.LEVEL:a.trigger(R.LEVEL_LOADED,{details:e,level:v||0,id:h||0,stats:r,networkDetails:s,deliveryDirectives:f});break;case tt.AUDIO_TRACK:a.trigger(R.AUDIO_TRACK_LOADED,{details:e,id:h||0,groupId:d||"",stats:r,networkDetails:s,deliveryDirectives:f});break;case tt.SUBTITLE_TRACK:a.trigger(R.SUBTITLE_TRACK_LOADED,{details:e,id:h||0,groupId:d||"",stats:r,networkDetails:s,deliveryDirectives:f});break}}}function FD(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function $D(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){K.debug(`[texttrack-utils]: ${r}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){K.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}n==="disabled"&&(t.mode=n)}function xc(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)t.removeCue(t.cues[n]);e==="disabled"&&(t.mode=e)}function F7(t,e,n,r){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const s=xme(t.cues,e,n);for(let o=0;o<s.length;o++)(!r||r(s[o]))&&t.removeCue(s[o])}i==="disabled"&&(t.mode=i)}function _me(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,i=n;for(;r<=i;){const s=Math.floor((i+r)/2);if(e<t[s].startTime)i=s-1;else if(e>t[s].startTime&&r<n)r=s+1;else return s}return t[r].startTime-e<e-t[i].startTime?r:i}function xme(t,e,n){const r=[],i=_me(t,e);if(i>-1)for(let s=i,o=t.length;s<o;s++){const a=t[s];if(a.startTime>=e&&a.endTime<=n)r.push(a);else if(a.startTime>n)return r}return r}function w0(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}var bi={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const bme=.25;function $7(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function D9(t,e,n,r,i){let s=new t(e,n,"");try{s.value=r,i&&(s.type=i)}catch{s=new t(e,n,JSON.stringify(i?An({type:i},r):r))}return s}const j3=(()=>{const t=$7();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function J6(t,e){return t.getTime()/1e3-e}function wme(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class Sme{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(R.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(R.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,n){this.media=n.media}onMediaDetaching(){this.id3Track&&(xc(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return FD(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:i}}}=this;if(!r&&!i)return;const{samples:s}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=$7();if(o)for(let a=0;a<s.length;a++){const l=s[a].type;if(l===bi.emsg&&!r||!i)continue;const c=CD(s[a].data);if(c){const h=s[a].pts;let d=h+s[a].duration;d>j3&&(d=j3),d-h<=0&&(d=h+bme);for(let m=0;m<c.length;m++){const g=c[m];if(!LD(g)){this.updateId3CueEnds(h,l);const v=D9(o,h,d,g,l);v&&this.id3Track.addCue(v)}}}}}updateId3CueEnds(e,n){var r;const i=(r=this.id3Track)==null?void 0:r.cues;if(i)for(let s=i.length;s--;){const o=i[s];o.type===n&&o.startTime<e&&o.endTime===j3&&(o.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:i}){const{id3Track:s,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:l}}=o;if(s&&(a||l)){let c;i==="audio"?c=h=>h.type===bi.audioId3&&l:i==="video"?c=h=>h.type===bi.emsg&&a:c=h=>h.type===bi.audioId3&&l||h.type===bi.emsg&&a,F7(s,n,r,c)}}onLevelUpdated(e,{details:n}){if(!this.media||!n.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:i}=this,{dateRanges:s}=n,o=Object.keys(s);if(i){const h=Object.keys(r).filter(d=>!o.includes(d));for(let d=h.length;d--;){const f=h[d];Object.keys(r[f].cues).forEach(m=>{i.removeCue(r[f].cues[m])}),delete r[f]}}const a=n.fragments[n.fragments.length-1];if(o.length===0||!_e(a==null?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=a.programDateTime/1e3-a.start,c=$7();for(let h=0;h<o.length;h++){const d=o[h],f=s[d],m=J6(f.startDate,l),g=r[d],v=(g==null?void 0:g.cues)||{};let _=(g==null?void 0:g.durationKnown)||!1,x=j3;const b=f.endDate;if(b)x=J6(b,l),_=!0;else if(f.endOnNext&&!_){const T=o.reduce((C,I)=>{if(I!==f.id){const M=s[I];if(M.class===f.class&&M.startDate>f.startDate&&(!C||f.startDate<C.startDate))return M}return C},null);T&&(x=J6(T.startDate,l),_=!0)}const w=Object.keys(f.attr);for(let T=0;T<w.length;T++){const C=w[T];if(!L2e(C))continue;const I=v[C];if(I)_&&!g.durationKnown&&(I.endTime=x);else if(c){let M=f.attr[C];C2e(C)&&(M=wme(M));const A=D9(c,m,x,{key:C,data:M},bi.dateRange);A&&(A.id=d,this.id3Track.addCue(A),v[C]=A)}}r[d]={cues:v,dateRange:f,durationKnown:_}}}}class Eme{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:n}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:n,partHoldBack:r,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:o,lowLatencyMode:a}=this.config,l=this.hls.userConfig;let c=a&&r||n;(l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=s!==void 0?s:o*i);const h=i;return c+Math.min(this.stallCount*1,h)}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency,r=this.levelDetails;if(e===null||n===null||r===null)return null;const i=r.edge,s=e-n-this.edgeStalled,o=i-r.totalduration,a=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(o,s),a)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e,levelDetails:n}=this;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(R.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(R.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(R.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(R.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(R.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(R.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,n){var r;n.details===ee.BUFFER_STALLED_ERROR&&(this.stallCount++,(r=this.levelDetails)!=null&&r.live&&K.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:n}=this;if(!e||!n)return;this.currentTime=e.currentTime;const r=this.computeLatency();if(r===null)return;this._latency=r;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:s}=this.config;if(!i||s===1||!n.live)return;const o=this.targetLatency;if(o===null)return;const a=r-o,l=Math.min(this.maxLatency,o+n.targetduration);if(a<l&&a>.05&&this.forwardBufferLength>1){const h=Math.min(2,Math.max(1,s)),d=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;e.playbackRate=Math.min(h,Math.max(1,d))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const z7=["NONE","TYPE-0","TYPE-1",null];function Tme(t){return z7.indexOf(t)>-1}const a1=["SDR","PQ","HLG"];function Lme(t){return!!t&&a1.indexOf(t)>-1}var S0={No:"",Yes:"YES",v2:"v2"};function O9(t){const{canSkipUntil:e,canSkipDateRanges:n,age:r}=t,i=r<e/2;return e&&i?n?S0.v2:S0.Yes:S0.No}class N9{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class lu{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return F9(this._audioGroups,e)}hasSubtitleGroup(e){return F9(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(n)===-1&&r.push(n)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(n)===-1&&r.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function F9(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function eg(t,e){const n=e.startPTS;if(_e(n)){let r=0,i;e.sn>t.sn?(r=n-t.start,i=t):(r=t.start-n,i=e),i.duration!==r&&(i.duration=r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function zD(t,e,n,r,i,s){r-n<=0&&(K.warn("Fragment should have a positive duration",e),r=n+e.duration,s=i+e.duration);let a=n,l=r;const c=e.startPTS,h=e.endPTS;if(_e(c)){const _=Math.abs(c-n);_e(e.deltaPTS)?e.deltaPTS=Math.max(_,e.deltaPTS):e.deltaPTS=_,a=Math.max(n,c),n=Math.min(n,c),i=Math.min(i,e.startDTS),l=Math.min(r,h),r=Math.max(r,h),s=Math.max(s,e.endDTS)}const d=n-e.start;e.start!==0&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=a,e.startDTS=i,e.endPTS=r,e.minEndPTS=l,e.endDTS=s;const f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;let m;const g=f-t.startSN,v=t.fragments;for(v[g]=e,m=g;m>0;m--)eg(v[m],v[m-1]);for(m=g;m<v.length-1;m++)eg(v[m],v[m+1]);return t.fragmentHint&&eg(v[v.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function Cme(t,e){let n=null;const r=t.fragments;for(let l=r.length-1;l>=0;l--){const c=r[l].initSegment;if(c){n=c;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i=0,s;if(Ime(t,e,(l,c)=>{l.relurl&&(i=l.cc-c.cc),_e(l.startPTS)&&_e(l.endPTS)&&(c.start=c.startPTS=l.startPTS,c.startDTS=l.startDTS,c.maxStartPTS=l.maxStartPTS,c.endPTS=l.endPTS,c.endDTS=l.endDTS,c.minEndPTS=l.minEndPTS,c.duration=l.endPTS-l.startPTS,c.duration&&(s=c),e.PTSKnown=e.alignedSliding=!0),c.elementaryStreams=l.elementaryStreams,c.loader=l.loader,c.stats=l.stats,l.initSegment&&(c.initSegment=l.initSegment,n=l.initSegment)}),n&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(c=>{var h;c&&(!c.initSegment||c.initSegment.relurl===((h=n)==null?void 0:h.relurl))&&(c.initSegment=n)}),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(l=>!l),e.deltaUpdateFailed){K.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let l=e.skippedSegments;l--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=kme(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const o=e.fragments;if(i){K.warn("discontinuity sliding from playlist, take drift into account");for(let l=0;l<o.length;l++)o[l].cc+=i}e.skippedSegments&&(e.startCC=e.fragments[0].cc),Ame(t.partList,e.partList,(l,c)=>{c.elementaryStreams=l.elementaryStreams,c.stats=l.stats}),s?zD(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):BD(t,e),o.length&&(e.totalduration=e.edge-o[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const a=e.advancedDateTime;if(e.advanced&&a){const l=e.edge;e.driftStart||(e.driftStartTime=a,e.driftStart=l),e.driftEndTime=a,e.driftEnd=l}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function kme(t,e,n){const r=un({},t);return n&&n.forEach(i=>{delete r[i]}),Object.keys(e).forEach(i=>{const s=new wD(e[i].attr,r[i]);s.isValid?r[i]=s:K.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[i].attr)}"`)}),r}function Ame(t,e,n){if(t&&e){let r=0;for(let i=0,s=t.length;i<=s;i++){const o=t[i],a=e[i+r];o&&a&&o.index===a.index&&o.fragment.sn===a.fragment.sn?n(o,a):r--}}}function Ime(t,e,n){const r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,o=e.startSN-t.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=i;c<=s;c++){const h=l[o+c];let d=a[c];r&&!d&&c<r&&(d=e.fragments[c]=h),h&&d&&n(h,d)}}function BD(t,e){const n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||B7(e,r[n].start)}function B7(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function Pme(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments;if(r.length&&n*4>e){const s=r[r.length-1].duration*1e3;s<n&&(n=s)}}else n/=2;return Math.round(n)}function Rme(t,e,n){if(!(t!=null&&t.details))return null;const r=t.details;let i=r.fragments[e-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===e)?i:e<r.startSN&&n&&n.sn===e?n:null}function $9(t,e,n){var r;return t!=null&&t.details?UD((r=t.details)==null?void 0:r.partList,e,n):null}function UD(t,e,n){if(t)for(let r=t.length;r--;){const i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function jD(t){t.forEach((e,n)=>{const{details:r}=e;r!=null&&r.fragments&&r.fragments.forEach(i=>{i.level=n})})}function l1(t){switch(t.details){case ee.FRAG_LOAD_TIMEOUT:case ee.KEY_LOAD_TIMEOUT:case ee.LEVEL_LOAD_TIMEOUT:case ee.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function z9(t,e){const n=l1(e);return t.default[`${n?"timeout":"error"}Retry`]}function p_(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function B9(t){return An(An({},t),{errorRetry:null,timeoutRetry:null})}function c1(t,e,n,r){if(!t)return!1;const i=r==null?void 0:r.code,s=e<t.maxNumRetry&&(Mme(i)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,s):s}function Mme(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const VD={search:function(t,e){let n=0,r=t.length-1,i=null,s=null;for(;n<=r;){i=(n+r)/2|0,s=t[i];const o=e(s);if(o>0)n=i+1;else if(o<0)r=i-1;else return s}return null}};function Dme(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!_e(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;n=n||0;for(let s=0;s<t.length;++s){const o=t[s];if(Nme(e,n,o))return o}return null}function u1(t,e,n=0,r=0,i=.005){let s=null;if(t){s=e[t.sn-e[0].sn+1]||null;const a=t.endDTS-n;a>0&&a<15e-7&&(n+=15e-7)}else n===0&&e[0].start===0&&(s=e[0]);if(s&&((!t||t.level===s.level)&&U7(n,r,s)===0||Ome(s,t,Math.min(i,r))))return s;const o=VD.search(e,U7.bind(null,n,r));return o&&(o!==t||!s)?o:s}function Ome(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((i,s)=>(s[0]==="INF"&&(i+=parseFloat(s[1])),i),n);return t.start<=r}return!1}function U7(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function Nme(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function Fme(t,e){return VD.search(t,n=>n.cc<e?1:n.cc>e?-1:0)}var On={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},mi={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class $me{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=K.log.bind(K,"[info]:"),this.warn=K.warn.bind(K,"[warning]:"),this.error=K.error.bind(K,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(R.ERROR,this.onError,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(R.ERROR,this.onError,this),e.off(R.ERROR,this.onErrorOut,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Te.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,n){var r,i;if(n.fatal)return;const s=this.hls,o=n.context;switch(n.details){case ee.FRAG_LOAD_ERROR:case ee.FRAG_LOAD_TIMEOUT:case ee.KEY_LOAD_ERROR:case ee.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case ee.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction={action:On.DoNothing,flags:mi.None};return}case ee.FRAG_GAP:case ee.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=On.SendAlternateToPenaltyBox;return}case ee.LEVEL_EMPTY_ERROR:case ee.LEVEL_PARSING_ERROR:{var a,l;const c=n.parent===Te.MAIN?n.level:s.loadLevel;n.details===ee.LEVEL_EMPTY_ERROR&&((a=n.context)!=null&&(l=a.levelDetails)!=null&&l.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,c):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,c))}return;case ee.LEVEL_LOAD_ERROR:case ee.LEVEL_LOAD_TIMEOUT:typeof(o==null?void 0:o.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,o.level));return;case ee.AUDIO_TRACK_LOAD_ERROR:case ee.AUDIO_TRACK_LOAD_TIMEOUT:case ee.SUBTITLE_LOAD_ERROR:case ee.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const c=s.levels[s.loadLevel];if(c&&(o.type===tt.AUDIO_TRACK&&c.hasAudioGroup(o.groupId)||o.type===tt.SUBTITLE_TRACK&&c.hasSubtitleGroup(o.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,s.loadLevel),n.errorAction.action=On.SendAlternateToPenaltyBox,n.errorAction.flags=mi.MoveAllAlternatesMatchingHost;return}}return;case ee.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=s.levels[s.loadLevel],h=c==null?void 0:c.attrs["HDCP-LEVEL"];h?n.errorAction={action:On.SendAlternateToPenaltyBox,flags:mi.MoveAllAlternatesMatchingHDCP,hdcpLevel:h}:this.keySystemError(n)}return;case ee.BUFFER_ADD_CODEC_ERROR:case ee.REMUX_ALLOC_ERROR:case ee.BUFFER_APPEND_ERROR:n.errorAction=this.getLevelSwitchAction(n,(i=n.level)!=null?i:s.loadLevel);return;case ee.INTERNAL_EXCEPTION:case ee.BUFFER_APPENDING_ERROR:case ee.BUFFER_FULL_ERROR:case ee.LEVEL_SWITCH_ERROR:case ee.BUFFER_STALLED_ERROR:case ee.BUFFER_SEEK_OVER_HOLE:case ee.BUFFER_NUDGE_ON_STALL:n.errorAction={action:On.DoNothing,flags:mi.None};return}n.type===Ie.KEY_SYSTEM_ERROR&&this.keySystemError(n)}keySystemError(e){const n=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,n)}getPlaylistRetryOrSwitchAction(e,n){const r=this.hls,i=z9(r.config.playlistLoadPolicy,e),s=this.playlistError++;if(c1(i,s,l1(e),e.response))return{action:On.RetryRequest,flags:mi.None,retryConfig:i,retryCount:s};const a=this.getLevelSwitchAction(e,n);return i&&(a.retryConfig=i,a.retryCount=s),a}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),i=n.levels[r],{fragLoadPolicy:s,keyLoadPolicy:o}=n.config,a=z9(e.details.startsWith("key")?o:s,e),l=n.levels.reduce((h,d)=>h+d.fragmentError,0);if(i&&(e.details!==ee.FRAG_GAP&&i.fragmentError++,c1(a,l,l1(e),e.response)))return{action:On.RetryRequest,flags:mi.None,retryConfig:a,retryCount:l};const c=this.getLevelSwitchAction(e,r);return a&&(c.retryConfig=a,c.retryCount=l),c}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const i=this.hls.levels[n];if(i){var s,o;const c=e.details;i.loadError++,c===ee.BUFFER_APPEND_ERROR&&i.fragmentError++;let h=-1;const{levels:d,loadLevel:f,minAutoLevel:m,maxAutoLevel:g}=r;r.autoLevelEnabled||(r.loadLevel=-1);const v=(s=e.frag)==null?void 0:s.type,x=(v===Te.AUDIO&&c===ee.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===ee.BUFFER_ADD_CODEC_ERROR||c===ee.BUFFER_APPEND_ERROR))&&d.some(({audioCodec:I})=>i.audioCodec!==I),w=e.sourceBufferName==="video"&&(c===ee.BUFFER_ADD_CODEC_ERROR||c===ee.BUFFER_APPEND_ERROR)&&d.some(({codecSet:I,audioCodec:M})=>i.codecSet!==I&&i.audioCodec===M),{type:T,groupId:C}=(o=e.context)!=null?o:{};for(let I=d.length;I--;){const M=(I+f)%d.length;if(M!==f&&M>=m&&M<=g&&d[M].loadError===0){var a,l;const A=d[M];if(c===ee.FRAG_GAP&&v===Te.MAIN&&e.frag){const O=d[M].details;if(O){const N=u1(e.frag,O.fragments,e.frag.start);if(N!=null&&N.gap)continue}}else{if(T===tt.AUDIO_TRACK&&A.hasAudioGroup(C)||T===tt.SUBTITLE_TRACK&&A.hasSubtitleGroup(C))continue;if(v===Te.AUDIO&&(a=i.audioGroups)!=null&&a.some(O=>A.hasAudioGroup(O))||v===Te.SUBTITLE&&(l=i.subtitleGroups)!=null&&l.some(O=>A.hasSubtitleGroup(O))||x&&i.audioCodec===A.audioCodec||!x&&i.audioCodec!==A.audioCodec||w&&i.codecSet===A.codecSet)continue}h=M;break}}if(h>-1&&r.loadLevel!==h)return e.levelRetry=!0,this.playlistError=0,{action:On.SendAlternateToPenaltyBox,flags:mi.None,nextAutoLevel:h}}return{action:On.SendAlternateToPenaltyBox,flags:mi.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case On.DoNothing:break;case On.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==ee.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:i,hdcpLevel:s,nextAutoLevel:o}=r;switch(i){case mi.None:this.switchLevel(e,o);break;case mi.MoveAllAlternatesMatchingHDCP:s&&(n.maxHdcpLevel=z7[z7.indexOf(s)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,o)}switchLevel(e,n){n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class m_{constructor(e,n){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=K.log.bind(K,`${n}:`),this.warn=K.warn.bind(K,`${n}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,r){const i=n==null?void 0:n.renditionReports;if(i){let s=-1;for(let o=0;o<i.length;o++){const a=i[o];let l;try{l=new self.URL(a.URI,n.url).href}catch(c){K.warn(`Could not construct new URL for Rendition Report: ${c}`),l=a.URI||""}if(l===e){s=o;break}else l===e.substring(0,l.length)&&(s=o)}if(s!==-1){const o=i[s],a=parseInt(o["LAST-MSN"])||(n==null?void 0:n.lastPartSn);let l=parseInt(o["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){const h=Math.min(n.age-n.partTarget,n.targetduration);l>=0&&h>n.partTarget&&(l+=1)}const c=r&&O9(r);return new N9(a,l>=0?l:void 0,c)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,n,r){const{details:i,stats:s}=n,o=self.performance.now(),a=s.loading.first?Math.max(0,o-s.loading.first):0;if(i.advancedDateTime=Date.now()-a,i.live||r!=null&&r.live){if(i.reloaded(r),r&&this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),r&&i.fragments.length>0&&Cme(r,i),!this.canLoad||!i.live)return;let l,c,h;if(i.canBlockReload&&i.endSN&&i.advanced){const _=this.hls.config.lowLatencyMode,x=i.lastPartSn,b=i.endSN,w=i.lastPartIndex,T=w!==-1,C=x===b,I=_?0:w;T?(c=C?b+1:x,h=C?I:w+1):c=b+1;const M=i.age,A=M+i.ageHeader;let O=Math.min(A-i.partTarget,i.targetduration*1.5);if(O>0){if(r&&O>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${O} with playlist age: ${i.age}`),O=0;else{const N=Math.floor(O/i.targetduration);if(c+=N,h!==void 0){const z=Math.round(O%i.targetduration/i.partTarget);h+=z}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${M.toFixed(2)}s goal: ${O} skip sn ${N} to part ${h}`)}i.tuneInGoal=O}if(l=this.getDeliveryDirectives(i,n.deliveryDirectives,c,h),_||!C){this.loadPlaylist(l);return}}else(i.canBlockReload||i.canSkipUntil)&&(l=this.getDeliveryDirectives(i,n.deliveryDirectives,c,h));const d=this.hls.mainForwardBufferInfo,f=d?d.end-d.len:0,m=(i.edge-f)*1e3,g=Pme(i,m);i.updated&&o>this.requestScheduled+g&&(this.requestScheduled=s.loading.start),c!==void 0&&i.canBlockReload?this.requestScheduled=s.loading.first+g-(i.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+g<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=g);let v=this.requestScheduled-o;v=Math.max(0,v),this.log(`reload live playlist ${e} in ${Math.round(v)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(l),v)}else this.clearTimer()}getDeliveryDirectives(e,n,r,i){let s=O9(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,i=n.part,s=S0.No),new N9(r,i,s)}checkRetry(e){const n=e.details,r=l1(e),i=e.errorAction,{action:s,retryCount:o=0,retryConfig:a}=i||{},l=!!i&&!!a&&(s===On.RetryRequest||!i.resolved&&s===On.SendAlternateToPenaltyBox);if(l){var c;if(this.requestScheduled=-1,o>=a.maxNumRetry)return!1;if(r&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const h=p_(a,o);this.timer=self.setTimeout(()=>this.loadPlaylist(),h),this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" in ${h}ms`)}e.levelRetry=!0,i.resolved=!0}return l}}class ql{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class zme{constructor(e,n,r,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new ql(e),this.fast_=new ql(n),this.defaultTTFB_=i,this.ttfb_=new ql(e)}update(e,n){const{slow_:r,fast_:i,ttfb_:s}=this;r.halfLife!==e&&(this.slow_=new ql(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==n&&(this.fast_=new ql(n,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new ql(e,s.getEstimate(),s.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,i=e/1e3,s=r/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const GD={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},U9={};function Bme(t,e,n,r,i,s){const o=t.audioCodec?t.audioGroups:null,a=s==null?void 0:s.audioCodec,l=s==null?void 0:s.channels,c=l?parseInt(l):a?1/0:2;let h=null;if(o!=null&&o.length)try{o.length===1&&o[0]?h=e.groups[o[0]].channels:h=o.reduce((d,f)=>{if(f){const m=e.groups[f];if(!m)throw new Error(`Audio track group ${f} not found`);Object.keys(m.channels).forEach(g=>{d[g]=(d[g]||0)+m.channels[g]})}return d},{2:0})}catch{return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(i,8e6))||!!h&&_e(c)&&Object.keys(h).some(d=>parseInt(d)>c)}function Ume(t,e,n){const r=t.videoCodec,i=t.audioCodec;if(!r||!i||!n)return Promise.resolve(GD);const s={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},o=t.videoRange;o!=="SDR"&&(s.transferFunction=o.toLowerCase());const a=r.split(",").map(l=>({type:"media-source",video:An(An({},s),{},{contentType:Zd(l,"video")})}));return i&&t.audioGroups&&t.audioGroups.forEach(l=>{var c;l&&((c=e.groups[l])==null||c.tracks.forEach(h=>{if(h.groupId===l){const d=h.channels||"",f=parseFloat(d);_e(f)&&f>2&&a.push.apply(a,i.split(",").map(m=>({type:"media-source",audio:{contentType:Zd(m,"audio"),channels:""+f}})))}}))}),Promise.all(a.map(l=>{const c=jme(l);return U9[c]||(U9[c]=n.decodingInfo(l))})).then(l=>({supported:!l.some(c=>!c.supported),configurations:a,decodingInfoResults:l})).catch(l=>({supported:!1,configurations:a,decodingInfoResults:[],error:l}))}function jme(t){const{audio:e,video:n}=t,r=n||e;if(r){const i=r.contentType.split('"')[1];if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${i}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${i}`}return""}function Vme(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function Gme(t,e){let n=!1,r=[];return t&&(n=t!=="SDR",r=[t]),e&&(r=e.allowedVideoRanges||a1.slice(0),n=e.preferHDR!==void 0?e.preferHDR:Vme(),n?r=r.filter(i=>i!=="SDR"):r=["SDR"]),{preferHDR:n,allowedVideoRanges:r}}function Hme(t,e,n,r,i){const s=Object.keys(t),o=r==null?void 0:r.channels,a=r==null?void 0:r.audioCodec,l=o&&parseInt(o)===2;let c=!0,h=!1,d=1/0,f=1/0,m=1/0,g=0,v=[];const{preferHDR:_,allowedVideoRanges:x}=Gme(e,i);for(let C=s.length;C--;){const I=t[s[C]];c=I.channels[2]>0,d=Math.min(d,I.minHeight),f=Math.min(f,I.minFramerate),m=Math.min(m,I.minBitrate);const M=x.filter(A=>I.videoRanges[A]>0);M.length>0&&(h=!0,v=M)}d=_e(d)?d:0,f=_e(f)?f:0;const b=Math.max(1080,d),w=Math.max(30,f);return m=_e(m)?m:n,n=Math.max(m,n),h||(e=void 0,v=[]),{codecSet:s.reduce((C,I)=>{const M=t[I];if(I===C)return C;if(M.minBitrate>n)return Es(I,`min bitrate of ${M.minBitrate} > current estimate of ${n}`),C;if(!M.hasDefaultAudio)return Es(I,"no renditions with default or auto-select sound found"),C;if(a&&I.indexOf(a.substring(0,4))%5!==0)return Es(I,`audio codec preference "${a}" not found`),C;if(o&&!l){if(!M.channels[o])return Es(I,`no renditions with ${o} channel sound found (channels options: ${Object.keys(M.channels)})`),C}else if((!a||l)&&c&&M.channels[2]===0)return Es(I,"no renditions with stereo sound found"),C;return M.minHeight>b?(Es(I,`min resolution of ${M.minHeight} > maximum of ${b}`),C):M.minFramerate>w?(Es(I,`min framerate of ${M.minFramerate} > maximum of ${w}`),C):v.some(A=>M.videoRanges[A]>0)?M.maxScore<g?(Es(I,`max score of ${M.maxScore} < selected max of ${g}`),C):C&&(s1(I)>=s1(C)||M.fragmentError>t[C].fragmentError)?C:(g=M.maxScore,I):(Es(I,`no variants with VIDEO-RANGE of ${JSON.stringify(v)} found`),C)},void 0),videoRanges:v,preferHDR:_,minFramerate:f,minBitrate:m}}function Es(t,e){K.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function Wme(t){return t.reduce((e,n)=>{let r=e.groups[n.groupId];r||(r=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(n);const i=n.channels||"2";return r.channels[i]=(r.channels[i]||0)+1,r.hasDefault=r.hasDefault||n.default,r.hasAutoSelect=r.hasAutoSelect||n.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function Kme(t,e,n,r){return t.slice(n,r+1).reduce((i,s)=>{if(!s.codecSet)return i;const o=s.audioGroups;let a=i[s.codecSet];a||(i[s.codecSet]=a={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!o,fragmentError:0}),a.minBitrate=Math.min(a.minBitrate,s.bitrate);const l=Math.min(s.height,s.width);return a.minHeight=Math.min(a.minHeight,l),a.minFramerate=Math.min(a.minFramerate,s.frameRate),a.maxScore=Math.max(a.maxScore,s.score),a.fragmentError+=s.fragmentError,a.videoRanges[s.videoRange]=(a.videoRanges[s.videoRange]||0)+1,o&&o.forEach(c=>{if(!c)return;const h=e.groups[c];h&&(a.hasDefaultAudio=a.hasDefaultAudio||e.hasDefaultAudio?h.hasDefault:h.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(h.channels).forEach(d=>{a.channels[d]=(a.channels[d]||0)+h.channels[d]}))}),i},{})}function ns(t,e,n){if("attrs"in t){const r=e.indexOf(t);if(r!==-1)return r}for(let r=0;r<e.length;r++){const i=e[r];if(Dc(t,i,n))return r}return-1}function Dc(t,e,n){const{groupId:r,name:i,lang:s,assocLang:o,characteristics:a,default:l}=t,c=t.forced;return(r===void 0||e.groupId===r)&&(i===void 0||e.name===i)&&(s===void 0||e.lang===s)&&(s===void 0||e.assocLang===o)&&(l===void 0||e.default===l)&&(c===void 0||e.forced===c)&&(a===void 0||qme(a,e.characteristics))&&(n===void 0||n(t,e))}function qme(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(i=>r.indexOf(i)===-1)}function Yl(t,e){const{audioCodec:n,channels:r}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function Yme(t,e,n,r,i){const s=e[r],a=e.reduce((f,m,g)=>{const v=m.uri;return(f[v]||(f[v]=[])).push(g),f},{})[s.uri];a.length>1&&(r=Math.max.apply(Math,a));const l=s.videoRange,c=s.frameRate,h=s.codecSet.substring(0,4),d=j9(e,r,f=>{if(f.videoRange!==l||f.frameRate!==c||f.codecSet.substring(0,4)!==h)return!1;const m=f.audioGroups,g=n.filter(v=>!m||m.indexOf(v.groupId)!==-1);return ns(t,g,i)>-1});return d>-1?d:j9(e,r,f=>{const m=f.audioGroups,g=n.filter(v=>!m||m.indexOf(v.groupId)!==-1);return ns(t,g,i)>-1})}function j9(t,e,n){for(let r=e;r;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}class Zme{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:n,partCurrent:r,hls:i}=this,{autoLevelEnabled:s,media:o}=i;if(!n||!o)return;const a=performance.now(),l=r?r.stats:n.stats,c=r?r.duration:n.duration,h=a-l.loading.start,d=i.minAutoLevel;if(l.aborted||l.loaded&&l.loaded===l.total||n.level<=d){this.clearTimer(),this._nextAutoLevel=-1;return}if(!s||o.paused||!o.playbackRate||!o.readyState)return;const f=i.mainForwardBufferInfo;if(f===null)return;const m=this.bwEstimator.getEstimateTTFB(),g=Math.abs(o.playbackRate);if(h<=Math.max(m,1e3*(c/(g*2))))return;const v=f.len/g,_=l.loading.first?l.loading.first-l.loading.start:-1,x=l.loaded&&_>-1,b=this.getBwEstimate(),w=i.levels,T=w[n.level],C=l.total||Math.max(l.loaded,Math.round(c*T.averageBitrate/8));let I=x?h-_:h;I<1&&x&&(I=Math.min(h,l.loaded*8/b));const M=x?l.loaded*1e3/I:0,A=M?(C-l.loaded)/M:C*8/b+m/1e3;if(A<=v)return;const O=M?M*8:b;let N=Number.POSITIVE_INFINITY,z;for(z=n.level-1;z>d;z--){const j=w[z].maxBitrate;if(N=this.getTimeToLoadFrag(m/1e3,O,c*j,!w[z].details),N<v)break}if(N>=A||N>c*10)return;i.nextLoadLevel=i.nextAutoLevel=z,x?this.bwEstimator.sample(h-Math.min(m,_),l.loaded):this.bwEstimator.sampleTTFB(h);const H=w[z].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>H&&this.resetEstimator(H),this.clearTimer(),K.warn(`[abr] Fragment ${n.sn}${r?" part "+r.index:""} of level ${n.level} is loading too slowly;
      Time to underbuffer: ${v.toFixed(3)} s
      Estimated load time for current fragment: ${A.toFixed(3)} s
      Estimated load time for down switch fragment: ${N.toFixed(3)} s
      TTFB estimate: ${_|0} ms
      Current BW estimate: ${_e(b)?b|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${z} @ ${H|0} bps`),i.trigger(R.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:r,stats:l})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(K.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new zme(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.FRAG_LOADING,this.onFragLoading,this),e.on(R.FRAG_LOADED,this.onFragLoaded,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this),e.on(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(R.LEVEL_LOADED,this.onLevelLoaded,this),e.on(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(R.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(R.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.FRAG_LOADING,this.onFragLoading,this),e.off(R.FRAG_LOADED,this.onFragLoaded,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this),e.off(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(R.LEVEL_LOADED,this.onLevelLoaded,this),e.off(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(R.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(R.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const r=n.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var i;this.fragCurrent=r,this.partCurrent=(i=n.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case ee.BUFFER_ADD_CODEC_ERROR:case ee.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case ee.FRAG_LOAD_TIMEOUT:{const r=n.frag,{fragCurrent:i,partCurrent:s}=this;if(r&&i&&r.sn===i.sn&&r.level===i.level){const o=performance.now(),a=s?s.stats:r.stats,l=o-a.loading.start,c=a.loading.first?a.loading.first-a.loading.start:-1;if(a.loaded&&c>-1){const d=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(d,c),a.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,n,r,i){const s=e+r/n,o=i?this.lastLevelLoadSec:0;return s+o}onLevelLoaded(e,n){const r=this.hls.config,{loading:i}=n.stats,s=i.end-i.start;_e(s)&&(this.lastLevelLoadSec=s/1e3),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)}onFragLoaded(e,{frag:n,part:r}){const i=r?r.stats:n.stats;if(n.type===Te.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=r?r.duration:n.duration,o=this.hls.levels[n.level],a=(o.loaded?o.loaded.bytes:0)+i.loaded,l=(o.loaded?o.loaded.duration:0)+s;o.loaded={bytes:a,duration:l},o.realBitrate=Math.round(8*a/l)}if(n.bitrateTest){const s={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(R.FRAG_BUFFERED,s),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:r,part:i}=n,s=i!=null&&i.stats.loaded?i.stats:r.stats;if(s.aborted||this.ignoreFragment(r))return;const o=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,s.loaded),s.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Te.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,s=this.findBestLevel(r,n,e,0,i,1,1);if(s>-1)return s;const o=this.hls.firstLevel,a=Math.min(Math.max(o,n),e);return K.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=r&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const o=this.hls.levels;if(o.length>Math.max(e,s)&&o[e].loadError<=o[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this,{maxAutoLevel:i,config:s,minAutoLevel:o}=r,a=n?n.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let h=s.abrBandWidthFactor,d=s.abrBandWidthUpFactor;if(c){const _=this.findBestLevel(l,o,i,c,0,h,d);if(_>=0)return _}let f=a?Math.min(a,s.maxStarvationDelay):s.maxStarvationDelay;if(!c){const _=this.bitrateTestDelay;_&&(f=(a?Math.min(a,s.maxLoadingDelay):s.maxLoadingDelay)-_,K.info(`[abr] bitrate test took ${Math.round(1e3*_)}ms, set first fragment max fetchDuration to ${Math.round(1e3*f)} ms`),h=d=1)}const m=this.findBestLevel(l,o,i,c,f,h,d);if(K.info(`[abr] ${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${m}`),m>-1)return m;const g=r.levels[o],v=r.levels[r.loadLevel];return(g==null?void 0:g.bitrate)<(v==null?void 0:v.bitrate)?o:r.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const r=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,r,i,s,o,a){var l;const c=i+s,h=this.lastLoadedFragLevel,d=h===-1?this.hls.firstLevel:h,{fragCurrent:f,partCurrent:m}=this,{levels:g,allAudioTracks:v,loadLevel:_,config:x}=this.hls;if(g.length===1)return 0;const b=g[d],w=!!(b!=null&&(l=b.details)!=null&&l.live),T=_===-1||h===-1;let C,I="SDR",M=(b==null?void 0:b.frameRate)||0;const{audioPreference:A,videoPreference:O}=x,N=this.audioTracksByGroup||(this.audioTracksByGroup=Wme(v));if(T){if(this.firstSelection!==-1)return this.firstSelection;const te=this.codecTiers||(this.codecTiers=Kme(g,N,n,r)),G=Hme(te,I,e,A,O),{codecSet:ie,videoRanges:U,minFramerate:W,minBitrate:F,preferHDR:q}=G;C=ie,I=q?U[U.length-1]:U[0],M=W,e=Math.max(e,F),K.log(`[abr] picked start tier ${JSON.stringify(G)}`)}else C=b==null?void 0:b.codecSet,I=b==null?void 0:b.videoRange;const z=m?m.duration:f?f.duration:0,H=this.bwEstimator.getEstimateTTFB()/1e3,j=[];for(let te=r;te>=n;te--){var Z;const G=g[te],ie=te>d;if(!G)continue;if(x.useMediaCapabilities&&!G.supportedResult&&!G.supportedPromise){const he=navigator.mediaCapabilities;typeof(he==null?void 0:he.decodingInfo)=="function"&&Bme(G,N,I,M,e,A)?(G.supportedPromise=Ume(G,N,he),G.supportedPromise.then(de=>{if(!this.hls)return;G.supportedResult=de;const ce=this.hls.levels,Se=ce.indexOf(G);de.error?K.warn(`[abr] MediaCapabilities decodingInfo error: "${de.error}" for level ${Se} ${JSON.stringify(de)}`):de.supported||(K.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${Se} ${JSON.stringify(de)}`),Se>-1&&ce.length>1&&(K.log(`[abr] Removing unsupported level ${Se}`),this.hls.removeLevel(Se)))})):G.supportedResult=GD}if(C&&G.codecSet!==C||I&&G.videoRange!==I||ie&&M>G.frameRate||!ie&&M>0&&M<G.frameRate||G.supportedResult&&!((Z=G.supportedResult.decodingInfoResults)!=null&&Z[0].smooth)){j.push(te);continue}const U=G.details,W=(m?U==null?void 0:U.partTarget:U==null?void 0:U.averagetargetduration)||z;let F;ie?F=a*e:F=o*e;const q=z&&i>=z*2&&s===0?g[te].averageBitrate:g[te].maxBitrate,re=this.getTimeToLoadFrag(H,F,q*W,U===void 0);if(F>=q&&(te===h||G.loadError===0&&G.fragmentError===0)&&(re<=H||!_e(re)||w&&!this.bitrateTestDelay||re<c)){const he=this.forcedAutoLevel;return te!==_&&(he===-1||he!==_)&&(j.length&&K.trace(`[abr] Skipped level(s) ${j.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${g[j[0]].codecs}" ${g[j[0]].videoRange}; not compatible with "${b.codecs}" ${I}`),K.info(`[abr] switch candidate:${d}->${te} adjustedbw(${Math.round(F)})-bitrate=${Math.round(F-q)} ttfb:${H.toFixed(1)} avgDuration:${W.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${re.toFixed(1)} firstSelection:${T} codecSet:${C} videoRange:${I} hls.loadLevel:${_}`)),T&&(this.firstSelection=te),te}}return-1}set nextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:r}=this.hls,i=Math.min(Math.max(e,r),n);this._nextAutoLevel!==i&&(this.nextAutoLevelKey="",this._nextAutoLevel=i)}}class Xme{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var Tn={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class Qme{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(R.BUFFER_APPENDED,this.onBufferAppended,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this),e.on(R.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.BUFFER_APPENDED,this.onBufferAppended,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this),e.off(R.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let i=r.length;i--;){const s=r[i];if(!s)break;const o=s.end;if(s.start<=e&&o!==null&&e<=o)return s}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){const{fragments:r}=this,i=Object.keys(r);for(let s=i.length;s--;){const o=r[i[s]];if((o==null?void 0:o.body.type)===n&&o.buffered){const a=o.body;if(a.start<=e&&e<=a.end)return a}}return null}detectEvictedFragments(e,n,r,i){this.timeRanges&&(this.timeRanges[e]=n);const s=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a||s>=a.body.sn)return;if(!a.buffered&&!a.loaded){a.body.type===r&&this.removeFragment(a.body);return}const l=a.range[e];l&&l.time.some(c=>{const h=!this.isTimeBuffered(c.startPTS,c.endPTS,n);return h&&this.removeFragment(a.body),h})})}detectPartialFragments(e){const n=this.timeRanges,{frag:r,part:i}=e;if(!n||r.sn==="initSegment")return;const s=Zl(r),o=this.fragments[s];if(!o||o.buffered&&r.gap)return;const a=!r.relurl;Object.keys(n).forEach(l=>{const c=r.elementaryStreams[l];if(!c)return;const h=n[l],d=a||c.partial===!0;o.range[l]=this.getBufferedTimes(r,i,d,h)}),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,(o.body.endList=r.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),V3(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=r.filter(i=>i.fragment.sn>=e))}fragBuffered(e,n){const r=Zl(e);let i=this.fragments[r];!i&&n&&(i=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,n,r,i){const s={time:[],partial:r},o=e.start,a=e.end,l=e.minEndPTS||a,c=e.maxStartPTS||o;for(let h=0;h<i.length;h++){const d=i.start(h)-this.bufferPadding,f=i.end(h)+this.bufferPadding;if(c>=d&&l<=f){s.time.push({startPTS:Math.max(o,i.start(h)),endPTS:Math.min(a,i.end(h))});break}else if(o<f&&a>d){const m=Math.max(o,i.start(h)),g=Math.min(a,i.end(h));g>m&&(s.partial=!0,s.time.push({startPTS:m,endPTS:g}))}else if(a<=d)break}return s}getPartialFragment(e){let n=null,r,i,s,o=0;const{bufferPadding:a,fragments:l}=this;return Object.keys(l).forEach(c=>{const h=l[c];h&&V3(h)&&(i=h.body.start-a,s=h.body.end+a,e>=i&&e<=s&&(r=Math.min(e-i,s-e),o<=r&&(n=h.body,o=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||V3(n))}getState(e){const n=Zl(e),r=this.fragments[n];return r?r.buffered?V3(r)?Tn.PARTIAL:Tn.OK:Tn.APPENDING:Tn.NOT_LOADED}isTimeBuffered(e,n,r){let i,s;for(let o=0;o<r.length;o++){if(i=r.start(o)-this.bufferPadding,s=r.end(o)+this.bufferPadding,e>=i&&n<=s)return!0;if(n<=i)return!1}return!1}onFragLoaded(e,n){const{frag:r,part:i}=n;if(r.sn==="initSegment"||r.bitrateTest)return;const s=i?null:n,o=Zl(r);this.fragments[o]={body:r,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:i,timeRanges:s}=n;if(r.sn==="initSegment")return;const o=r.type;if(i){let a=this.activePartLists[o];a||(this.activePartLists[o]=a=[]),a.push(i)}this.timeRanges=s,Object.keys(s).forEach(a=>{const l=s[a];this.detectEvictedFragments(a,l,o,i)})}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=Zl(e);return!!this.fragments[n]}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a)return;const l=a.body;l.type!==r||i&&!l.gap||l.start<n&&l.end>e&&(a.buffered||s)&&this.removeFragment(l)})}removeFragment(e){const n=Zl(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const i=e.sn;this.activePartLists[e.type]=r.filter(s=>s.fragment.sn!==i)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function V3(t){var e,n,r;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((n=t.range.audio)==null?void 0:n.partial)||((r=t.range.audiovideo)==null?void 0:r.partial))}function Zl(t){return`${t.type}_${t.level}_${t.sn}`}const Jme={length:0,start:()=>0,end:()=>0};class Lt{static isBuffered(e,n){try{if(e){const r=Lt.getBuffered(e);for(let i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}}catch{}return!1}static bufferInfo(e,n,r){try{if(e){const i=Lt.getBuffered(e),s=[];let o;for(o=0;o<i.length;o++)s.push({start:i.start(o),end:i.end(o)});return this.bufferedInfo(s,n,r)}}catch{}return{len:0,start:n,end:n,nextStart:void 0}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.sort(function(c,h){const d=c.start-h.start;return d||h.end-c.end});let i=[];if(r)for(let c=0;c<e.length;c++){const h=i.length;if(h){const d=i[h-1].end;e[c].start-d<r?e[c].end>d&&(i[h-1].end=e[c].end):i.push(e[c])}else i.push(e[c])}else i=e;let s=0,o,a=n,l=n;for(let c=0;c<i.length;c++){const h=i[c].start,d=i[c].end;if(n+r>=h&&n<d)a=h,l=d,s=l-n;else if(n+r<h){o=h;break}}return{len:s,start:a||0,end:l||0,nextStart:o}}static getBuffered(e){try{return e.buffered}catch(n){return K.log("failed to get media.buffered",n),Jme}}}class g_{constructor(e,n,r,i=0,s=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=G3(),this.buffering={audio:G3(),video:G3(),audiovideo:G3()},this.level=e,this.sn=n,this.id=r,this.size=i,this.part=s,this.partial=o}}function G3(){return{start:0,executeStart:0,executeEnd:0,end:0}}function E0(t,e){for(let r=0,i=t.length;r<i;r++){var n;if(((n=t[r])==null?void 0:n.cc)===e)return t[r]}return null}function e6e(t,e,n){return!!(e&&(n.endCC>n.startCC||t&&t.cc<n.startCC))}function t6e(t,e){const n=t.fragments,r=e.fragments;if(!r.length||!n.length){K.log("No fragments to align");return}const i=E0(n,r[0].cc);if(!i||i&&!i.startPTS){K.log("No frag in previous level to align on");return}return i}function V9(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function HD(t,e){const n=e.fragments;for(let r=0,i=n.length;r<i;r++)V9(n[r],t);e.fragmentHint&&V9(e.fragmentHint,t),e.alignedSliding=!0}function n6e(t,e,n){e&&(r6e(t,n,e),!n.alignedSliding&&e&&h1(n,e),!n.alignedSliding&&e&&!n.skippedSegments&&BD(e,n))}function r6e(t,e,n){if(e6e(t,n,e)){const r=t6e(n,e);r&&_e(r.start)&&(K.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),HD(r.start,e))}}function h1(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let i,s;const o=Math.min(e.endCC,t.endCC);e.startCC<o&&t.startCC<o&&(i=E0(r,o),s=E0(n,o)),(!i||!s)&&(i=r[Math.floor(r.length/2)],s=E0(n,i.cc)||n[Math.floor(n.length/2)]);const a=i.programDateTime,l=s.programDateTime;if(!a||!l)return;const c=(l-a)/1e3-(s.start-i.start);HD(c,t)}const G9=Math.pow(2,17);class i6e{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new Cs({type:Ie.NETWORK_ERROR,details:ee.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(m=>m[0]==="GAP")){l(W9(e));return}else e.gap=!1;const c=this.loader=e.loader=s?new s(i):new o(i),h=H9(e),d=B9(i.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:G9};e.stats=c.stats,c.load(h,f,{onSuccess:(m,g,v,_)=>{this.resetLoader(e,c);let x=m.data;v.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(x.slice(0,16)),x=x.slice(16)),a({frag:e,part:null,payload:x,networkDetails:_})},onError:(m,g,v,_)=>{this.resetLoader(e,c),l(new Cs({type:Ie.NETWORK_ERROR,details:ee.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:An({url:r,data:void 0},m),error:new Error(`HTTP Error ${m.code} ${m.text}`),networkDetails:v,stats:_}))},onAbort:(m,g,v)=>{this.resetLoader(e,c),l(new Cs({type:Ie.NETWORK_ERROR,details:ee.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:v,stats:m}))},onTimeout:(m,g,v)=>{this.resetLoader(e,c),l(new Cs({type:Ie.NETWORK_ERROR,details:ee.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:v,stats:m}))},onProgress:(m,g,v,_)=>{n&&n({frag:e,part:null,payload:v,networkDetails:_})}})})}loadPart(e,n,r){this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){l(W9(e,n));return}const c=this.loader=e.loader=s?new s(i):new o(i),h=H9(e,n),d=B9(i.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:G9};n.stats=c.stats,c.load(h,f,{onSuccess:(m,g,v,_)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,n);const x={frag:e,part:n,payload:m.data,networkDetails:_};r(x),a(x)},onError:(m,g,v,_)=>{this.resetLoader(e,c),l(new Cs({type:Ie.NETWORK_ERROR,details:ee.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:An({url:h.url,data:void 0},m),error:new Error(`HTTP Error ${m.code} ${m.text}`),networkDetails:v,stats:_}))},onAbort:(m,g,v)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,c),l(new Cs({type:Ie.NETWORK_ERROR,details:ee.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:v,stats:m}))},onTimeout:(m,g,v)=>{this.resetLoader(e,c),l(new Cs({type:Ie.NETWORK_ERROR,details:ee.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:v,stats:m}))}})})}updateStatsFromPart(e,n){const r=e.stats,i=n.stats,s=i.total;if(r.loaded+=i.loaded,s){const l=Math.round(e.duration/n.duration),c=Math.min(Math.round(r.loaded/s),l),d=(l-c)*Math.round(r.loaded/c);r.total=r.loaded+d}else r.total=Math.max(r.loaded,r.total);const o=r.loading,a=i.loading;o.start?o.first+=a.first-a.start:(o.start=a.start,o.first=a.first),o.end=a.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function H9(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,s=n.byteRangeEndOffset;if(_e(i)&&_e(s)){var o;let a=i,l=s;if(t.sn==="initSegment"&&((o=t.decryptdata)==null?void 0:o.method)==="AES-128"){const c=s-i;c%16&&(l=s+(16-c%16)),i!==0&&(r.resetIV=!0,a=i-16)}r.rangeStart=a,r.rangeEnd=l}return r}function W9(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:Ie.MEDIA_ERROR,details:ee.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new Cs(r)}class Cs extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class s6e{constructor(e,n){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=n}decrypt(e,n){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e)}}class o6e{constructor(e,n){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=n}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function a6e(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?Qa(t,0,e-n):t}class l6e{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let i=0;i<4;i++)r[i]=n.getUint32(i*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,i=r[0],s=r[1],o=r[2],a=r[3],l=this.invSubMix,c=l[0],h=l[1],d=l[2],f=l[3],m=new Uint32Array(256);let g=0,v=0,_=0;for(_=0;_<256;_++)_<128?m[_]=_<<1:m[_]=_<<1^283;for(_=0;_<256;_++){let x=v^v<<1^v<<2^v<<3^v<<4;x=x>>>8^x&255^99,e[g]=x,n[x]=g;const b=m[g],w=m[b],T=m[w];let C=m[x]*257^x*16843008;i[g]=C<<24|C>>>8,s[g]=C<<16|C>>>16,o[g]=C<<8|C>>>24,a[g]=C,C=T*16843009^w*65537^b*257^g*16843008,c[x]=C<<24|C>>>8,h[x]=C<<16|C>>>16,d[x]=C<<8|C>>>24,f[x]=C,g?(g=b^m[m[m[T^b]]],v^=m[m[v]]):g=v=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,i=0;for(;i<n.length&&r;)r=n[i]===this.key[i],i++;if(r)return;this.key=n;const s=this.keySize=n.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const o=this.ksRows=(s+6+1)*4;let a,l;const c=this.keySchedule=new Uint32Array(o),h=this.invKeySchedule=new Uint32Array(o),d=this.sBox,f=this.rcon,m=this.invSubMix,g=m[0],v=m[1],_=m[2],x=m[3];let b,w;for(a=0;a<o;a++){if(a<s){b=c[a]=n[a];continue}w=b,a%s===0?(w=w<<8|w>>>24,w=d[w>>>24]<<24|d[w>>>16&255]<<16|d[w>>>8&255]<<8|d[w&255],w^=f[a/s|0]<<24):s>6&&a%s===4&&(w=d[w>>>24]<<24|d[w>>>16&255]<<16|d[w>>>8&255]<<8|d[w&255]),c[a]=b=(c[a-s]^w)>>>0}for(l=0;l<o;l++)a=o-l,l&3?w=c[a]:w=c[a-4],l<4||a<=4?h[l]=w:h[l]=g[d[w>>>24]]^v[d[w>>>16&255]]^_[d[w>>>8&255]]^x[d[w&255]],h[l]=h[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const i=this.keySize+6,s=this.invKeySchedule,o=this.invSBox,a=this.invSubMix,l=a[0],c=a[1],h=a[2],d=a[3],f=this.uint8ArrayToUint32Array_(r);let m=f[0],g=f[1],v=f[2],_=f[3];const x=new Int32Array(e),b=new Int32Array(x.length);let w,T,C,I,M,A,O,N,z,H,j,Z,te,G;const ie=this.networkToHostOrderSwap;for(;n<x.length;){for(z=ie(x[n]),H=ie(x[n+1]),j=ie(x[n+2]),Z=ie(x[n+3]),M=z^s[0],A=Z^s[1],O=j^s[2],N=H^s[3],te=4,G=1;G<i;G++)w=l[M>>>24]^c[A>>16&255]^h[O>>8&255]^d[N&255]^s[te],T=l[A>>>24]^c[O>>16&255]^h[N>>8&255]^d[M&255]^s[te+1],C=l[O>>>24]^c[N>>16&255]^h[M>>8&255]^d[A&255]^s[te+2],I=l[N>>>24]^c[M>>16&255]^h[A>>8&255]^d[O&255]^s[te+3],M=w,A=T,O=C,N=I,te=te+4;w=o[M>>>24]<<24^o[A>>16&255]<<16^o[O>>8&255]<<8^o[N&255]^s[te],T=o[A>>>24]<<24^o[O>>16&255]<<16^o[N>>8&255]<<8^o[M&255]^s[te+1],C=o[O>>>24]<<24^o[N>>16&255]<<16^o[M>>8&255]<<8^o[A&255]^s[te+2],I=o[N>>>24]<<24^o[M>>16&255]<<16^o[A>>8&255]<<8^o[O&255]^s[te+3],b[n]=ie(w^m),b[n+1]=ie(I^g),b[n+2]=ie(C^v),b[n+3]=ie(T^_),m=z,g=H,v=j,_=Z,n=n+4}return b.buffer}}const c6e=16;class v_{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?a6e(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r){return this.useSoftware?new Promise((i,s)=>{this.softwareDecrypt(new Uint8Array(e),n,r);const o=this.flush();o?i(o.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r)}softwareDecrypt(e,n,r){const{currentIV:i,currentResult:s,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(e=ai(o,e),this.remainderData=null);const a=this.getValidChunk(e);if(!a.length)return null;i&&(r=i);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new l6e),l.expandKey(n);const c=s;return this.currentResult=l.decrypt(a.buffer,0,r),this.currentIV=Qa(a,-16).buffer,c||null}webCryptoDecrypt(e,n,r){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,r));this.key=n,this.fastAesKey=new o6e(this.subtle,n)}return this.fastAesKey.expandKey().then(i=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new s6e(this.subtle,new Uint8Array(r)).decrypt(e.buffer,i)):Promise.reject(new Error("web crypto not initialized"))).catch(i=>(K.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${i.name}: ${i.message}`),this.onWebCryptoError(e,n,r)))}onWebCryptoError(e,n,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r);const i=this.flush();if(i)return i.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%c6e;return r!==e.length&&(n=Qa(e,0,r),this.remainderData=Qa(e,r)),n}logOnce(e){this.logEnabled&&(K.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const u6e={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},oe={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class y_ extends Xme{constructor(e,n,r,i,s){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=oe.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=s,this.logPrefix=i,this.log=K.log.bind(K,`${i}:`),this.warn=K.warn.bind(K,`${i}:`),this.hls=e,this.fragmentLoader=new i6e(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new v_(e.config),e.on(R.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=oe.STOPPED}_streamEnded(e,n){if(n.live||e.nextStart||!e.end||!this.media)return!1;const r=n.partList;if(r!=null&&r.length){const s=r[r.length-1];return Lt.isBuffered(this.media,s.start+s.duration/2)}const i=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);const i=this.config;this.levels&&i.autoStartLoad&&this.state===oe.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:n,media:r,mediaBuffer:i,state:s}=this,o=r?r.currentTime:0,a=Lt.bufferInfo(i||r,o,e.maxBufferHole);if(this.log(`media seeking to ${_e(o)?o.toFixed(3):o}, state: ${s}`),this.state===oe.ENDED)this.resetLoadingState();else if(n){const l=e.maxFragLookUpTolerance,c=n.start-l,h=n.start+n.duration+l;if(!a.len||h<a.start||c>a.end){const d=o>h;(o<c||d)&&(d&&n.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),!this.loadedmetadata&&!a.len&&(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(R.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=oe.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const i=s=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${s.part?" p: "+s.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,n,r,i).then(s=>{if(!s)return;const o=this.state;if(this.fragContextChanged(e)){(o===oe.FRAG_LOADING||!this.fragCurrent&&o===oe.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=oe.IDLE);return}"payload"in s&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(R.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===oe.STOPPED||this.state===oe.ERROR||(this.warn(`Frag error: ${(s==null?void 0:s.message)||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===Tn.APPENDING){const s=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,s),a=Math.max(e.duration,o?o.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(a,e.duration))&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===Tn.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,n,r=null){if(!(e-n))return;const i={startOffset:e,endOffset:n,type:r};this.hls.trigger(R.BUFFER_FLUSHING,i)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{if(!r||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:i}=this,{payload:s}=r,o=e.decryptdata;if(s&&s.byteLength>0&&o!=null&&o.key&&o.iv&&o.method==="AES-128"){const a=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),o.key.buffer,o.iv.buffer).catch(l=>{throw i.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:e}),l}).then(l=>{const c=self.performance.now();return i.trigger(R.FRAG_DECRYPTED,{frag:e,payload:l,stats:{tstart:a,tdecrypt:c}}),r.payload=l,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===oe.STOPPED||this.state===oe.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state=oe.IDLE,e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){var r,i,s,o;const a=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.playlistType===Te.MAIN?"level":"track"} ${e.level} (frag:[${((r=e.startPTS)!=null?r:NaN).toFixed(3)}-${((i=e.endPTS)!=null?i:NaN).toFixed(3)}] > buffer:${a?u6e.toString(Lt.getBuffered(a)):"(detached)"})`),e.sn!=="initSegment"){var l;if(e.type!==Te.SUBTITLE){const h=e.elementaryStreams;if(!Object.keys(h).some(d=>!!h[d])){this.state=oe.IDLE;return}}const c=(l=this.levels)==null?void 0:l[e.level];c!=null&&c.fragmentError&&(this.log(`Resetting level fragment error count of ${c.fragmentError} on frag buffered`),c.fragmentError=0)}this.state=oe.IDLE,a&&(!this.loadedmetadata&&e.type==Te.MAIN&&a.buffered.length&&((s=this.fragCurrent)==null?void 0:s.sn)===((o=this.fragPrevious)==null?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:i,partsLoaded:s}=e,o=!s||s.length===0||s.some(l=>!l),a=new g_(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!o);n.flush(a)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,i){var s;const o=n==null?void 0:n.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let a=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${o.startSN}-${o.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=oe.KEY_LOADING,this.fragCurrent=e,a=this.keyLoader.load(e).then(h=>{if(!this.fragContextChanged(h.frag))return this.hls.trigger(R.KEY_LOADED,h),this.state===oe.KEY_LOADING&&(this.state=oe.IDLE),h}),this.hls.trigger(R.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments),r=Math.max(e.start,r||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const h=o.partList;if(h&&i){r>e.end&&o.fragmentHint&&(e=o.fragmentHint);const d=this.getNextPart(h,e,r);if(d>-1){const f=h[d];this.log(`Loading part sn: ${e.sn} p: ${f.index} cc: ${e.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${d}-${h.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=f.start+f.duration,this.state=oe.FRAG_LOADING;let m;return a?m=a.then(g=>!g||this.fragContextChanged(g.frag)?null:this.doFragPartsLoad(e,f,n,i)).catch(g=>this.handleFragLoadError(g)):m=this.doFragPartsLoad(e,f,n,i).catch(g=>this.handleFragLoadError(g)),this.hls.trigger(R.FRAG_LOADING,{frag:e,part:f,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):m}else if(!e.url||this.loadedEndOfParts(h,r))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${o?"of ["+o.startSN+"-"+o.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),_e(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=oe.FRAG_LOADING;const l=this.config.progressive;let c;return l&&a?c=a.then(h=>!h||this.fragContextChanged(h==null?void 0:h.frag)?null:this.fragmentLoader.load(e,i)).catch(h=>this.handleFragLoadError(h)):c=Promise.all([this.fragmentLoader.load(e,l?i:void 0),a]).then(([h])=>(!l&&h&&i&&i(h),h)).catch(h=>this.handleFragLoadError(h)),this.hls.trigger(R.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(e,n,r,i){return new Promise((s,o)=>{var a;const l=[],c=(a=r.details)==null?void 0:a.partList,h=d=>{this.fragmentLoader.loadPart(e,d,i).then(f=>{l[d.index]=f;const m=f.part;this.hls.trigger(R.FRAG_LOADED,f);const g=$9(r,e.sn,d.index+1)||UD(c,e.sn,d.index+1);if(g)h(g);else return s({frag:e,part:m,partsLoaded:l})}).catch(o)};h(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;e.data&&n.details===ee.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):this.hls.trigger(R.ERROR,n)}else this.hls.trigger(R.ERROR,{type:Ie.OTHER_ERROR,details:ee.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==oe.PARSING){!this.fragCurrent&&this.state!==oe.STOPPED&&this.state!==oe.ERROR&&(this.state=oe.IDLE);return}const{frag:r,part:i,level:s}=n,o=self.performance.now();r.stats.parsing.end=o,i&&(i.stats.parsing.end=o),this.updateLevelTiming(r,i,s,e.partial)}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:i,sn:s,part:o}=e;if(!(n!=null&&n[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of level ${i}. The current chunk will not be buffered.`),null;const a=n[i],l=o>-1?$9(a,s,o):null,c=l?l.fragment:Rme(a,s,r);return c?(r&&r!==c&&(c.stats=r.stats),{frag:c,part:l,level:a}):null}bufferFragmentData(e,n,r,i,s){var o;if(!e||this.state!==oe.PARSING)return;const{data1:a,data2:l}=e;let c=a;if(a&&l&&(c=ai(a,l)),!((o=c)!=null&&o.length))return;const h={type:e.type,frag:n,part:r,chunkMeta:i,parent:n.type,data:c};if(this.hls.trigger(R.BUFFER_APPENDING,h),e.dropped&&e.independent&&!r){if(s)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!Lt.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,i=Lt.bufferInfo(n,r,0),s=e.duration,o=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),a=Math.max(Math.min(e.start-o,i.end-o),r+o);e.start-a>o&&this.flushMainBuffer(a,e.start)}getFwdBufferInfo(e,n){const r=this.getLoadPosition();return _e(r)?this.getFwdBufferInfoAtPos(e,r,n):null}getFwdBufferInfoAtPos(e,n,r){const{config:{maxBufferHole:i}}=this,s=Lt.bufferInfo(e,n,i);if(s.len===0&&s.nextStart!==void 0){const o=this.fragmentTracker.getBufferedFrag(n,r);if(o&&s.nextStart<o.end)return Lt.bufferInfo(e,n,Math.max(s.nextStart,i))}return s}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const r=this.config,i=Math.max(Math.min(e-n,r.maxBufferLength),n),s=Math.max(e-n*3,r.maxMaxBufferLength/2,i);return s>=i?(r.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,n=Te.MAIN){const r=this.fragmentTracker.getAppendedFrag(e,Te.MAIN);return r&&"fragment"in r?r.fragment:r}getNextFragment(e,n){const r=n.fragments,i=r.length;if(!i)return null;const{config:s}=this,o=r[0].start;let a;if(n.live){const l=s.initialLiveManifestSize;if(i<l)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${l})`),null;(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<o)&&(a=this.getInitialLiveFragment(n,r),this.startPosition=this.nextLoadPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=o&&(a=r[0]);if(!a){const l=s.lowLatencyMode?n.partEnd:n.fragmentEnd;a=this.getFragmentAtPosition(e,l,n)}return this.mapToInitFragWhenRequired(a)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===Tn.OK||r===Tn.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,i,s){const o=e.gap,a=this.getNextFragment(this.nextLoadPosition,n);if(a===null)return a;if(e=a,o&&e&&!e.gap&&r.nextStart){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i);if(l!==null&&r.len+l.len>=s)return this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let i=-1,s=!1,o=!0;for(let a=0,l=e.length;a<l;a++){const c=e[a];if(o=o&&!c.independent,i>-1&&r<c.start)break;const h=c.loaded;h?i=-1:(s||c.independent||o)&&c.fragment===n&&(i=a),s=h}return i}loadedEndOfParts(e,n){const r=e[e.length-1];return r&&n>r.start&&r.loaded}getInitialLiveFragment(e,n){const r=this.fragPrevious;let i=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),i=Dme(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=r.sn+1;if(s>=e.startSN&&s<=e.endSN){const o=n[s-e.startSN];r.cc===o.cc&&(i=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=Fme(n,r.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,n,r){const{config:i}=this;let{fragPrevious:s}=this,{fragments:o,endSN:a}=r;const{fragmentHint:l}=r,{maxFragLookUpTolerance:c}=i,h=r.partList,d=!!(i.lowLatencyMode&&h!=null&&h.length&&l);d&&l&&!this.bitrateTest&&(o=o.concat(l),a=l.sn);let f;if(e<n){const m=e>n-c?0:c;f=u1(s,o,e,m)}else f=o[o.length-1];if(f){const m=f.sn-r.startSN,g=this.fragmentTracker.getState(f);if((g===Tn.OK||g===Tn.PARTIAL&&f.gap)&&(s=f),s&&f.sn===s.sn&&(!d||h[0].fragment.sn>f.sn)&&s&&f.level===s.level){const _=o[m+1];f.sn<a&&this.fragmentTracker.getState(_)!==Tn.OK?f=_:f=null}}return f}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const i=this.hls.liveSyncPosition,s=r.currentTime,o=e.fragments[0].start,a=e.edge,l=s>=o-n.maxFragLookUpTolerance&&s<=a;if(i!==null&&r.duration>i&&(s<i||!l)){const c=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;(!l&&r.readyState<4||s<a-c)&&(this.loadedmetadata||(this.nextLoadPosition=i),r.readyState&&(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${i.toFixed(3)}`),r.currentTime=i))}}alignPlaylists(e,n,r){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const s=e.fragments[0].start,o=!n,a=e.alignedSliding&&_e(s);if(o||!a&&!s){const{fragPrevious:l}=this;n6e(l,r,e);const c=e.fragments[0].start;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} prev-sn: ${l?l.sn:"na"} fragments: ${i}`),c}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;if(r<n&&(r=-1),r===-1||this.lastCurrentTime===-1){const i=this.startTimeOffset!==null,s=i?this.startTimeOffset:e.startTimeOffset;s!==null&&_e(s)?(r=n+s,s<0&&(r+=e.totalduration),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Start time offset ${s} found in ${i?"multivariant":"media"} playlist, adjust startPosition to ${r}`),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||n:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r}getLoadPosition(){const{media:e}=this;let n=0;return this.loadedmetadata&&e?n=e.currentTime:this.nextLoadPosition&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,n){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${n?" part "+n.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==oe.FRAG_LOADING_WAITING_RETRY)&&(this.state=oe.IDLE)}onFragmentOrKeyLoadError(e,n){if(n.chunkMeta&&!n.frag){const h=this.getCurrentContext(n.chunkMeta);h&&(n.frag=h.frag)}const r=n.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var i;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const s=n.details===ee.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(r,!0);const o=n.errorAction,{action:a,retryCount:l=0,retryConfig:c}=o||{};if(o&&a===On.RetryRequest&&c){this.resetStartWhenNotLoaded(this.levelLastLoaded);const h=p_(c,l);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${n.details}, retrying loading ${l+1}/${c.maxNumRetry} in ${h}ms`),o.resolved=!0,this.retryDate=self.performance.now()+h,this.state=oe.FRAG_LOADING_WAITING_RETRY}else if(c&&o)if(this.resetFragmentErrors(e),l<c.maxNumRetry)!s&&a!==On.RemoveAlternatePermanently&&(o.resolved=!0);else{K.warn(`${n.details} reached or exceeded max retry (${l})`);return}else(o==null?void 0:o.action)===On.SendAlternateToPenaltyBox?this.state=oe.WAITING_LEVEL:this.state=oe.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===oe.PARSING||this.state===oe.PARSED){const n=e.frag,r=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,r),s=i&&i.len>.5;s&&this.reduceMaxBufferLength(i.len,(n==null?void 0:n.duration)||10);const o=!s;return o&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(e){e===Te.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==oe.STOPPED&&(this.state=oe.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const i=Lt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,i,r),this.state===oe.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=oe.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const n=e?e.details:null;n!=null&&n.live?(this.startPosition=-1,this.setStartPosition(n,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,i){var s;const o=r.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const h=e.elementaryStreams[c];if(h){const d=h.endPTS-h.startPTS;if(d<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${d})`),l||!1;const f=i?0:zD(o,e,h.startPTS,h.endPTS,h.startDTS,h.endDTS);return this.hls.trigger(R.LEVEL_PTS_UPDATED,{details:o,level:r,drift:f,type:c,frag:e,start:h.startPTS,end:h.endPTS}),!0}return l},!1)&&((s=this.transmuxer)==null?void 0:s.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(r.fragmentError===0&&(r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of level "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=oe.PARSED,this.hls.trigger(R.FRAG_PARSED,{frag:e,part:n})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}class WD{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=h6e(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function h6e(t,e){const n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++){const s=t[i];n.set(s,r),r+=s.length}return n}function d6e(){return typeof __HLS_WORKER_BUNDLE__=="function"}function f6e(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function p6e(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function Xi(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class __{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=ai(this.cachedData,e),this.cachedData=null);let r=qd(e,0),i=r?r.length:0,s;const o=this._audioTrack,a=this._id3Track,l=r?f_(r):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&_e(l))&&(this.basePTS=m6e(l,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:bi.audioId3,duration:Number.POSITIVE_INFINITY});i<c;){if(this.canParse(e,i)){const h=this.appendFrame(o,e,i);h?(this.frameIndex++,this.lastPTS=h.sample.pts,i+=h.length,s=i):i=c}else N2e(e,i)?(r=qd(e,i),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:bi.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,s=i):i++;if(i===c&&s!==c){const h=Qa(e,s);this.cachedData?this.cachedData=ai(this.cachedData,h):this.cachedData=h}}return{audioTrack:o,videoTrack:Xi(),id3Track:a,textTrack:Xi()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:Xi(),id3Track:this._id3Track,textTrack:Xi()}}destroy(){}}const m6e=(t,e,n)=>{if(_e(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};function g6e(t,e,n,r){let i,s,o,a;const l=navigator.userAgent.toLowerCase(),c=r,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=((e[n+2]&192)>>>6)+1;const d=(e[n+2]&60)>>>2;if(d>h.length-1){const f=new Error(`invalid ADTS sampling index:${d}`);t.emit(R.ERROR,R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.FRAG_PARSING_ERROR,fatal:!0,error:f,reason:f.message});return}return o=(e[n+2]&1)<<2,o|=(e[n+3]&192)>>>6,K.log(`manifest codec:${r}, ADTS type:${i}, samplingIndex:${d}`),/firefox/i.test(l)?d>=6?(i=5,a=new Array(4),s=d-3):(i=2,a=new Array(2),s=d):l.indexOf("android")!==-1?(i=2,a=new Array(2),s=d):(i=5,a=new Array(4),r&&(r.indexOf("mp4a.40.29")!==-1||r.indexOf("mp4a.40.5")!==-1)||!r&&d>=6?s=d-3:((r&&r.indexOf("mp4a.40.2")!==-1&&(d>=6&&o===1||/vivaldi/i.test(l))||!r&&o===1)&&(i=2,a=new Array(2)),s=d)),a[0]=i<<3,a[0]|=(d&14)>>1,a[1]|=(d&1)<<7,a[1]|=o<<3,i===5&&(a[1]|=(s&14)>>1,a[2]=(s&1)<<7,a[2]|=8,a[3]=0),{config:a,samplerate:h[d],channelCount:o,codec:"mp4a.40."+i,manifestCodec:c}}function KD(t,e){return t[e]===255&&(t[e+1]&246)===240}function qD(t,e){return t[e+1]&1?7:9}function x_(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function v6e(t,e){return e+5<t.length}function d1(t,e){return e+1<t.length&&KD(t,e)}function y6e(t,e){return v6e(t,e)&&KD(t,e)&&x_(t,e)<=t.length-e}function _6e(t,e){if(d1(t,e)){const n=qD(t,e);if(e+n>=t.length)return!1;const r=x_(t,e);if(r<=n)return!1;const i=e+r;return i===t.length||d1(t,i)}return!1}function YD(t,e,n,r,i){if(!t.samplerate){const s=g6e(e,n,r,i);if(!s)return;t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,K.log(`parsed codec:${t.codec}, rate:${s.samplerate}, channels:${s.channelCount}`)}}function ZD(t){return 1024*9e4/t}function x6e(t,e){const n=qD(t,e);if(e+n<=t.length){const r=x_(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function XD(t,e,n,r,i){const s=ZD(t.samplerate),o=r+i*s,a=x6e(e,n);let l;if(a){const{frameLength:d,headerLength:f}=a,m=f+d,g=Math.max(0,n+m-e.length);g?(l=new Uint8Array(m-f),l.set(e.subarray(n+f,e.length),0)):l=e.subarray(n+f,n+m);const v={unit:l,pts:o};return g||t.samples.push(v),{sample:v,length:m,missing:g}}const c=e.length-n;return l=new Uint8Array(c),l.set(e.subarray(n,e.length),0),{sample:{unit:l,pts:o},length:c,missing:-1}}let H3=null;const b6e=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],w6e=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],S6e=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],E6e=[0,1,1,4];function QD(t,e,n,r,i){if(n+24>e.length)return;const s=JD(e,n);if(s&&n+s.frameLength<=e.length){const o=s.samplesPerFrame*9e4/s.sampleRate,a=r+i*o,l={unit:e.subarray(n,n+s.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(l),{sample:l,length:s.frameLength,missing:0}}}function JD(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,s=t[e+2]>>2&3;if(n!==1&&i!==0&&i!==15&&s!==3){const o=t[e+2]>>1&1,a=t[e+3]>>6,l=n===3?3-r:r===3?3:4,c=b6e[l*14+i-1]*1e3,d=w6e[(n===3?0:n===2?1:2)*3+s],f=a===3?1:2,m=S6e[n][r],g=E6e[r],v=m*8*g,_=Math.floor(m*c/d+o)*g;if(H3===null){const w=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);H3=w?parseInt(w[1]):0}return!!H3&&H3<=87&&r===2&&c>=224e3&&a===0&&(t[e+3]=t[e+3]|128),{sampleRate:d,channelCount:f,frameLength:_,samplesPerFrame:v}}}function b_(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function eO(t,e){return e+1<t.length&&b_(t,e)}function T6e(t,e){return b_(t,e)&&4<=t.length-e}function tO(t,e){if(e+1<t.length&&b_(t,e)){const r=JD(t,e);let i=4;r!=null&&r.frameLength&&(i=r.frameLength);const s=e+i;return s===t.length||eO(t,s)}return!1}class L6e extends __{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=qd(e,0);let r=(n==null?void 0:n.length)||0;if(tO(e,r))return!1;for(let i=e.length;r<i;r++)if(_6e(e,r))return K.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return y6e(e,n)}appendFrame(e,n,r){YD(e,this.observer,n,r,e.manifestCodec);const i=XD(e,n,r,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const C6e=/\/emsg[-/]ID3/i;class k6e{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,i){const s=this.videoTrack=Xi("video",1),o=this.audioTrack=Xi("audio",1),a=this.txtTrack=Xi("text",1);if(this.id3Track=Xi("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=PD(e);if(l.video){const{id:c,timescale:h,codec:d}=l.video;s.id=c,s.timescale=a.timescale=h,s.codec=d}if(l.audio){const{id:c,timescale:h,codec:d}=l.audio;o.id=c,o.timescale=h,o.codec=d}a.id=kD.text,s.sampleDuration=0,s.duration=o.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return H2e(e)}demux(e,n){this.timeOffset=n;let r=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=ai(this.remainderData,e));const a=J2e(r);this.remainderData=a.remainder,i.samples=a.valid||new Uint8Array}else i.samples=r;const o=this.extractID3Track(i,n);return s.samples=_9(n,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(n,this.timeOffset);return r.samples=_9(e,n),{videoTrack:n,audioTrack:Xi(),id3Track:i,textTrack:Xi()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const i=$e(e.samples,["emsg"]);i&&i.forEach(s=>{const o=nme(s);if(C6e.test(o.schemeIdUri)){const a=_e(o.presentationTime)?o.presentationTime/o.timeScale:n+o.presentationTimeDelta/o.timeScale;let l=o.eventDuration===4294967295?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=o.payload;r.samples.push({data:c,len:c.byteLength,dts:a,pts:a,type:bi.emsg,duration:l})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const nO=(t,e)=>{let n=0,r=5;e+=r;const i=new Uint32Array(1),s=new Uint32Array(1),o=new Uint8Array(1);for(;r>0;){o[0]=t[e];const a=Math.min(r,8),l=8-a;s[0]=4278190080>>>24+l<<l,i[0]=(o[0]&s[0])>>l,n=n?n<<a|i[0]:i[0],e+=1,r-=a}return n};class A6e extends __{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,r){const i=rO(e,n,r,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const n=qd(e,0);if(!n)return!1;const r=n.length;return e[r]===11&&e[r+1]===119&&f_(n)!==void 0&&nO(e,r)<16}}function rO(t,e,n,r,i){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const s=e[n+4]>>6;if(s>=3)return-1;const a=[48e3,44100,32e3][s],l=e[n+4]&63,h=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+s]*2;if(n+h>e.length)return-1;const d=e[n+6]>>5;let f=0;d===2?f+=2:(d&1&&d!==1&&(f+=2),d&4&&(f+=2));const m=(e[n+6]<<8|e[n+7])>>12-f&1,v=[2,1,2,3,3,4,4,5][d]+m,_=e[n+5]>>3,x=e[n+5]&7,b=new Uint8Array([s<<6|_<<1|x>>2,(x&3)<<6|d<<3|m<<2|l>>4,l<<4&224]),w=1536/a*9e4,T=r+i*w,C=e.subarray(n,n+h);return t.config=b,t.channelCount=v,t.samplerate=a,t.samples.push({unit:C,pts:T}),h}class I6e{constructor(){this.VideoSample=null}createVideoSample(e,n,r,i){return{key:e,frame:!1,pts:n,dts:r,units:[],debug:i,length:0}}getLastNalUnit(e){var n;let r=this.VideoSample,i;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const s=r.units;i=s[s.length-1]}return i}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const r=n.samples,i=r.length;if(i){const s=r[i-1];e.pts=s.pts,e.dts=s.dts}else{n.dropped++;return}}n.samples.push(e)}e.debug.length&&K.log(e.pts+"/"+e.dts+":"+e.debug)}}class K9{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,i=new Uint8Array(4),s=Math.min(4,n);if(s===0)throw new Error("no bytes available");i.set(e.subarray(r,r+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&K.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let n=8,r=8,i;for(let s=0;s<e;s++)r!==0&&(i=this.readEG(),r=(n+i+256)%256),n=r===0?n:r}readSPS(){let e=0,n=0,r=0,i=0,s,o,a;const l=this.readUByte.bind(this),c=this.readBits.bind(this),h=this.readUEG.bind(this),d=this.readBoolean.bind(this),f=this.skipBits.bind(this),m=this.skipEG.bind(this),g=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);l();const _=l();if(c(5),f(3),l(),g(),_===100||_===110||_===122||_===244||_===44||_===83||_===86||_===118||_===128){const I=h();if(I===3&&f(1),g(),g(),f(1),d())for(o=I!==3?8:12,a=0;a<o;a++)d()&&(a<6?v(16):v(64))}g();const x=h();if(x===0)h();else if(x===1)for(f(1),m(),m(),s=h(),a=0;a<s;a++)m();g(),f(1);const b=h(),w=h(),T=c(1);T===0&&f(1),f(1),d()&&(e=h(),n=h(),r=h(),i=h());let C=[1,1];if(d()&&d())switch(l()){case 1:C=[1,1];break;case 2:C=[12,11];break;case 3:C=[10,11];break;case 4:C=[16,11];break;case 5:C=[40,33];break;case 6:C=[24,11];break;case 7:C=[20,11];break;case 8:C=[32,11];break;case 9:C=[80,33];break;case 10:C=[18,11];break;case 11:C=[15,11];break;case 12:C=[64,33];break;case 13:C=[160,99];break;case 14:C=[4,3];break;case 15:C=[3,2];break;case 16:C=[2,1];break;case 255:{C=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil((b+1)*16-e*2-n*2),height:(2-T)*(w+1)*16-(T?2:4)*(r+i),pixelRatio:C}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class P6e extends I6e{parseAVCPES(e,n,r,i,s){const o=this.parseAVCNALu(e,r.data);let a=this.VideoSample,l,c=!1;r.data=null,a&&o.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"")),o.forEach(h=>{var d;switch(h.type){case 1:{let v=!1;l=!0;const _=h.data;if(c&&_.length>4){const x=new K9(_).readSliceType();(x===2||x===4||x===7||x===9)&&(v=!0)}if(v){var f;(f=a)!=null&&f.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),a.frame=!0,a.key=v;break}case 5:l=!0,(d=a)!=null&&d.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),a.key=!0,a.frame=!0;break;case 6:{l=!0,MD(h.data,1,r.pts,n.samples);break}case 7:{var m,g;l=!0,c=!0;const v=h.data,x=new K9(v).readSPS();if(!e.sps||e.width!==x.width||e.height!==x.height||((m=e.pixelRatio)==null?void 0:m[0])!==x.pixelRatio[0]||((g=e.pixelRatio)==null?void 0:g[1])!==x.pixelRatio[1]){e.width=x.width,e.height=x.height,e.pixelRatio=x.pixelRatio,e.sps=[v],e.duration=s;const b=v.subarray(1,4);let w="avc1.";for(let T=0;T<3;T++){let C=b[T].toString(16);C.length<2&&(C="0"+C),w+=C}e.codec=w}break}case 8:l=!0,e.pps=[h.data];break;case 9:l=!0,e.audFound=!0,a&&this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"");break;case 12:l=!0;break;default:l=!1,a&&(a.debug+="unknown NAL "+h.type+" ");break}a&&l&&a.units.push(h)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}parseAVCNALu(e,n){const r=n.byteLength;let i=e.naluState||0;const s=i,o=[];let a=0,l,c,h,d=-1,f=0;for(i===-1&&(d=0,f=n[0]&31,i=0,a=1);a<r;){if(l=n[a++],!i){i=l?0:1;continue}if(i===1){i=l?0:2;continue}if(!l)i=3;else if(l===1){if(c=a-i-1,d>=0){const m={data:n.subarray(d,c),type:f};o.push(m)}else{const m=this.getLastNalUnit(e.samples);m&&(s&&a<=4-s&&m.state&&(m.data=m.data.subarray(0,m.data.byteLength-s)),c>0&&(m.data=ai(m.data,n.subarray(0,c)),m.state=0))}a<r?(h=n[a]&31,d=a,f=h,i=0):i=-1}else i=0}if(d>=0&&i>=0){const m={data:n.subarray(d,r),type:f,state:i};o.push(m)}if(o.length===0){const m=this.getLastNalUnit(e.samples);m&&(m.data=ai(m.data,n))}return e.naluState=i,o}}class R6e{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new v_(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,n,r){const i=e[n].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),o=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(o).then(a=>{const l=new Uint8Array(a);i.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)})}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)r.set(e.subarray(s,s+16),i);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(r.subarray(i,i+16),s);return e}decryptAvcSample(e,n,r,i,s){const o=DD(s.data),a=this.getAvcEncryptedData(o);this.decryptBuffer(a.buffer).then(l=>{s.data=this.getAvcDecryptedUnit(o,l),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,i)})}decryptAvcSamples(e,n,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){i();return}const s=e[n].units;for(;!(r>=s.length);r++){const o=s[r];if(!(o.data.length<=48||o.type!==1&&o.type!==5)&&(this.decryptAvcSample(e,n,r,i,o),!this.decrypter.isSync()))return}}}}const xn=188;class wo{constructor(e,n,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.videoParser=new P6e}static probe(e){const n=wo.syncOffset(e);return n>0&&K.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const n=e.length;let r=Math.min(xn*5,n-xn)+1,i=0;for(;i<r;){let s=!1,o=-1,a=0;for(let l=i;l<n;l+=xn)if(e[l]===71&&(n-l===xn||e[l+xn]===71)){if(a++,o===-1&&(o=l,o!==0&&(r=Math.min(o+xn*99,e.length-xn)+1)),s||(s=j7(e,l)===0),s&&a>1&&(o===0&&a>2||l+xn>r))return o}else{if(a)return-1;break}i++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:kD[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=wo.createTrack("video"),this._audioTrack=wo.createTrack("audio",i),this._id3Track=wo.createTrack("id3"),this._txtTrack=wo.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r,this._duration=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,r=!1,i=!1){r||(this.sampleAes=null);let s;const o=this._videoTrack,a=this._audioTrack,l=this._id3Track,c=this._txtTrack;let h=o.pid,d=o.pesData,f=a.pid,m=l.pid,g=a.pesData,v=l.pesData,_=null,x=this.pmtParsed,b=this._pmtId,w=e.length;if(this.remainderData&&(e=ai(this.remainderData,e),w=e.length,this.remainderData=null),w<xn&&!i)return this.remainderData=e,{audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};const T=Math.max(0,wo.syncOffset(e));w-=(w-T)%xn,w<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,w,e.buffer.byteLength-w));let C=0;for(let M=T;M<w;M+=xn)if(e[M]===71){const A=!!(e[M+1]&64),O=j7(e,M),N=(e[M+3]&48)>>4;let z;if(N>1){if(z=M+5+e[M+4],z===M+xn)continue}else z=M+4;switch(O){case h:A&&(d&&(s=Xl(d))&&this.videoParser.parseAVCPES(o,c,s,!1,this._duration),d={data:[],size:0}),d&&(d.data.push(e.subarray(z,M+xn)),d.size+=M+xn-z);break;case f:if(A){if(g&&(s=Xl(g)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,s);break;case"mp3":this.parseMPEGPES(a,s);break;case"ac3":this.parseAC3PES(a,s);break}g={data:[],size:0}}g&&(g.data.push(e.subarray(z,M+xn)),g.size+=M+xn-z);break;case m:A&&(v&&(s=Xl(v))&&this.parseID3PES(l,s),v={data:[],size:0}),v&&(v.data.push(e.subarray(z,M+xn)),v.size+=M+xn-z);break;case 0:A&&(z+=e[z]+1),b=this._pmtId=M6e(e,z);break;case b:{A&&(z+=e[z]+1);const H=D6e(e,z,this.typeSupported,r,this.observer);h=H.videoPid,h>0&&(o.pid=h,o.segmentCodec=H.segmentVideoCodec),f=H.audioPid,f>0&&(a.pid=f,a.segmentCodec=H.segmentAudioCodec),m=H.id3Pid,m>0&&(l.pid=m),_!==null&&!x&&(K.warn(`MPEG-TS PMT found at ${M} after unknown PID '${_}'. Backtracking to sync byte @${T} to parse all TS packets.`),_=null,M=T-188),x=this.pmtParsed=!0;break}case 17:case 8191:break;default:_=O;break}}else C++;C>0&&f1(this.observer,new Error(`Found ${C} TS packet/s that do not start with 0x47`)),o.pesData=d,a.pesData=g,l.pesData=v;const I={audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};return i&&this.extractRemainingSamples(I),I}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:i,textTrack:s}=e,o=r.pesData,a=n.pesData,l=i.pesData;let c;if(o&&(c=Xl(o))?(this.videoParser.parseAVCPES(r,s,c,!0,this._duration),r.pesData=null):r.pesData=o,a&&(c=Xl(a))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,c);break;case"mp3":this.parseMPEGPES(n,c);break;case"ac3":this.parseAC3PES(n,c);break}n.pesData=null}else a!=null&&a.size&&K.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=a;l&&(c=Xl(l))?(this.parseID3PES(i,c),i.pesData=null):i.pesData=l}demuxSampleAes(e,n,r){const i=this.demux(e,r,!0,!this.config.progressive),s=this.sampleAes=new R6e(this.observer,this.config,n);return this.decrypt(i,s)}decrypt(e,n){return new Promise(r=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?n.decryptAacSamples(i.samples,0,()=>{s.samples?n.decryptAvcSamples(s.samples,0,0,()=>{r(e)}):r(e)}):s.samples&&n.decryptAvcSamples(s.samples,0,0,()=>{r(e)})})}destroy(){this._duration=0}parseAACPES(e,n){let r=0;const i=this.aacOverFlow;let s=n.data;if(i){this.aacOverFlow=null;const d=i.missing,f=i.sample.unit.byteLength;if(d===-1)s=ai(i.sample.unit,s);else{const m=f-d;i.sample.unit.set(s.subarray(0,d),m),e.samples.push(i.sample),r=i.missing}}let o,a;for(o=r,a=s.length;o<a-1&&!d1(s,o);o++);if(o!==r){let d;const f=o<a-1;if(f?d=`AAC PES did not start with ADTS header,offset:${o}`:d="No ADTS header found in AAC PES",f1(this.observer,new Error(d),f),!f)return}YD(e,this.observer,s,o,this.audioCodec);let l;if(n.pts!==void 0)l=n.pts;else if(i){const d=ZD(e.samplerate);l=i.sample.pts+d}else{K.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,h;for(;o<a;)if(h=XD(e,s,o,l,c),o+=h.length,h.missing){this.aacOverFlow=h;break}else for(c++;o<a-1&&!d1(s,o);o++);}parseMPEGPES(e,n){const r=n.data,i=r.length;let s=0,o=0;const a=n.pts;if(a===void 0){K.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;o<i;)if(eO(r,o)){const l=QD(e,r,o,a,s);if(l)o+=l.length,s++;else break}else o++}parseAC3PES(e,n){{const r=n.data,i=n.pts;if(i===void 0){K.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=r.length;let o=0,a=0,l;for(;a<s&&(l=rO(e,r,a,i,o++))>0;)a+=l}}parseID3PES(e,n){if(n.pts===void 0){K.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=un({},n,{type:this._videoTrack?bi.emsg:bi.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function j7(t,e){return((t[e+1]&31)<<8)+t[e+2]}function M6e(t,e){return(t[e+10]&31)<<8|t[e+11]}function D6e(t,e,n,r,i){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=(t[e+1]&15)<<8|t[e+2],a=e+3+o-4,l=(t[e+10]&15)<<8|t[e+11];for(e+=12+l;e<a;){const c=j7(t,e),h=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!r){tg("ADTS AAC");break}case 15:s.audioPid===-1&&(s.audioPid=c);break;case 21:s.id3Pid===-1&&(s.id3Pid=c);break;case 219:if(!r){tg("H.264");break}case 27:s.videoPid===-1&&(s.videoPid=c,s.segmentVideoCodec="avc");break;case 3:case 4:!n.mpeg&&!n.mp3?K.log("MPEG audio found, not supported in this browser"):s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="mp3");break;case 193:if(!r){tg("AC-3");break}case 129:n.ac3?s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="ac3"):K.log("AC-3 audio found, not supported in this browser");break;case 6:if(s.audioPid===-1&&h>0){let d=e+5,f=h;for(;f>2;){switch(t[d]){case 106:n.ac3!==!0?K.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=c,s.segmentAudioCodec="ac3");break}const g=t[d+1]+2;d+=g,f-=g}}break;case 194:case 135:return f1(i,new Error("Unsupported EC-3 in M2TS found")),s;case 36:return f1(i,new Error("Unsupported HEVC in M2TS found")),s}e+=h+5}return s}function f1(t,e,n){K.warn(`parsing error: ${e.message}`),t.emit(R.ERROR,R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function tg(t){K.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Xl(t){let e=0,n,r,i,s,o;const a=t.data;if(!t||t.size===0)return null;for(;a[0].length<19&&a.length>1;)a[0]=ai(a[0],a[1]),a.splice(1,1);if(n=a[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(r=(n[4]<<8)+n[5],r&&r>t.size-6)return null;const c=n[7];c&192&&(s=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,c&64?(o=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,s-o>60*9e4&&(K.warn(`${Math.round((s-o)/9e4)}s delta between PTS and DTS, align them`),s=o)):o=s),i=n[8];let h=i+9;if(t.size<=h)return null;t.size-=h;const d=new Uint8Array(t.size);for(let f=0,m=a.length;f<m;f++){n=a[f];let g=n.byteLength;if(h)if(h>g){h-=g;continue}else n=n.subarray(h),g-=h,h=0;d.set(n,e),e+=g}return r&&(r-=i+3),{data:d,pts:s,dts:o,len:r}}return null}class O6e extends __{resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=qd(e,0);let r=(n==null?void 0:n.length)||0;if(n&&e[r]===11&&e[r+1]===119&&f_(n)!==void 0&&nO(e,r)<=16)return!1;for(let i=e.length;r<i;r++)if(tO(e,r))return K.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return T6e(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return QD(e,n,r,this.basePTS,this.frameIndex)}}class q9{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const po=Math.pow(2,32)-1;class X{static init(){X.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in X.types)X.types.hasOwnProperty(e)&&(X.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);X.HDLR_TYPES={video:n,audio:r};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);X.STTS=X.STSC=X.STCO=s,X.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),X.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),X.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),X.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);X.FTYP=X.box(X.types.ftyp,o,l,o,a),X.DINF=X.box(X.types.dinf,X.box(X.types.dref,i))}static box(e,...n){let r=8,i=n.length;const s=i;for(;i--;)r+=n[i].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(e,4),i=0,r=8;i<s;i++)o.set(n[i],r),r+=n[i].byteLength;return o}static hdlr(e){return X.box(X.types.hdlr,X.HDLR_TYPES[e])}static mdat(e){return X.box(X.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(po+1)),i=Math.floor(n%(po+1));return X.box(X.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return X.box(X.types.mdia,X.mdhd(e.timescale,e.duration),X.hdlr(e.type),X.minf(e))}static mfhd(e){return X.box(X.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?X.box(X.types.minf,X.box(X.types.smhd,X.SMHD),X.DINF,X.stbl(e)):X.box(X.types.minf,X.box(X.types.vmhd,X.VMHD),X.DINF,X.stbl(e))}static moof(e,n,r){return X.box(X.types.moof,X.mfhd(e),X.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=X.trak(e[n]);return X.box.apply(null,[X.types.moov,X.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(X.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=X.trex(e[n]);return X.box.apply(null,[X.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(po+1)),i=Math.floor(n%(po+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return X.box(X.types.mvhd,s)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let i,s;for(i=0;i<n.length;i++)s=n[i].flags,r[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return X.box(X.types.sdtp,r)}static stbl(e){return X.box(X.types.stbl,X.stsd(e),X.box(X.types.stts,X.STTS),X.box(X.types.stsc,X.STSC),X.box(X.types.stsz,X.STSZ),X.box(X.types.stco,X.STCO))}static avc1(e){let n=[],r=[],i,s,o;for(i=0;i<e.sps.length;i++)s=e.sps[i],o=s.byteLength,n.push(o>>>8&255),n.push(o&255),n=n.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],o=s.byteLength,r.push(o>>>8&255),r.push(o&255),r=r.concat(Array.prototype.slice.call(s));const a=X.box(X.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),l=e.width,c=e.height,h=e.pixelRatio[0],d=e.pixelRatio[1];return X.box(X.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,X.box(X.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),X.box(X.types.pasp,new Uint8Array([h>>24,h>>16&255,h>>8&255,h&255,d>>24,d>>16&255,d>>8&255,d&255])))}static esds(e){const n=e.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const n=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return X.box(X.types.mp4a,X.audioStsd(e),X.box(X.types.esds,X.esds(e)))}static mp3(e){return X.box(X.types[".mp3"],X.audioStsd(e))}static ac3(e){return X.box(X.types["ac-3"],X.audioStsd(e),X.box(X.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?X.box(X.types.stsd,X.STSD,X.mp3(e)):e.segmentCodec==="ac3"?X.box(X.types.stsd,X.STSD,X.ac3(e)):X.box(X.types.stsd,X.STSD,X.mp4a(e)):X.box(X.types.stsd,X.STSD,X.avc1(e))}static tkhd(e){const n=e.id,r=e.duration*e.timescale,i=e.width,s=e.height,o=Math.floor(r/(po+1)),a=Math.floor(r%(po+1));return X.box(X.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,a>>24,a>>16&255,a>>8&255,a&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,n){const r=X.sdtp(e),i=e.id,s=Math.floor(n/(po+1)),o=Math.floor(n%(po+1));return X.box(X.types.traf,X.box(X.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),X.box(X.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255])),X.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,X.box(X.types.trak,X.tkhd(e),X.mdia(e))}static trex(e){const n=e.id;return X.box(X.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],i=r.length,s=12+16*i,o=new Uint8Array(s);let a,l,c,h,d,f;for(n+=8+s,o.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),a=0;a<i;a++)l=r[a],c=l.duration,h=l.size,d=l.flags,f=l.cts,o.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,d.degradPrio&61440,d.degradPrio&15,f>>>24&255,f>>>16&255,f>>>8&255,f&255],12+16*a);return X.box(X.types.trun,o)}static initSegment(e){X.types||X.init();const n=X.moov(e);return ai(X.FTYP,n)}}X.types=void 0;X.HDLR_TYPES=void 0;X.STTS=void 0;X.STSC=void 0;X.STCO=void 0;X.STSZ=void 0;X.VMHD=void 0;X.SMHD=void 0;X.STSD=void 0;X.FTYP=void 0;X.DINF=void 0;const iO=9e4;function w_(t,e,n=1,r=!1){const i=t*e*n;return r?Math.round(i):i}function N6e(t,e,n=1,r=!1){return w_(t,e,1/n,r)}function wh(t,e=!1){return w_(t,1e3,1/iO,e)}function F6e(t,e=1){return w_(t,iO,1/e)}const $6e=10*1e3,Y9=1024,z6e=1152,B6e=1536;let Ql=null,ng=null;class T0{constructor(e,n,r,i=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.ISGenerated=!1,Ql===null){const o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ql=o?parseInt(o[1]):0}if(ng===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);ng=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){K.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){K.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){K.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const r=e.reduce((i,s)=>{const o=s.pts-i;return o<-4294967296?(n=!0,Zr(i,s.pts)):o>0?i:s.pts},e[0].pts);return n&&K.debug("PTS rollover detected"),r}remux(e,n,r,i,s,o,a,l){let c,h,d,f,m,g,v=s,_=s;const x=e.pid>-1,b=n.pid>-1,w=n.samples.length,T=e.samples.length>0,C=a&&w>0||w>1;if((!x||T)&&(!b||C)||this.ISGenerated||a){if(this.ISGenerated){var M,A,O,N;const Z=this.videoTrackConfig;Z&&(n.width!==Z.width||n.height!==Z.height||((M=n.pixelRatio)==null?void 0:M[0])!==((A=Z.pixelRatio)==null?void 0:A[0])||((O=n.pixelRatio)==null?void 0:O[1])!==((N=Z.pixelRatio)==null?void 0:N[1]))&&this.resetInitSegment()}else d=this.generateIS(e,n,s,o);const z=this.isVideoContiguous;let H=-1,j;if(C&&(H=U6e(n.samples),!z&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,H>0){K.warn(`[mp4-remuxer]: Dropped ${H} out of ${w} video samples due to a missing keyframe`);const Z=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(H),n.dropped+=H,_+=(n.samples[0].pts-Z)/n.inputTimeScale,j=_}else H===-1&&(K.warn(`[mp4-remuxer]: No keyframe found out of ${w} video samples`),g=!1);if(this.ISGenerated){if(T&&C){const Z=this.getVideoStartPts(n.samples),G=(Zr(e.samples[0].pts,Z)-Z)/n.inputTimeScale;v+=Math.max(0,G),_+=Math.max(0,-G)}if(T){if(e.samplerate||(K.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,n,s,o)),h=this.remuxAudio(e,v,this.isAudioContiguous,o,b||C||l===Te.AUDIO?_:void 0),C){const Z=h?h.endPTS-h.startPTS:0;n.inputTimeScale||(K.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,n,s,o)),c=this.remuxVideo(n,_,z,Z)}}else C&&(c=this.remuxVideo(n,_,z,0));c&&(c.firstKeyFrame=H,c.independent=H!==-1,c.firstKeyFramePTS=j)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(m=sO(r,s,this._initPTS,this._initDTS)),i.samples.length&&(f=oO(i,s,this._initPTS))),{audio:h,video:c,initSegment:d,independent:g,text:f,id3:m}}generateIS(e,n,r,i){const s=e.samples,o=n.samples,a=this.typeSupported,l={},c=this._initPTS;let h=!c||i,d="audio/mp4",f,m,g;if(h&&(f=m=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":a.mpeg?(d="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:d,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&a.mpeg?new Uint8Array(0):X.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(g=e.inputTimeScale,!c||g!==c.timescale?f=m=s[0].pts-Math.round(g*r):h=!1)}if(n.sps&&n.pps&&o.length){if(n.timescale=n.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:X.initSegment([n]),metadata:{width:n.width,height:n.height}},h)if(g=n.inputTimeScale,!c||g!==c.timescale){const v=this.getVideoStartPts(o),_=Math.round(g*r);m=Math.min(m,Zr(o[0].dts,v)-_),f=Math.min(f,v-_)}else h=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:f,timescale:g},this._initDTS={baseTime:m,timescale:g}):f=g=void 0,{tracks:l,initPTS:f,timescale:g}}remuxVideo(e,n,r,i){const s=e.inputTimeScale,o=e.samples,a=[],l=o.length,c=this._initPTS;let h=this.nextAvcDts,d=8,f=this.videoSampleDuration,m,g,v=Number.POSITIVE_INFINITY,_=Number.NEGATIVE_INFINITY,x=!1;if(!r||h===null){const W=n*s,F=o[0].pts-Zr(o[0].dts,o[0].pts);Ql&&h!==null&&Math.abs(W-F-h)<15e3?r=!0:h=W-F}const b=c.baseTime*s/c.timescale;for(let W=0;W<l;W++){const F=o[W];F.pts=Zr(F.pts-b,h),F.dts=Zr(F.dts-b,h),F.dts<o[W>0?W-1:W].dts&&(x=!0)}x&&o.sort(function(W,F){const q=W.dts-F.dts,re=W.pts-F.pts;return q||re}),m=o[0].dts,g=o[o.length-1].dts;const w=g-m,T=w?Math.round(w/(l-1)):f||e.inputTimeScale/30;if(r){const W=m-h,F=W>T,q=W<-1;if((F||q)&&(F?K.warn(`AVC: ${wh(W,!0)} ms (${W}dts) hole between fragments detected at ${n.toFixed(3)}`):K.warn(`AVC: ${wh(-W,!0)} ms (${W}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!q||h>=o[0].pts||Ql)){m=h;const re=o[0].pts-W;if(F)o[0].dts=m,o[0].pts=re;else for(let le=0;le<o.length&&!(o[le].dts>re);le++)o[le].dts-=W,o[le].pts-=W;K.log(`Video: Initial PTS/DTS adjusted: ${wh(re,!0)}/${wh(m,!0)}, delta: ${wh(W,!0)} ms`)}}m=Math.max(0,m);let C=0,I=0,M=m;for(let W=0;W<l;W++){const F=o[W],q=F.units,re=q.length;let le=0;for(let he=0;he<re;he++)le+=q[he].data.length;I+=le,C+=re,F.length=le,F.dts<M?(F.dts=M,M+=T/4|0||1):M=F.dts,v=Math.min(F.pts,v),_=Math.max(F.pts,_)}g=o[l-1].dts;const A=I+4*C+8;let O;try{O=new Uint8Array(A)}catch(W){this.observer.emit(R.ERROR,R.ERROR,{type:Ie.MUX_ERROR,details:ee.REMUX_ALLOC_ERROR,fatal:!1,error:W,bytes:A,reason:`fail allocating video mdat ${A}`});return}const N=new DataView(O.buffer);N.setUint32(0,A),O.set(X.types.mdat,4);let z=!1,H=Number.POSITIVE_INFINITY,j=Number.POSITIVE_INFINITY,Z=Number.NEGATIVE_INFINITY,te=Number.NEGATIVE_INFINITY;for(let W=0;W<l;W++){const F=o[W],q=F.units;let re=0;for(let de=0,ce=q.length;de<ce;de++){const Se=q[de],Xe=Se.data,Qt=Se.data.byteLength;N.setUint32(d,Qt),d+=4,O.set(Xe,d),d+=Qt,re+=4+Qt}let le;if(W<l-1)f=o[W+1].dts-F.dts,le=o[W+1].pts-F.pts;else{const de=this.config,ce=W>0?F.dts-o[W-1].dts:T;if(le=W>0?F.pts-o[W-1].pts:T,de.stretchShortVideoTrack&&this.nextAudioPts!==null){const Se=Math.floor(de.maxBufferHole*s),Xe=(i?v+i*s:this.nextAudioPts)-F.pts;Xe>Se?(f=Xe-ce,f<0?f=ce:z=!0,K.log(`[mp4-remuxer]: It is approximately ${Xe/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=ce}else f=ce}const he=Math.round(F.pts-F.dts);H=Math.min(H,f),Z=Math.max(Z,f),j=Math.min(j,le),te=Math.max(te,le),a.push(new Z9(F.key,f,re,he))}if(a.length){if(Ql){if(Ql<70){const W=a[0].flags;W.dependsOn=2,W.isNonSync=0}}else if(ng&&te-j<Z-H&&T/Z<.025&&a[0].cts===0){K.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let W=m;for(let F=0,q=a.length;F<q;F++){const re=W+a[F].duration,le=W+a[F].cts;if(F<q-1){const he=re+a[F+1].cts;a[F].duration=he-le}else a[F].duration=F?a[F-1].duration:T;a[F].cts=0,W=re}}}f=z||!f?T:f,this.nextAvcDts=h=g+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const U={data1:X.moof(e.sequenceNumber++,m,un({},e,{samples:a})),data2:O,startPTS:v/s,endPTS:(_+f)/s,startDTS:m/s,endDTS:h/s,type:"video",hasAudio:!1,hasVideo:!0,nb:a.length,dropped:e.dropped};return e.samples=[],e.dropped=0,U}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return z6e;case"ac3":return B6e;default:return Y9}}remuxAudio(e,n,r,i,s){const o=e.inputTimeScale,a=e.samplerate?e.samplerate:o,l=o/a,c=this.getSamplesPerFrame(e),h=c*l,d=this._initPTS,f=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,m=[],g=s!==void 0;let v=e.samples,_=f?0:8,x=this.nextAudioPts||-1;const b=n*o,w=d.baseTime*o/d.timescale;if(this.isAudioContiguous=r=r||v.length&&x>0&&(i&&Math.abs(b-x)<9e3||Math.abs(Zr(v[0].pts-w,b)-x)<20*h),v.forEach(function(G){G.pts=Zr(G.pts-w,b)}),!r||x<0){if(v=v.filter(G=>G.pts>=0),!v.length)return;s===0?x=0:i&&!g?x=Math.max(0,b):x=v[0].pts}if(e.segmentCodec==="aac"){const G=this.config.maxAudioFramesDrift;for(let ie=0,U=x;ie<v.length;ie++){const W=v[ie],F=W.pts,q=F-U,re=Math.abs(1e3*q/o);if(q<=-G*h&&g)ie===0&&(K.warn(`Audio frame @ ${(F/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*q/o)} ms.`),this.nextAudioPts=x=U=F);else if(q>=G*h&&re<$6e&&g){let le=Math.round(q/h);U=F-le*h,U<0&&(le--,U+=h),ie===0&&(this.nextAudioPts=x=U),K.warn(`[mp4-remuxer]: Injecting ${le} audio frame @ ${(U/o).toFixed(3)}s due to ${Math.round(1e3*q/o)} ms gap.`);for(let he=0;he<le;he++){const de=Math.max(U,0);let ce=q9.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);ce||(K.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),ce=W.unit.subarray()),v.splice(ie,0,{unit:ce,pts:de}),U+=h,ie++}}W.pts=U,U+=h}}let T=null,C=null,I,M=0,A=v.length;for(;A--;)M+=v[A].unit.byteLength;for(let G=0,ie=v.length;G<ie;G++){const U=v[G],W=U.unit;let F=U.pts;if(C!==null){const re=m[G-1];re.duration=Math.round((F-C)/l)}else if(r&&e.segmentCodec==="aac"&&(F=x),T=F,M>0){M+=_;try{I=new Uint8Array(M)}catch(re){this.observer.emit(R.ERROR,R.ERROR,{type:Ie.MUX_ERROR,details:ee.REMUX_ALLOC_ERROR,fatal:!1,error:re,bytes:M,reason:`fail allocating audio mdat ${M}`});return}f||(new DataView(I.buffer).setUint32(0,M),I.set(X.types.mdat,4))}else return;I.set(W,_);const q=W.byteLength;_+=q,m.push(new Z9(!0,c,q,0)),C=F}const O=m.length;if(!O)return;const N=m[m.length-1];this.nextAudioPts=x=C+l*N.duration;const z=f?new Uint8Array(0):X.moof(e.sequenceNumber++,T/l,un({},e,{samples:m}));e.samples=[];const H=T/o,j=x/o,te={data1:z,data2:I,startPTS:H,endPTS:j,startDTS:H,endDTS:j,type:"audio",hasAudio:!0,hasVideo:!1,nb:O};return this.isAudioContiguous=!0,te}remuxEmptyAudio(e,n,r,i){const s=e.inputTimeScale,o=e.samplerate?e.samplerate:s,a=s/o,l=this.nextAudioPts,c=this._initDTS,h=c.baseTime*9e4/c.timescale,d=(l!==null?l:i.startDTS*s)+h,f=i.endDTS*s+h,m=a*Y9,g=Math.ceil((f-d)/m),v=q9.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(K.warn("[mp4-remuxer]: remux empty Audio"),!v){K.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const _=[];for(let x=0;x<g;x++){const b=d+x*m;_.push({unit:v,pts:b,dts:b})}return e.samples=_,this.remuxAudio(e,n,r,!1)}}function Zr(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function U6e(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function sO(t,e,n,r){const i=t.samples.length;if(!i)return;const s=t.inputTimeScale;for(let a=0;a<i;a++){const l=t.samples[a];l.pts=Zr(l.pts-n.baseTime*s/n.timescale,e*s)/s,l.dts=Zr(l.dts-r.baseTime*s/r.timescale,e*s)/s}const o=t.samples;return t.samples=[],{samples:o}}function oO(t,e,n){const r=t.samples.length;if(!r)return;const i=t.inputTimeScale;for(let o=0;o<r;o++){const a=t.samples[o];a.pts=Zr(a.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort((o,a)=>o.pts-a.pts);const s=t.samples;return t.samples=[],{samples:s}}class Z9{constructor(e,n,r,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=n,this.size=r,this.cts=i,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class j6e{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,n,r,i){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(q2e(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:n,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=PD(e);i.audio&&(n=X9(i.audio,mt.AUDIO)),i.video&&(r=X9(i.video,mt.VIDEO));const s={};i.audio&&i.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:e,id:"main"}:i.audio?s.audio={container:"audio/mp4",codec:n,initSegment:e,id:"audio"}:i.video?s.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:K.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,n,r,i,s,o){var a,l;let{initPTS:c,lastEndTime:h}=this;const d={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};_e(h)||(h=this.lastEndTime=s||0);const f=n.samples;if(!(f!=null&&f.length))return d;const m={initPTS:void 0,timescale:1};let g=this.initData;if((a=g)!=null&&a.length||(this.generateInitSegment(f),g=this.initData),!((l=g)!=null&&l.length))return K.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(m.tracks=this.initTracks,this.emitInitSegment=!1);const v=Z2e(f,g),_=Y2e(g,f),x=_===null?s:_;(V6e(c,x,s,v)||m.timescale!==c.timescale&&o)&&(m.initPTS=x-s,c&&c.timescale===1&&K.warn(`Adjusting initPTS by ${m.initPTS-c.baseTime}`),this.initPTS=c={baseTime:m.initPTS,timescale:1});const b=e?x-c.baseTime/c.timescale:h,w=b+v;Q2e(g,f,c.baseTime/c.timescale),v>0?this.lastEndTime=w:(K.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const T=!!g.audio,C=!!g.video;let I="";T&&(I+="audio"),C&&(I+="video");const M={data1:f,startPTS:b,startDTS:b,endPTS:w,endDTS:w,type:I,hasAudio:T,hasVideo:C,nb:1,dropped:0};return d.audio=M.type==="audio"?M:void 0,d.video=M.type!=="audio"?M:void 0,d.initSegment=m,d.id3=sO(r,s,c,c),i.samples.length&&(d.text=oO(i,s,c)),d}}function V6e(t,e,n,r){if(t===null)return!0;const i=Math.max(r,1),s=e-t.baseTime/t.timescale;return Math.abs(s-n)>i}function X9(t,e){const n=t==null?void 0:t.codec;if(n&&n.length>4)return n;if(e===mt.AUDIO){if(n==="ec-3"||n==="ac-3"||n==="alac")return n;if(n==="fLaC"||n==="Opus")return o1(n,!1);const r="mp4a.40.5";return K.info(`Parsed audio codec "${n}" or audio object type not handled. Using "${r}"`),r}return K.warn(`Unhandled video codec "${n}"`),n==="hvc1"||n==="hev1"?"hvc1.1.6.L120.90":n==="av01"?"av01.0.04M.08":"avc1.42e01e"}let ks;try{ks=self.performance.now.bind(self.performance)}catch{K.debug("Unable to use Performance API on this environment"),ks=au==null?void 0:au.Date.now}const L0=[{demux:k6e,remux:j6e},{demux:wo,remux:T0},{demux:L6e,remux:T0},{demux:O6e,remux:T0}];L0.splice(2,0,{demux:A6e,remux:T0});class Q9{constructor(e,n,r,i,s){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.vendor=i,this.id=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,i){const s=r.transmuxing;s.executeStart=ks();let o=new Uint8Array(e);const{currentTransmuxState:a,transmuxConfig:l}=this;i&&(this.currentTransmuxState=i);const{contiguous:c,discontinuity:h,trackSwitch:d,accurateTimeOffset:f,timeOffset:m,initSegmentChange:g}=i||a,{audioCodec:v,videoCodec:_,defaultInitPts:x,duration:b,initSegmentData:w}=l,T=G6e(o,n);if(T&&T.method==="AES-128"){const A=this.getDecrypter();if(A.isSync()){let O=A.softwareDecrypt(o,T.key.buffer,T.iv.buffer);if(r.part>-1&&(O=A.flush()),!O)return s.executeEnd=ks(),rg(r);o=new Uint8Array(O)}else return this.decryptionPromise=A.webCryptoDecrypt(o,T.key.buffer,T.iv.buffer).then(O=>{const N=this.push(O,null,r);return this.decryptionPromise=null,N}),this.decryptionPromise}const C=this.needsProbing(h,d);if(C){const A=this.configureTransmuxer(o);if(A)return K.warn(`[transmuxer] ${A.message}`),this.observer.emit(R.ERROR,R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.FRAG_PARSING_ERROR,fatal:!1,error:A,reason:A.message}),s.executeEnd=ks(),rg(r)}(h||d||g||C)&&this.resetInitSegment(w,v,_,b,n),(h||g||C)&&this.resetInitialTimestamp(x),c||this.resetContiguity();const I=this.transmux(o,T,m,f,r),M=this.currentTransmuxState;return M.contiguous=!0,M.discontinuity=!1,M.trackSwitch=!1,s.executeEnd=ks(),I}flush(e){const n=e.transmuxing;n.executeStart=ks();const{decrypter:r,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return s.then(()=>this.flush(e));const o=[],{timeOffset:a}=i;if(r){const d=r.flush();d&&o.push(this.push(d,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c)return n.executeEnd=ks(),[rg(e)];const h=l.flush(a);return C0(h)?h.then(d=>(this.flushRemux(o,d,e),o)):(this.flushRemux(o,h,e),o)}flushRemux(e,n,r){const{audioTrack:i,videoTrack:s,id3Track:o,textTrack:a}=n,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;K.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part>-1?" p: "+r.part:""} of level ${r.level}`);const h=this.remuxer.remux(i,s,o,a,c,l,!0,this.id);e.push({remuxResult:h,chunkMeta:r}),r.transmuxing.executeEnd=ks()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,i,s){const{demuxer:o,remuxer:a}=this;!o||!a||(o.resetInitSegment(e,n,r,i),a.resetInitSegment(e,n,r,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,i,s){let o;return n&&n.method==="SAMPLE-AES"?o=this.transmuxSampleAes(e,n,r,i,s):o=this.transmuxUnencrypted(e,r,i,s),o}transmuxUnencrypted(e,n,r,i){const{audioTrack:s,videoTrack:o,id3Track:a,textTrack:l}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,o,a,l,n,r,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,n,r,i,s){return this.demuxer.demuxSampleAes(e,n,r).then(o=>({remuxResult:this.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,r,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:i,vendor:s}=this;let o;for(let f=0,m=L0.length;f<m;f++){var a;if((a=L0[f].demux)!=null&&a.probe(e)){o=L0[f];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,c=this.remuxer,h=o.remux,d=o.demux;(!c||!(c instanceof h))&&(this.remuxer=new h(r,n,i,s)),(!l||!(l instanceof d))&&(this.demuxer=new d(r,n,i),this.probe=d.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new v_(this.config)),e}}function G6e(t,e){let n=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const rg=t=>({remuxResult:{},chunkMeta:t});function C0(t){return"then"in t&&t.then instanceof Function}class H6e{constructor(e,n,r,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=s||null}}class W6e{constructor(e,n,r,i,s,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=o}}var aO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,d,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,d||l,f),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)e.call(h,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},a.prototype.listeners=function(c){var h=n?n+c:c,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,m=d.length,g=new Array(m);f<m;f++)g[f]=d[f].fn;return g},a.prototype.listenerCount=function(c){var h=n?n+c:c,d=this._events[h];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,h,d,f,m,g){var v=n?n+c:c;if(!this._events[v])return!1;var _=this._events[v],x=arguments.length,b,w;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),x){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,d),!0;case 4:return _.fn.call(_.context,h,d,f),!0;case 5:return _.fn.call(_.context,h,d,f,m),!0;case 6:return _.fn.call(_.context,h,d,f,m,g),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];_.fn.apply(_.context,b)}else{var T=_.length,C;for(w=0;w<T;w++)switch(_[w].once&&this.removeListener(c,_[w].fn,void 0,!0),x){case 1:_[w].fn.call(_[w].context);break;case 2:_[w].fn.call(_[w].context,h);break;case 3:_[w].fn.call(_[w].context,h,d);break;case 4:_[w].fn.call(_[w].context,h,d,f);break;default:if(!b)for(C=1,b=new Array(x-1);C<x;C++)b[C-1]=arguments[C];_[w].fn.apply(_[w].context,b)}}return!0},a.prototype.on=function(c,h,d){return s(this,c,h,d,!1)},a.prototype.once=function(c,h,d){return s(this,c,h,d,!0)},a.prototype.removeListener=function(c,h,d,f){var m=n?n+c:c;if(!this._events[m])return this;if(!h)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===h&&(!f||g.once)&&(!d||g.context===d)&&o(this,m);else{for(var v=0,_=[],x=g.length;v<x;v++)(g[v].fn!==h||f&&!g[v].once||d&&g[v].context!==d)&&_.push(g[v]);_.length?this._events[m]=_.length===1?_[0]:_:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(aO);var K6e=aO.exports,S_=g2e(K6e);class lO{constructor(e,n,r,i){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const s=e.config;this.hls=e,this.id=n,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;const o=(c,h)=>{h=h||{},h.frag=this.frag,h.id=this.id,c===R.ERROR&&(this.error=h.error),this.hls.trigger(c,h)};this.observer=new S_,this.observer.on(R.FRAG_DECRYPTED,o),this.observer.on(R.ERROR,o);const a=pl(s.preferManagedMediaSource)||{isTypeSupported:()=>!1},l={mpeg:a.isTypeSupported("audio/mpeg"),mp3:a.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:a.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker<"u"&&(s.workerPath||d6e())){try{s.workerPath?(K.log(`loading Web Worker ${s.workerPath} for "${n}"`),this.workerContext=p6e(s.workerPath)):(K.log(`injecting Web Worker for "${n}"`),this.workerContext=f6e()),this.onwmsg=d=>this.onWorkerMessage(d);const{worker:h}=this.workerContext;h.addEventListener("message",this.onwmsg),h.onerror=d=>{const f=new Error(`${d.message}  (${d.filename}:${d.lineno})`);s.enableWorker=!1,K.warn(`Error in "${n}" Web Worker, fallback to inline`),this.hls.trigger(R.ERROR,{type:Ie.OTHER_ERROR,details:ee.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:f})},h.postMessage({cmd:"init",typeSupported:l,vendor:"",id:n,config:JSON.stringify(s)})}catch(h){K.warn(`Error setting up "${n}" Web Worker, fallback to inline`,h),this.resetWorker(),this.error=null,this.transmuxer=new Q9(this.observer,l,s,"",n)}return}this.transmuxer=new Q9(this.observer,l,s,"",n)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:n}=this.workerContext;n&&self.URL.revokeObjectURL(n),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,n,r,i,s,o,a,l,c,h){var d,f;c.transmuxing.start=self.performance.now();const{transmuxer:m}=this,g=o?o.start:s.start,v=s.decryptdata,_=this.frag,x=!(_&&s.cc===_.cc),b=!(_&&c.level===_.level),w=_?c.sn-_.sn:-1,T=this.part?c.part-this.part.index:-1,C=w===0&&c.id>1&&c.id===(_==null?void 0:_.stats.chunkCount),I=!b&&(w===1||w===0&&(T===1||C&&T<=0)),M=self.performance.now();(b||w||s.stats.parsing.start===0)&&(s.stats.parsing.start=M),o&&(T||!I)&&(o.stats.parsing.start=M);const A=!(_&&((d=s.initSegment)==null?void 0:d.url)===((f=_.initSegment)==null?void 0:f.url)),O=new W6e(x,I,l,b,g,A);if(!I||x||A){K.log(`[transmuxer-interface, ${s.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}
        discontinuity: ${x}
        trackSwitch: ${b}
        contiguous: ${I}
        accurateTimeOffset: ${l}
        timeOffset: ${g}
        initSegmentChange: ${A}`);const N=new H6e(r,i,n,a,h);this.configureTransmuxer(N)}if(this.frag=s,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:v,chunkMeta:c,state:O},e instanceof ArrayBuffer?[e]:[]);else if(m){const N=m.push(e,v,c,O);C0(N)?(m.async=!0,N.then(z=>{this.handleTransmuxComplete(z)}).catch(z=>{this.transmuxerError(z,c,"transmuxer-interface push error")})):(m.async=!1,this.handleTransmuxComplete(N))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(n){let r=n.flush(e);C0(r)||n.async?(C0(r)||(r=Promise.resolve(r)),r.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")})):this.handleFlushResult(r,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}onWorkerMessage(e){const n=e.data;if(!(n!=null&&n.event)){K.warn(`worker message received with no ${n?"event name":"data"}`);return}const r=this.hls;if(this.hls)switch(n.event){case"init":{var i;const s=(i=this.workerContext)==null?void 0:i.objectURL;s&&self.URL.revokeObjectURL(s);break}case"transmuxComplete":{this.handleTransmuxComplete(n.data);break}case"flush":{this.onFlush(n.data);break}case"workerLog":K[n.data.logType]&&K[n.data.logType](n.data.message);break;default:{n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,r.trigger(n.event,n.data);break}}}configureTransmuxer(e){const{transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}function cO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!cu(t[n].attrs,e[n].attrs))return!1;return!0}function cu(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function V7(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}const J9=100;class q6e extends y_{constructor(e,n,r){super(e,n,r,"[audio-stream-controller]",Te.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.LEVEL_LOADED,this.onLevelLoaded,this),e.on(R.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(R.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(R.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(R.ERROR,this.onError,this),e.on(R.BUFFER_RESET,this.onBufferReset,this),e.on(R.BUFFER_CREATED,this.onBufferCreated,this),e.on(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(R.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(R.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.LEVEL_LOADED,this.onLevelLoaded,this),e.off(R.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(R.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(R.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(R.ERROR,this.onError,this),e.off(R.BUFFER_RESET,this.onBufferReset,this),e.off(R.BUFFER_CREATED,this.onBufferCreated,this),e.off(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(R.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(R.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){if(r==="main"){const o=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:s},this.log(`InitPTS for cc: ${o} found from main: ${i}`),this.videoTrackCC=o,this.state===oe.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=oe.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(J9),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=oe.IDLE):(this.loadedmetadata=!1,this.state=oe.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case oe.IDLE:this.doTickIdle();break;case oe.WAITING_TRACK:{var e;const{levels:r,trackId:i}=this,s=r==null||(e=r[i])==null?void 0:e.details;if(s){if(this.waitForCdnTuneIn(s))break;this.state=oe.WAITING_INIT_PTS}break}case oe.FRAG_LOADING_WAITING_RETRY:{var n;const r=performance.now(),i=this.retryDate;if(!i||r>=i||(n=this.media)!=null&&n.seeking){const{levels:s,trackId:o}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((s==null?void 0:s[o])||null),this.state=oe.IDLE}break}case oe.WAITING_INIT_PTS:{const r=this.waitingData;if(r){const{frag:i,part:s,cache:o,complete:a}=r;if(this.initPTS[i.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=oe.FRAG_LOADING;const l=o.flush(),c={frag:i,part:s,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),a&&super._handleFragmentLoadComplete(c)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const l=this.getLoadPosition(),c=Lt.bufferInfo(this.mediaBuffer,l,this.config.maxBufferHole);U7(c.end,this.config.maxFragLookUpTolerance,i)<0&&(this.log(`Waiting fragment cc (${i.cc}) @ ${i.start} cancelled because another fragment at ${c.end} is needed`),this.clearWaitingFragment())}}else this.state=oe.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=oe.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:n,media:r,trackId:i}=this,s=e.config;if(!r&&(this.startFragRequested||!s.startFragPrefetch)||!(n!=null&&n[i]))return;const o=n[i],a=o.details;if(!a||a.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(a)){this.state=oe.WAITING_TRACK;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,mt.AUDIO,Te.AUDIO));const c=this.getFwdBufferInfo(l,Te.AUDIO);if(c===null)return;const{bufferedTrack:h,switchingTrack:d}=this;if(!d&&this._streamEnded(c,a)){e.trigger(R.BUFFER_EOS,{type:"audio"}),this.state=oe.ENDED;return}const f=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Te.MAIN),m=c.len,g=this.getMaxBufferLength(f==null?void 0:f.len),v=a.fragments,_=v[0].start;let x=this.flushing?this.getLoadPosition():c.end;if(d&&r){const C=this.getLoadPosition();h&&!cu(d.attrs,h.attrs)&&(x=C),a.PTSKnown&&C<_&&(c.end>_||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=_+.05)}if(m>=g&&!d&&x<v[v.length-1].start)return;let b=this.getNextFragment(x,a),w=!1;if(b&&this.isLoopLoading(b,x)&&(w=!!b.gap,b=this.getNextFragmentLoopLoading(b,a,c,Te.MAIN,g)),!b){this.bufferFlushed=!0;return}const T=f&&b.start>f.end+a.targetduration;if(T||!(f!=null&&f.len)&&c.len){const C=this.getAppendedFrag(b.start,Te.MAIN);if(C===null||(w||(w=!!C.gap||!!T&&f.len===0),T&&!w||w&&c.nextStart&&c.nextStart<C.end))return}this.loadFragment(b,o,x)}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.min(Math.max(n,e),this.config.maxMaxBufferLength):n}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new lu(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?this.setInterval(J9):this.resetTransmuxer(),r?(this.switchingTrack=n,this.state=oe.IDLE,this.flushAudioIfNeeded(n)):(this.switchingTrack=null,this.bufferedTrack=n,this.state=oe.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,n){this.mainDetails=n.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(R.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,n){var r;if(this.mainDetails==null){this.cachedTrackLoadedData=n;return}const{levels:i}=this,{details:s,id:o}=n;if(!i){this.warn(`Audio tracks were reset while loading level ${o}`);return}this.log(`Audio track ${o} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const a=i[o];let l=0;if(s.live||(r=a.details)!=null&&r.live){this.checkLiveUpdate(s);const h=this.mainDetails;if(s.deltaUpdateFailed||!h)return;if(!a.details&&s.hasProgramDateTime&&h.hasProgramDateTime)h1(s,h),l=s.fragments[0].start;else{var c;l=this.alignPlaylists(s,a.details,(c=this.levelLastLoaded)==null?void 0:c.details)}}a.details=s,this.levelLastLoaded=a,!this.startFragRequested&&(this.mainDetails||!s.live)&&this.setStartPosition(this.mainDetails||s,l),this.state===oe.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=oe.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{config:o,trackId:a,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const c=l[a];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const h=c.details;if(!h){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const d=o.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new lO(this.hls,Te.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const m=this.initPTS[r.cc],g=(n=r.initSegment)==null?void 0:n.data;if(m!==void 0){const _=i?i.index:-1,x=_!==-1,b=new g_(r.level,r.sn,r.stats.chunkCount,s.byteLength,_,x);f.push(s,g,d,"",r,i,h.totalduration,!1,b,m)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${h.startSN} ,${h.endSN}],track ${a}`);const{cache:v}=this.waitingData=this.waitingData||{frag:r,part:i,cache:new WD,complete:!1};v.push(new Uint8Array(s)),this.waitingVideoCC=this.videoTrackCC,this.state=oe.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,n){const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),n.tracks.video&&(this.videoBuffer=n.tracks.video.buffer||null)}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r.type!==Te.AUDIO){if(!this.loadedmetadata&&r.type===Te.MAIN){const s=this.videoBuffer||this.media;s&&Lt.getBuffered(s).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(r.sn!=="initSegment"){this.fragPrevious=r;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(R.AUDIO_TRACK_SWITCHED,An({},s)))}this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=oe.ERROR;return}switch(n.details){case ee.FRAG_GAP:case ee.FRAG_PARSING_ERROR:case ee.FRAG_DECRYPT_ERROR:case ee.FRAG_LOAD_ERROR:case ee.FRAG_LOAD_TIMEOUT:case ee.KEY_LOAD_ERROR:case ee.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Te.AUDIO,n);break;case ee.AUDIO_TRACK_LOAD_ERROR:case ee.AUDIO_TRACK_LOAD_TIMEOUT:case ee.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===oe.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===tt.AUDIO_TRACK&&(this.state=oe.IDLE);break;case ee.BUFFER_APPEND_ERROR:case ee.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="audio")return;if(n.details===ee.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case ee.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==mt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==mt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===oe.ENDED&&(this.state=oe.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,Te.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const r="audio",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:c,level:h}=a,{details:d}=h,{audio:f,text:m,id3:g,initSegment:v}=s;if(this.fragContextChanged(l)||!d){this.fragmentTracker.removeFragment(l);return}if(this.state=oe.PARSING,this.switchingTrack&&f&&this.completeAudioSwitch(this.switchingTrack),v!=null&&v.tracks){const _=l.initSegment||l;this._bufferInitSegment(h,v.tracks,_,o),i.trigger(R.FRAG_PARSING_INIT_SEGMENT,{frag:_,id:r,tracks:v.tracks})}if(f){const{startPTS:_,endPTS:x,startDTS:b,endDTS:w}=f;c&&(c.elementaryStreams[mt.AUDIO]={startPTS:_,endPTS:x,startDTS:b,endDTS:w}),l.setElementaryStreamInfo(mt.AUDIO,_,x,b,w),this.bufferFragmentData(f,l,c,o)}if(g!=null&&(n=g.samples)!=null&&n.length){const _=un({id:r,frag:l,details:d},g);i.trigger(R.FRAG_PARSING_METADATA,_)}if(m){const _=un({id:r,frag:l,details:d},m);i.trigger(R.FRAG_PARSING_USERDATA,_)}}_bufferInitSegment(e,n,r,i){if(this.state!==oe.PARSING)return;n.video&&delete n.video;const s=n.audio;if(!s)return;s.id="audio";const o=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${o}/${s.codec}]`),o&&o.split(",").length===1&&(s.levelCodec=o),this.hls.trigger(R.BUFFER_CODECS,n);const a=s.initSegment;if(a!=null&&a.byteLength){const l={type:"audio",frag:r,part:null,chunkMeta:i,parent:r.type,data:a};this.hls.trigger(R.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||i===Tn.NOT_LOADED||i===Tn.PARTIAL){var s;if(e.sn==="initSegment")this._loadInitSegment(e,n);else if((s=n.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=oe.WAITING_INIT_PTS;const o=this.mainDetails;o&&o.fragments[0].start!==n.details.fragments[0].start&&h1(n.details,o)}else this.startFragRequested=!0,super.loadFragment(e,n,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){const{media:n,bufferedTrack:r}=this,i=r==null?void 0:r.attrs,s=e.attrs;n&&i&&(i.CHANNELS!==s.CHANNELS||r.name!==e.name||r.lang!==e.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(R.AUDIO_TRACK_SWITCHED,An({},e))}}class Y6e extends m_{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.LEVEL_LOADING,this.onLevelLoading,this),e.on(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(R.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(R.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.LEVEL_LOADING,this.onLevelLoading,this),e.off(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(R.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(R.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Audio track with id:${r} and group:${i} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=n.details,this.log(`Audio track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.audioGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(a=>(i==null?void 0:i.indexOf(a))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(f=>!r||r.indexOf(f.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(f=>f.default)&&(this.selectDefaultTrack=!1),a.forEach((f,m)=>{f.id=m});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const l=this.hls.config.audioPreference;if(!s&&l){const f=ns(l,a,Yl);if(f>-1)s=a[f];else{const m=ns(l,this.tracks);s=this.tracks[m]}}let c=this.findTrackId(s);c===-1&&s&&(c=this.findTrackId(null));const h={audioTracks:a};this.log(`Updating audio tracks, ${a.length} track(s) found in group(s): ${r==null?void 0:r.join(",")}`),this.hls.trigger(R.AUDIO_TRACKS_UPDATED,h);const d=this.trackId;if(c!==-1&&d===-1)this.setAudioTrack(c);else if(a.length&&d===-1){var o;const f=new Error(`No audio track selected for current audio group-ID(s): ${(o=this.groupIds)==null?void 0:o.join(",")} track count: ${a.length}`);this.warn(f.message),this.hls.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:f})}}else this.shouldReloadPlaylist(s)&&this.setAudioTrack(this.trackId)}onError(e,n){n.fatal||!n.context||n.context.type===tt.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(n))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const i=this.currentTrack;if(i&&Dc(e,i,Yl))return i;const s=ns(e,this.tracksInGroup,Yl);if(s>-1){const o=this.tracksInGroup[s];return this.setAudioTrack(s),o}else if(i){let o=n.loadLevel;o===-1&&(o=n.firstAutoLevel);const a=Yme(e,n.levels,r,o,Yl);if(a===-1)return null;n.nextLoadLevel=a}if(e.channels||e.audioCodec){const o=ns(e,r);if(o>-1)return r[o]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e],s=i.details&&!i.details.live;if(e===this.trackId&&i===r&&s||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(R.AUDIO_TRACK_SWITCHING,An({},i)),s))return;const o=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(o)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Dc(e,i,Yl)))return r}if(e){const{name:r,lang:i,assocLang:s,characteristics:o,audioCodec:a,channels:l}=e;for(let c=0;c<n.length;c++){const h=n[c];if(Dc({name:r,lang:i,assocLang:s,characteristics:o,audioCodec:a,channels:l},h,Yl))return c}for(let c=0;c<n.length;c++){const h=n[c];if(cu(e.attrs,h.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<n.length;c++){const h=n[c];if(cu(e.attrs,h.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){super.loadPlaylist();const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`loading audio-track playlist ${r} "${n.name}" lang:${n.lang} group:${i}`),this.clearTimer(),this.hls.trigger(R.AUDIO_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}}const eT=500;class Z6e extends y_{constructor(e,n,r){super(e,n,r,"[subtitle-stream-controller]",Te.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.LEVEL_LOADED,this.onLevelLoaded,this),e.on(R.ERROR,this.onError,this),e.on(R.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(R.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(R.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(R.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.LEVEL_LOADED,this.onLevelLoaded,this),e.off(R.ERROR,this.onError,this),e.off(R.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(R.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(R.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(R.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=oe.IDLE,this.setInterval(eT),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:i}=n;if(this.fragPrevious=r,this.state=oe.IDLE,!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let o;const a=r.start;for(let c=0;c<s.length;c++)if(a>=s[c].start&&a<=s[c].end){o=s[c];break}const l=r.start+r.duration;o?o.end=l:(o={start:a,end:l},s.push(o)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null)}onBufferFlushing(e,n){const{startOffset:r,endOffset:i}=n;if(r===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;n.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(o=>{for(let a=0;a<o.length;){if(o[a].end<=s){o.shift();continue}else if(o[a].start<s)o[a].start=s;else break;a++}}),this.fragmentTracker.removeFragmentsInRange(r,s,Te.SUBTITLE)}}onFragBuffered(e,n){if(!this.loadedmetadata&&n.frag.type===Te.MAIN){var r;(r=this.media)!=null&&r.buffered.length&&(this.loadedmetadata=!0)}}onError(e,n){const r=n.frag;(r==null?void 0:r.type)===Te.SUBTITLE&&(n.details===ee.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==oe.STOPPED&&(this.state=oe.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&cO(this.levels,n)){this.levels=n.map(r=>new lu(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const i=new lu(r);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Te.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var r;if(this.currentTrackId=n.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.setInterval(eT)}onSubtitleTrackLoaded(e,n){var r;const{currentTrackId:i,levels:s}=this,{details:o,id:a}=n;if(!s){this.warn(`Subtitle tracks were reset while loading level ${a}`);return}const l=s[a];if(a>=s.length||!l)return;this.log(`Subtitle track ${a} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(o.live||(r=l.details)!=null&&r.live){const d=this.mainDetails;if(o.deltaUpdateFailed||!d)return;const f=d.fragments[0];if(!l.details)o.hasProgramDateTime&&d.hasProgramDateTime?(h1(o,d),c=o.fragments[0].start):f&&(c=f.start,B7(o,c));else{var h;c=this.alignPlaylists(o,l.details,(h=this.levelLastLoaded)==null?void 0:h.details),c===0&&f&&(c=f.start,B7(o,c))}}l.details=o,this.levelLastLoaded=l,a===i&&(!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(this.mainDetails||o,c),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===oe.IDLE&&(u1(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,i=n.decryptdata,s=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&i!=null&&i.key&&i.iv&&i.method==="AES-128"){const o=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch(a=>{throw s.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.FRAG_DECRYPT_ERROR,fatal:!1,error:a,reason:a.message,frag:n}),a}).then(a=>{const l=performance.now();s.trigger(R.FRAG_DECRYPTED,{frag:n,payload:a,stats:{tstart:o,tdecrypt:l}})}).catch(a=>{this.warn(`${a.name}: ${a.message}`),this.state=oe.IDLE})}}doTick(){if(!this.media){this.state=oe.IDLE;return}if(this.state===oe.IDLE){const{currentTrackId:e,levels:n}=this,r=n==null?void 0:n[e];if(!r||!n.length||!r.details)return;const{config:i}=this,s=this.getLoadPosition(),o=Lt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:a,len:l}=o,c=this.getFwdBufferInfo(this.media,Te.MAIN),h=r.details,d=this.getMaxBufferLength(c==null?void 0:c.len)+h.levelTargetDuration;if(l>d)return;const f=h.fragments,m=f.length,g=h.edge;let v=null;const _=this.fragPrevious;if(a<g){const x=i.maxFragLookUpTolerance,b=a>g-x?0:x;v=u1(_,f,Math.max(f[0].start,a),b),!v&&_&&_.start<f[0].start&&(v=f[0])}else v=f[m-1];if(!v)return;if(v=this.mapToInitFragWhenRequired(v),v.sn!=="initSegment"){const x=v.sn-h.startSN,b=f[x-1];b&&b.cc===v.cc&&this.fragmentTracker.getState(b)===Tn.NOT_LOADED&&(v=b)}this.fragmentTracker.getState(v)===Tn.NOT_LOADED&&this.loadFragment(v,r,a)}}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.max(n,e):n}loadFragment(e,n,r){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,n):(this.startFragRequested=!0,super.loadFragment(e,n,r))}get mediaBufferTimeRanges(){return new X6e(this.tracksBuffered[this.currentTrackId]||[])}}class X6e{constructor(e){this.buffered=void 0;const n=(r,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}class Q6e extends m_{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const r=w0(this.media.textTracks);for(let s=0;s<r.length;s++)if(r[s].mode==="hidden")n=r[s];else if(r[s].mode==="showing"){n=r[s];break}const i=this.findTrackForTextTrack(n);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.LEVEL_LOADING,this.onLevelLoading,this),e.on(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(R.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(R.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.LEVEL_LOADING,this.onLevelLoading,this),e.off(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(R.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(R.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),w0(this.media.textTracks).forEach(n=>{xc(n)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Subtitle track with id:${r} and group:${i} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=n.details,this.log(`Subtitle track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.subtitleGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(o=>(i==null?void 0:i.indexOf(o))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(h=>!r||r.indexOf(h.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(h=>h.default)&&(this.selectDefaultTrack=!1),o.forEach((h,d)=>{h.id=d});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const a=this.hls.config.subtitlePreference;if(!s&&a){this.selectDefaultTrack=!1;const h=ns(a,o);if(h>-1)s=o[h];else{const d=ns(a,this.tracks);s=this.tracks[d]}}let l=this.findTrackId(s);l===-1&&s&&(l=this.findTrackId(null));const c={subtitleTracks:o};this.log(`Updating subtitle tracks, ${o.length} track(s) found in "${r==null?void 0:r.join(",")}" group-id`),this.hls.trigger(R.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}else this.shouldReloadPlaylist(s)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const n=this.tracksInGroup,r=this.selectDefaultTrack;for(let i=0;i<n.length;i++){const s=n[i];if(!(r&&!s.default||!r&&!e)&&(!e||Dc(s,e)))return i}if(e){for(let i=0;i<n.length;i++){const s=n[i];if(cu(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<n.length;i++){const s=n[i];if(cu(e.attrs,s.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(V7(i,e))return r}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===tt.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&Dc(e,r))return r;const i=ns(e,this.tracksInGroup);if(i>-1){const s=this.tracksInGroup[i];return this.setSubtitleTrack(i),s}else{if(r)return null;{const s=ns(e,n);if(s>-1)return n[s]}}}}return null}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(R.SUBTITLE_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=w0(e.textTracks),r=this.currentTrack;let i;if(r&&(i=n.filter(s=>V7(r,s))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(n).forEach(s=>{s.mode!=="disabled"&&s!==i&&(s.mode="disabled")}),i){const s=this.subtitleDisplay?"showing":"hidden";i.mode!==s&&(i.mode=s)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!_e(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(R.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!i.details&&!i.details.live;if(e===this.trackId&&i===r&&s)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:o,groupId:a="",name:l,type:c,url:h}=i;this.hls.trigger(R.SUBTITLE_TRACK_SWITCH,{id:o,groupId:a,name:l,type:c,url:h});const d=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(d)}}class J6e{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,n,r){const i=this.queues[n];i.push(e),i.length===1&&!r&&this.executeNext(n)}insertAbort(e,n){this.queues[n].unshift(e),this.executeNext(n)}appendBlocker(e){let n;const r=new Promise(s=>{n=s}),i={execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(i,e),r}executeNext(e){const n=this.queues[e];if(n.length){const r=n[0];try{r.execute()}catch(i){K.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${i}`),r.onError(i);const s=this.buffers[e];s!=null&&s.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const tT=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class ege{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=r=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:r,mediaSource:i}=this;this.log("Media source opened"),r&&(r.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(R.MEDIA_ATTACHED,{media:r,mediaSource:i})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:i}=this;r!==i&&K.error(`Media element src was set while attaching MediaSource (${i} > ${r})`)},this.hls=e;const n="[buffer-controller]";this.appendSource=cme(pl(e.config.preferManagedMediaSource)),this.log=K.log.bind(K,n),this.warn=K.warn.bind(K,n),this.error=K.error.bind(K,n),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.BUFFER_RESET,this.onBufferReset,this),e.on(R.BUFFER_APPENDING,this.onBufferAppending,this),e.on(R.BUFFER_CODECS,this.onBufferCodecs,this),e.on(R.BUFFER_EOS,this.onBufferEos,this),e.on(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(R.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(R.FRAG_PARSED,this.onFragParsed,this),e.on(R.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.BUFFER_RESET,this.onBufferReset,this),e.off(R.BUFFER_APPENDING,this.onBufferAppending,this),e.off(R.BUFFER_CODECS,this.onBufferCodecs,this),e.off(R.BUFFER_EOS,this.onBufferEos,this),e.off(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(R.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(R.FRAG_PARSED,this.onFragParsed,this),e.off(R.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new J6e(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){let r=2;(n.audio&&!n.video||!n.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,n){const r=this.media=n.media,i=pl(this.appendSource);if(r&&i){var s;const o=this.mediaSource=new i;this.log(`created media source: ${(s=o.constructor)==null?void 0:s.name}`),o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.addEventListener("startstreaming",this._onStartStreaming),o.addEventListener("endstreaming",this._onEndStreaming));const a=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{r.removeAttribute("src");const l=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||l&&o instanceof l,nT(r),tge(r,a),r.load()}catch{r.src=a}else r.src=a;r.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:n,_objectUrl:r}=this;if(n){if(this.log("media source detaching"),n.readyState==="open")try{n.endOfStream()}catch(i){this.warn(`onMediaDetaching: ${i.message} while calling endOfStream`)}this.onBufferReset(),n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(n.removeEventListener("startstreaming",this._onStartStreaming),n.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),this.mediaSrc===r?(e.removeAttribute("src"),this.appendSource&&nT(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(R.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer()}resetBuffer(e){const n=this.sourceBuffer[e];try{if(n){var r;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(r=this.mediaSource)!=null&&r.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}}catch(i){this.warn(`onBufferReset ${e}`,i)}}onBufferCodecs(e,n){const r=this.getSourceBufferTypes().length,i=Object.keys(n);if(i.forEach(o=>{if(r){const l=this.tracks[o];if(l&&typeof l.buffer.changeType=="function"){var a;const{id:c,codec:h,levelCodec:d,container:f,metadata:m}=n[o],g=S9(l.codec,l.levelCodec),v=g==null?void 0:g.replace(tT,"$1");let _=S9(h,d);const x=(a=_)==null?void 0:a.replace(tT,"$1");if(_&&v!==x){o.slice(0,5)==="audio"&&(_=o1(_,this.appendSource));const b=`${f};codecs=${_}`;this.appendChangeType(o,b),this.log(`switching codec ${g} to ${_}`),this.tracks[o]={buffer:l.buffer,codec:h,container:f,levelCodec:d,metadata:m,id:c}}}}else this.pendingTracks[o]=n[o]}),r)return;const s=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==s&&(this.log(`${s} bufferCodec event(s) expected ${i.join(",")}`),this.bufferCodecEventsExpected=s),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,n){const{operationQueue:r}=this,i={execute:()=>{const s=this.sourceBuffer[e];s&&(this.log(`changing ${e} sourceBuffer type to ${n}`),s.changeType(n)),r.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn(`Failed to change ${e} SourceBuffer type`,s)}};r.append(i,e,!!this.pendingTracks[e])}onBufferAppending(e,n){const{hls:r,operationQueue:i,tracks:s}=this,{data:o,type:a,frag:l,part:c,chunkMeta:h}=n,d=h.buffering[a],f=self.performance.now();d.start=f;const m=l.stats.buffering,g=c?c.stats.buffering:null;m.start===0&&(m.start=f),g&&g.start===0&&(g.start=f);const v=s.audio;let _=!1;a==="audio"&&(v==null?void 0:v.container)==="audio/mpeg"&&(_=!this.lastMpegAudioChunk||h.id===1||this.lastMpegAudioChunk.sn!==h.sn,this.lastMpegAudioChunk=h);const x=l.start,b={execute:()=>{if(d.executeStart=self.performance.now(),_){const w=this.sourceBuffer[a];if(w){const T=x-w.timestampOffset;Math.abs(T)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${x} (delta: ${T}) sn: ${l.sn})`),w.timestampOffset=x)}}this.appendExecutor(o,a)},onStart:()=>{},onComplete:()=>{const w=self.performance.now();d.executeEnd=d.end=w,m.first===0&&(m.first=w),g&&g.first===0&&(g.first=w);const{sourceBuffer:T}=this,C={};for(const I in T)C[I]=Lt.getBuffered(T[I]);this.appendErrors[a]=0,a==="audio"||a==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(R.BUFFER_APPENDED,{type:a,frag:l,part:c,chunkMeta:h,parent:l.type,timeRanges:C})},onError:w=>{const T={type:Ie.MEDIA_ERROR,parent:l.type,details:ee.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:l,part:c,chunkMeta:h,error:w,err:w,fatal:!1};if(w.code===DOMException.QUOTA_EXCEEDED_ERR)T.details=ee.BUFFER_FULL_ERROR;else{const C=++this.appendErrors[a];T.details=ee.BUFFER_APPEND_ERROR,this.warn(`Failed ${C}/${r.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer`),C>=r.config.appendErrorMaxRetry&&(T.fatal=!0)}r.trigger(R.ERROR,T)}};i.append(b,a,!!this.pendingTracks[a])}onBufferFlushing(e,n){const{operationQueue:r}=this,i=s=>({execute:this.removeExecutor.bind(this,s,n.startOffset,n.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(R.BUFFER_FLUSHED,{type:s})},onError:o=>{this.warn(`Failed to remove from ${s} SourceBuffer`,o)}});n.type?r.append(i(n.type),n.type):this.getSourceBufferTypes().forEach(s=>{r.append(i(s),s)})}onFragParsed(e,n){const{frag:r,part:i}=n,s=[],o=i?i.elementaryStreams:r.elementaryStreams;o[mt.AUDIOVIDEO]?s.push("audiovideo"):(o[mt.AUDIO]&&s.push("audio"),o[mt.VIDEO]&&s.push("video"));const a=()=>{const l=self.performance.now();r.stats.buffering.end=l,i&&(i.stats.buffering.end=l);const c=i?i.stats:r.stats;this.hls.trigger(R.FRAG_BUFFERED,{frag:r,part:i,stats:c,id:r.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(a,s)}onFragChanged(e,n){this.trimBuffers()}onBufferEos(e,n){this.getSourceBufferTypes().reduce((i,s)=>{const o=this.sourceBuffer[s];return o&&(!n.type||n.type===s)&&(o.ending=!0,o.ended||(o.ended=!0,this.log(`${s} sourceBuffer now EOS`))),i&&!!(!o||o.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(s=>{const o=this.sourceBuffer[s];o&&(o.ending=!1)});const{mediaSource:i}=this;if(!i||i.readyState!=="open"){i&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),i.endOfStream()}))}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:n,media:r}=this;if(!r||n===null||!this.getSourceBufferTypes().length)return;const s=e.config,o=r.currentTime,a=n.levelTargetDuration,l=n.live&&s.liveBackBufferLength!==null?s.liveBackBufferLength:s.backBufferLength;if(_e(l)&&l>0){const c=Math.max(l,a),h=Math.floor(o/a)*a-c;this.flushBackBuffer(o,a,h)}if(_e(s.frontBufferFlushThreshold)&&s.frontBufferFlushThreshold>0){const c=Math.max(s.maxBufferLength,s.frontBufferFlushThreshold),h=Math.max(c,a),d=Math.floor(o/a)*a+h;this.flushFrontBuffer(o,a,d)}}flushBackBuffer(e,n,r){const{details:i,sourceBuffer:s}=this;this.getSourceBufferTypes().forEach(a=>{const l=s[a];if(l){const c=Lt.getBuffered(l);if(c.length>0&&r>c.start(0)){if(this.hls.trigger(R.BACK_BUFFER_REACHED,{bufferEnd:r}),i!=null&&i.live)this.hls.trigger(R.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(l.ended&&c.end(c.length-1)-e<n*2){this.log(`Cannot flush ${a} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(R.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:a})}}})}flushFrontBuffer(e,n,r){const{sourceBuffer:i}=this;this.getSourceBufferTypes().forEach(o=>{const a=i[o];if(a){const l=Lt.getBuffered(a),c=l.length;if(c<2)return;const h=l.start(c-1),d=l.end(c-1);if(r>h||e>=h&&e<=d)return;if(a.ended&&e-d<2*n){this.log(`Cannot flush ${o} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger(R.BUFFER_FLUSHING,{startOffset:h,endOffset:1/0,type:o})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:n,media:r,mediaSource:i}=this,s=e.fragments[0].start+e.totalduration,o=r.duration,a=_e(i.duration)?i.duration:0;e.live&&n.config.liveDurationInfinity?(i.duration=1/0,this.updateSeekableRange(e)):(s>a&&s>o||!_e(o))&&(this.log(`Updating Media Source duration to ${s.toFixed(3)}`),i.duration=s)}updateSeekableRange(e){const n=this.mediaSource,r=e.fragments;if(r.length&&e.live&&n!=null&&n.setLiveSeekableRange){const s=Math.max(0,r[0].start),o=Math.max(s,s+e.totalduration);this.log(`Media Source duration is set to ${n.duration}. Setting seekable range to ${s}-${o}.`),n.setLiveSeekableRange(s,o)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:n,pendingTracks:r}=this,i=Object.keys(r).length;if(i&&(!e||i===2||"audiovideo"in r)){this.createSourceBuffers(r),this.pendingTracks={};const s=this.getSourceBufferTypes();if(s.length)this.hls.trigger(R.BUFFER_CREATED,{tracks:this.tracks}),s.forEach(o=>{n.executeNext(o)});else{const o=new Error("could not create source buffer for media codec(s)");this.hls.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:o,reason:o.message})}}}createSourceBuffers(e){const{sourceBuffer:n,mediaSource:r}=this;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(const s in e)if(!n[s]){var i;const o=e[s];if(!o)throw Error(`source buffer exists for track ${s}, however track does not`);let a=((i=o.levelCodec)==null?void 0:i.indexOf(","))===-1?o.levelCodec:o.codec;a&&s.slice(0,5)==="audio"&&(a=o1(a,this.appendSource));const l=`${o.container};codecs=${a}`;this.log(`creating sourceBuffer(${l})`);try{const c=n[s]=r.addSourceBuffer(l),h=s;this.addBufferListener(h,"updatestart",this._onSBUpdateStart),this.addBufferListener(h,"updateend",this._onSBUpdateEnd),this.addBufferListener(h,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(h,"bufferedchange",(d,f)=>{const m=f.removedRanges;m!=null&&m.length&&this.hls.trigger(R.BUFFER_FLUSHED,{type:s})}),this.tracks[s]={buffer:c,codec:a,container:o.container,levelCodec:o.levelCodec,metadata:o.metadata,id:o.id}}catch(c){this.error(`error while trying to add sourceBuffer: ${c.message}`),this.hls.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,sourceBufferName:s,mimeType:l})}}}get mediaSrc(){var e,n;const r=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return r==null?void 0:r.src}_onSBUpdateStart(e){const{operationQueue:n}=this;n.current(e).onStart()}_onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const{operationQueue:r}=this;r.current(e).onComplete(),r.shiftAndExecuteNext(e)}_onSBUpdateError(e,n){var r;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${i}`,n),this.hls.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const s=this.operationQueue.current(e);s&&s.onError(i)}removeExecutor(e,n,r){const{media:i,mediaSource:s,operationQueue:o,sourceBuffer:a}=this,l=a[e];if(!i||!s||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),o.shiftAndExecuteNext(e);return}const c=_e(i.duration)?i.duration:1/0,h=_e(s.duration)?s.duration:1/0,d=Math.max(0,n),f=Math.min(r,c,h);f>d&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${d},${f}] from the ${e} SourceBuffer`),l.remove(d,f)):o.shiftAndExecuteNext(e)}appendExecutor(e,n){const r=this.sourceBuffer[n];if(!r){if(!this.pendingTracks[n])throw new Error(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);return}r.ended=!1,r.appendBuffer(e)}blockBuffers(e,n=this.getSourceBufferTypes()){if(!n.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:r}=this,i=n.map(s=>r.appendBlocker(s));Promise.all(i).then(()=>{e(),n.forEach(s=>{const o=this.sourceBuffer[s];o!=null&&o.updating||r.shiftAndExecuteNext(s)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,n,r){const i=this.sourceBuffer[e];if(!i)return;const s=r.bind(this,e);this.listeners[e].push({event:n,listener:s}),i.addEventListener(n,s)}removeBufferListeners(e){const n=this.sourceBuffer[e];n&&this.listeners[e].forEach(r=>{n.removeEventListener(r.event,r.listener)})}}function nT(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function tge(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}const nge={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},uO=t=>String.fromCharCode(nge[t]||t),gi=15,Ts=100,rge={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ige={17:2,18:4,21:6,22:8,23:10,19:13,20:15},sge={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},oge={25:2,26:4,29:6,30:8,31:10,27:13,28:15},age=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class lge{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;K.log(`${this.time} [${e}] ${r}`)}}}const Sa=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class hO{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const i=n[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class cge{constructor(){this.uchar=" ",this.penState=new hO}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class uge{constructor(e){this.chars=[],this.pos=0,this.currPenState=new hO,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<Ts;n++)this.chars.push(new cge);this.logger=e}equals(e){for(let n=0;n<Ts;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<Ts;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<Ts;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ts&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Ts)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=uO(e);if(this.pos>=Ts){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<Ts;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<Ts;r++){const i=this.chars[r].uchar;i!==" "&&(n=!1),e.push(i)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class ig{constructor(e){this.rows=[],this.currRow=gi-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<gi;n++)this.rows.push(new uge(e));this.logger=e}reset(){for(let e=0;e<gi;e++)this.rows[e].clear();this.currRow=gi-1}equals(e){let n=!0;for(let r=0;r<gi;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<gi;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<gi;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let a=0;a<gi;a++)this.rows[a].clear();const s=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){const a=o.rows[s].cueStartTime,l=this.logger.time;if(a!==null&&l!==null&&a<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[n-this.nrRollUpRows+c+1].copy(o.rows[s+c])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,o=Math.max(s-1,0);r.setCursor(e.indent),e.color=r.chars[o].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",i=-1;for(let s=0;s<gi;s++){const o=this.rows[s].getTextString();o&&(i=s+1,e?n.push("Row "+i+": '"+o+"'"):n.push(o.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class rT{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new ig(r),this.nonDisplayedMemory=new ig(r),this.lastOutputScreen=new ig(r),this.currRollUpRow=this.displayedMemory.rows[gi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[gi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=i[r]}this.logger.log(2,"MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class iT{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=dge(),this.logger=void 0;const i=this.logger=new lge;this.channels=[null,new rT(e,n,i),new rT(e+1,r,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let r=0;r<n.length;r+=2){const i=n[r]&127,s=n[r+1]&127;let o=!1,a=null;if(i===0&&s===0)continue;this.logger.log(3,()=>"["+Sa([n[r],n[r+1]])+"] -> ("+Sa([i,s])+")");const l=this.cmdHistory;if(i>=16&&i<=31){if(hge(i,s,l)){W3(null,null,l),this.logger.log(3,()=>"Repeated command ("+Sa([i,s])+") is dropped");continue}W3(i,s,this.cmdHistory),o=this.parseCmd(i,s),o||(o=this.parseMidrow(i,s)),o||(o=this.parsePAC(i,s)),o||(o=this.parseBackgroundAttributes(i,s))}else W3(null,null,l);if(!o&&(a=this.parseChars(i,s),a)){const h=this.currentChannel;h&&h>0?this.channels[h].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!o&&!a&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Sa([i,s])+" orig: "+Sa([n[r],n[r+1]]))}}parseCmd(e,n){const r=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=33&&n<=35;if(!(r||i))return!1;const s=e===20||e===21||e===23?1:2,o=this.channels[s];return e===20||e===21||e===28||e===29?n===32?o.ccRCL():n===33?o.ccBS():n===34?o.ccAOF():n===35?o.ccAON():n===36?o.ccDER():n===37?o.ccRU(2):n===38?o.ccRU(3):n===39?o.ccRU(4):n===40?o.ccFON():n===41?o.ccRDC():n===42?o.ccTR():n===43?o.ccRTD():n===44?o.ccEDM():n===45?o.ccCR():n===46?o.ccENM():n===47&&o.ccEOC():o.ccTO(n-32),this.currentChannel=s,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[r];return i?(i.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+Sa([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const i=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,s=(e===16||e===24)&&n>=64&&n<=95;if(!(i||s))return!1;const o=e<=23?1:2;n>=64&&n<=95?r=o===1?rge[e]:sge[e]:r=o===1?ige[e]:oge[e];const a=this.channels[o];return a?(a.setPAC(this.interpretPAC(r,n)),this.currentChannel=o,!0):!1}interpretPAC(e,n){let r;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}parseChars(e,n){let r,i=null,s=null;if(e>=25?(r=2,s=e-8):(r=1,s=e),s>=17&&s<=19){let o;s===17?o=n+80:s===18?o=n+112:o=n+144,this.logger.log(2,()=>"Special char '"+uO(o)+"' in channel "+r),i=[o]}else e>=32&&e<=127&&(i=n===0?[e]:[e,n]);return i&&this.logger.log(3,()=>"Char codes =  "+Sa(i).join(",")),i}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=45&&n<=47;if(!(r||i))return!1;let s;const o={};e===16||e===24?(s=Math.floor((n-32)/2),o.background=age[s],n%2===1&&(o.background=o.background+"_semi")):n===45?o.background="transparent":(o.foreground="black",n===47&&(o.underline=!0));const a=e<=23?1:2;return this.channels[a].setBkgData(o),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}W3(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function W3(t,e,n){n.a=t,n.b=e}function hge(t,e,n){return n.a===t&&n.b===e}function dge(){return{a:null,b:null}}class K3{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var E_=function(){if(au!=null&&au.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(a,l){if(typeof l!="string"||!Array.isArray(a))return!1;const c=l.toLowerCase();return~a.indexOf(c)?c:!1}function r(a){return n(t,a)}function i(a){return n(e,a)}function s(a,...l){let c=1;for(;c<arguments.length;c++){const h=arguments[c];for(const d in h)a[d]=h[d]}return a}function o(a,l,c){const h=this,d={enumerable:!0};h.hasBeenReset=!1;let f="",m=!1,g=a,v=l,_=c,x=null,b="",w=!0,T="auto",C="start",I=50,M="middle",A=50,O="middle";Object.defineProperty(h,"id",s({},d,{get:function(){return f},set:function(N){f=""+N}})),Object.defineProperty(h,"pauseOnExit",s({},d,{get:function(){return m},set:function(N){m=!!N}})),Object.defineProperty(h,"startTime",s({},d,{get:function(){return g},set:function(N){if(typeof N!="number")throw new TypeError("Start time must be set to a number.");g=N,this.hasBeenReset=!0}})),Object.defineProperty(h,"endTime",s({},d,{get:function(){return v},set:function(N){if(typeof N!="number")throw new TypeError("End time must be set to a number.");v=N,this.hasBeenReset=!0}})),Object.defineProperty(h,"text",s({},d,{get:function(){return _},set:function(N){_=""+N,this.hasBeenReset=!0}})),Object.defineProperty(h,"region",s({},d,{get:function(){return x},set:function(N){x=N,this.hasBeenReset=!0}})),Object.defineProperty(h,"vertical",s({},d,{get:function(){return b},set:function(N){const z=r(N);if(z===!1)throw new SyntaxError("An invalid or illegal string was specified.");b=z,this.hasBeenReset=!0}})),Object.defineProperty(h,"snapToLines",s({},d,{get:function(){return w},set:function(N){w=!!N,this.hasBeenReset=!0}})),Object.defineProperty(h,"line",s({},d,{get:function(){return T},set:function(N){if(typeof N!="number"&&N!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");T=N,this.hasBeenReset=!0}})),Object.defineProperty(h,"lineAlign",s({},d,{get:function(){return C},set:function(N){const z=i(N);if(!z)throw new SyntaxError("An invalid or illegal string was specified.");C=z,this.hasBeenReset=!0}})),Object.defineProperty(h,"position",s({},d,{get:function(){return I},set:function(N){if(N<0||N>100)throw new Error("Position must be between 0 and 100.");I=N,this.hasBeenReset=!0}})),Object.defineProperty(h,"positionAlign",s({},d,{get:function(){return M},set:function(N){const z=i(N);if(!z)throw new SyntaxError("An invalid or illegal string was specified.");M=z,this.hasBeenReset=!0}})),Object.defineProperty(h,"size",s({},d,{get:function(){return A},set:function(N){if(N<0||N>100)throw new Error("Size must be between 0 and 100.");A=N,this.hasBeenReset=!0}})),Object.defineProperty(h,"align",s({},d,{get:function(){return O},set:function(N){const z=i(N);if(!z)throw new SyntaxError("An invalid or illegal string was specified.");O=z,this.hasBeenReset=!0}})),h.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class fge{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function dO(t){function e(r,i,s,o){return(r|0)*3600+(i|0)*60+(s|0)+parseFloat(o||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}let pge=class{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let i=0;i<r.length;++i)if(n===r[i]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}};function fO(t,e,n,r){const i=r?t.split(r):[t];for(const s in i){if(typeof i[s]!="string")continue;const o=i[s].split(n);if(o.length!==2)continue;const a=o[0],l=o[1];e(a,l)}}const G7=new E_(0,0,""),q3=G7.align==="middle"?"middle":"center";function mge(t,e,n){const r=t;function i(){const a=dO(t);if(a===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function s(a,l){const c=new pge;fO(a,function(f,m){let g;switch(f){case"region":for(let v=n.length-1;v>=0;v--)if(n[v].id===m){c.set(f,n[v].region);break}break;case"vertical":c.alt(f,m,["rl","lr"]);break;case"line":g=m.split(","),c.integer(f,g[0]),c.percent(f,g[0])&&c.set("snapToLines",!1),c.alt(f,g[0],["auto"]),g.length===2&&c.alt("lineAlign",g[1],["start",q3,"end"]);break;case"position":g=m.split(","),c.percent(f,g[0]),g.length===2&&c.alt("positionAlign",g[1],["start",q3,"end","line-left","line-right","auto"]);break;case"size":c.percent(f,m);break;case"align":c.alt(f,m,["start",q3,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let h=c.get("line","auto");h==="auto"&&G7.line===-1&&(h=-1),l.line=h,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",q3);let d=c.get("position","auto");d==="auto"&&G7.position===50&&(d=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=d}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),o(),e.endTime=i(),o(),s(t,e)}function pO(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class gge{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new fge,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let s=n.buffer,o=0;for(s=pO(s);o<s.length&&s[o]!=="\r"&&s[o]!==`
`;)++o;const a=s.slice(0,o);return s[o]==="\r"&&++o,s[o]===`
`&&++o,n.buffer=s.slice(o),a}function i(s){fO(s,function(o,a){},/:/)}try{let s="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;s=r();const a=s.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(a!=null&&a[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let o=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(o?o=!1:s=r(),n.state){case"HEADER":/:/.test(s)?i(s):s||(n.state="ID");continue;case"NOTE":s||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){n.state="NOTE";break}if(!s)continue;if(n.cue=new E_(0,0,""),n.state="CUE",s.indexOf("-->")===-1){n.cue.id=s;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{mge(s,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const a=s.indexOf("-->")!==-1;if(!s||a&&(o=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=s}continue;case"BADCUE":s||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const vge=/\r\n|\n\r|\n|\r/g,sg=function(e,n,r=0){return e.slice(r,r+n.length)===n},yge=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!_e(n)||!_e(r)||!_e(i)||!_e(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*i,n+=60*60*1e3*s,n},og=function(e){let n=5381,r=e.length;for(;r;)n=n*33^e.charCodeAt(--r);return(n>>>0).toString()};function T_(t,e,n){return og(t.toString())+og(e.toString())+og(n)}const _ge=function(e,n,r){let i=e[n],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(o=s)!=null&&o.new;){var o;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=r};function xge(t,e,n,r,i,s,o){const a=new gge,l=cs(new Uint8Array(t)).trim().replace(vge,`
`).split(`
`),c=[],h=e?F6e(e.baseTime,e.timescale):0;let d="00:00.000",f=0,m=0,g,v=!0;a.oncue=function(_){const x=n[r];let b=n.ccOffset;const w=(f-h)/9e4;if(x!=null&&x.new&&(m!==void 0?b=n.ccOffset=x.start:_ge(n,r,w)),w){if(!e){g=new Error("Missing initPTS for VTT MPEGTS");return}b=w-n.presentationOffset}const T=_.endTime-_.startTime,C=Zr((_.startTime+b-m)*9e4,i*9e4)/9e4;_.startTime=Math.max(C,0),_.endTime=Math.max(C+T,0);const I=_.text.trim();_.text=decodeURIComponent(encodeURIComponent(I)),_.id||(_.id=T_(_.startTime,_.endTime,I)),_.endTime>0&&c.push(_)},a.onparsingerror=function(_){g=_},a.onflush=function(){if(g){o(g);return}s(c)},l.forEach(_=>{if(v)if(sg(_,"X-TIMESTAMP-MAP=")){v=!1,_.slice(16).split(",").forEach(x=>{sg(x,"LOCAL:")?d=x.slice(6):sg(x,"MPEGTS:")&&(f=parseInt(x.slice(7)))});try{m=yge(d)/1e3}catch(x){g=x}return}else _===""&&(v=!1);a.parse(_+`
`)}),a.flush()}const ag="stpp.ttml.im1t",mO=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,gO=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,bge={left:"start",center:"center",right:"end",start:"start",end:"end"};function sT(t,e,n,r){const i=$e(new Uint8Array(t),["mdat"]);if(i.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(a=>cs(a)),o=N6e(e.baseTime,1,e.timescale);try{s.forEach(a=>n(wge(a,o)))}catch(a){r(a)}}function wge(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(s).reduce((d,f)=>(d[f]=i.getAttribute(`ttp:${f}`)||s[f],d),{}),a=i.getAttribute("xml:space")!=="preserve",l=oT(lg(i,"styling","style")),c=oT(lg(i,"layout","region")),h=lg(i,"body","[begin]");return[].map.call(h,d=>{const f=vO(d,a);if(!f||!d.hasAttribute("begin"))return null;const m=ug(d.getAttribute("begin"),o),g=ug(d.getAttribute("dur"),o);let v=ug(d.getAttribute("end"),o);if(m===null)throw aT(d);if(v===null){if(g===null)throw aT(d);v=m+g}const _=new E_(m-e,v-e,f);_.id=T_(_.startTime,_.endTime,_.text);const x=c[d.getAttribute("region")],b=l[d.getAttribute("style")],w=Sge(x,b,l),{textAlign:T}=w;if(T){const C=bge[T];C&&(_.lineAlign=C),_.align=T}return un(_,w),_}).filter(d=>d!==null)}function lg(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function oT(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function vO(t,e){return[].slice.call(t.childNodes).reduce((n,r,i)=>{var s;return r.nodeName==="br"&&i?n+`
`:(s=r.childNodes)!=null&&s.length?vO(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function Sge(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return o&&n.hasOwnProperty(o)&&(i=n[o]),s.reduce((a,l)=>{const c=cg(e,r,l)||cg(t,r,l)||cg(i,r,l);return c&&(a[l]=c),a},{})}function cg(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function aT(t){return new Error(`Could not parse ttml timestamp ${t}`)}function ug(t,e){if(!t)return null;let n=dO(t);return n===null&&(mO.test(t)?n=Ege(t,e):gO.test(t)&&(n=Tge(t,e))),n}function Ege(t,e){const n=mO.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function Tge(t,e){const n=gO.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class Lge{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=cT(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(R.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(R.FRAG_LOADING,this.onFragLoading,this),e.on(R.FRAG_LOADED,this.onFragLoaded,this),e.on(R.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(R.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(R.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(R.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(R.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(R.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(R.FRAG_LOADING,this.onFragLoading,this),e.off(R.FRAG_LOADED,this.onFragLoaded,this),e.off(R.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(R.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(R.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(R.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(R.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new K3(this,"textTrack1"),n=new K3(this,"textTrack2"),r=new K3(this,"textTrack3"),i=new K3(this,"textTrack4");this.cea608Parser1=new iT(1,e,n),this.cea608Parser2=new iT(3,r,i)}}addCues(e,n,r,i,s){let o=!1;for(let a=s.length;a--;){const l=s[a],c=Cge(l[0],l[1],n,r);if(c>=0&&(l[0]=Math.min(l[0],n),l[1]=Math.max(l[1],r),o=!0,c/(r-n)>.5))return}if(o||s.push([n,r]),this.config.renderTextTracksNatively){const a=this.captionsTracks[e];this.Cues.newCue(a,n,r,i)}else{const a=this.Cues.newCue(null,n,r,i);this.hls.trigger(R.CUES_PARSED,{type:"captions",cues:a,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){const{unparsedVttFrags:o}=this;r==="main"&&(this.initPTS[n.cc]={baseTime:i,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach(a=>{this.onFragLoaded(R.FRAG_LOADED,a)}))}getExistingTrack(e,n){const{media:r}=this;if(r)for(let i=0;i<r.textTracks.length;i++){const s=r.textTracks[i];if(lT(s,{name:e,lang:n,attrs:{}}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:i}=this,{label:s,languageCode:o}=n[e],a=this.getExistingTrack(s,o);if(a)r[e]=a,xc(r[e]),FD(r[e],i);else{const l=this.createTextTrack("captions",s,o);l&&(l[e]=!0,r[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,i={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(R.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,n,r){const i=this.media;if(i)return i.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(n=>{xc(e[n]),delete e[n]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=cT(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)xc(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],i=r.some(s=>s.textCodec===ag);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(cO(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const o=this.media,a=o?w0(o.textTracks):null;if(this.tracks.forEach((l,c)=>{let h;if(a){let d=null;for(let f=0;f<a.length;f++)if(a[f]&&lT(a[f],l)){d=a[f],a[f]=null;break}d&&(h=d)}if(h)xc(h);else{const d=yO(l);h=this.createTextTrack(d,l.name,l.lang),h&&(h.mode="disabled")}h&&this.textTracks.push(h)}),a!=null&&a.length){const l=a.filter(c=>c!==null).map(c=>c.label);l.length&&K.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const o=this.tracks.map(a=>({label:a.name,kind:a.type.toLowerCase(),default:a.default,subtitleTrack:a}));this.hls.trigger(R.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const i=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!i)return;const s=`textTrack${i[1]}`,o=this.captionsProperties[s];o&&(o.label=r.name,r.lang&&(o.languageCode=r.lang),o.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===Te.MAIN){var r,i;const{cea608Parser1:s,cea608Parser2:o,lastSn:a}=this,{cc:l,sn:c}=n.frag,h=(r=(i=n.part)==null?void 0:i.index)!=null?r:-1;s&&o&&(c!==a+1||c===a&&h!==this.lastPartIndex+1||l!==this.lastCc)&&(s.reset(),o.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=h}}onFragLoaded(e,n){const{frag:r,payload:i}=n;if(r.type===Te.SUBTITLE)if(i.byteLength){const s=r.decryptdata,o="stats"in n;if(s==null||!s.encrypted||o){const a=this.tracks[r.level],l=this.vttCCs;l[r.cc]||(l[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),a&&a.textCodec===ag?this._parseIMSC1(r,i):this._parseVTTs(n)}}else this.hls.trigger(R.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;sT(n,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),r.trigger(R.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{K.log(`Failed to parse IMSC1: ${i}`),r.trigger(R.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var n;const{frag:r,payload:i}=e,{initPTS:s,unparsedVttFrags:o}=this,a=s.length-1;if(!s[r.cc]&&a===-1){o.push(e);return}const l=this.hls,c=(n=r.initSegment)!=null&&n.data?ai(r.initSegment.data,new Uint8Array(i)):i;xge(c,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,h=>{this._appendCues(h,r.level),l.trigger(R.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},h=>{const d=h.message==="Missing initPTS for VTT MPEGTS";d?o.push(e):this._fallbackToIMSC1(r,i),K.log(`Failed to parse VTT cue: ${h}`),!(d&&a>r.cc)&&l.trigger(R.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:h})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||sT(n,this.initPTS[e.cc],()=>{r.textCodec=ag,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[n];if(!i||i.mode==="disabled")return;e.forEach(s=>$D(i,s))}else{const i=this.tracks[n];if(!i)return;const s=i.default?"default":"subtitles"+n;r.trigger(R.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===Te.SUBTITLE&&this.onFragLoaded(R.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){this.initCea608Parsers();const{cea608Parser1:r,cea608Parser2:i}=this;if(!this.enabled||!r||!i)return;const{frag:s,samples:o}=n;if(!(s.type===Te.MAIN&&this.closedCaptionsForLevel(s)==="NONE"))for(let a=0;a<o.length;a++){const l=o[a].bytes;if(l){const c=this.extractCea608Data(l);r.addData(o[a].pts,c[0]),i.addData(o[a].pts,c[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:s}){const{media:o}=this;if(!(!o||o.currentTime<r)){if(!s||s==="video"){const{captionsTracks:a}=this;Object.keys(a).forEach(l=>F7(a[l],n,r))}if(this.config.renderTextTracksNatively&&n===0&&i!==void 0){const{textTracks:a}=this;Object.keys(a).forEach(l=>F7(a[l],n,i))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let i=2;for(let s=0;s<r;s++){const o=e[i++],a=127&e[i++],l=127&e[i++];if(a===0&&l===0)continue;if((4&o)!==0){const h=3&o;(h===0||h===1)&&(n[h].push(a),n[h].push(l))}}return n}}function yO(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function lT(t,e){return!!t&&t.kind===yO(e)&&V7(e,t)}function Cge(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function cT(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class L_{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(R.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(R.BUFFER_CODECS,this.onBufferCodecs,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(R.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(R.BUFFER_CODECS,this.onBufferCodecs,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&_e(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&K.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=r,n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,L_.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const i=(a,l)=>l?a.width!==l.width||a.height!==l.height:!0;let s=e.length-1;const o=Math.max(n,r);for(let a=0;a<e.length;a+=1){const l=e[a];if((l.width>=o||l.height>=o)&&i(l,e[a+1])){s=a;break}}return s}}class kge{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(R.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(R.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const i=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}checkFPS(e,n,r){const i=performance.now();if(n){if(this.lastTime){const s=i-this.lastTime,o=r-this.lastDroppedFrames,a=n-this.lastDecodedFrames,l=1e3*o/s,c=this.hls;if(c.trigger(R.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:r}),l>0&&o>c.config.fpsDroppedMonitoringThreshold*a){let h=c.currentLevel;K.warn("drop FPS ratio greater than max allowed value for currentLevel: "+h),h>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=h)&&(h=h-1,c.trigger(R.FPS_DROP_LEVEL_CAPPING,{level:h,droppedLevel:c.currentLevel}),c.autoLevelCapping=h,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const Y3="[eme]";class Oc{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Oc.CDMCleanupPromise?[Oc.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=K.debug.bind(K,Y3),this.log=K.log.bind(K,Y3),this.warn=K.warn.bind(K,Y3),this.error=K.error.bind(K,Y3),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(R.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(R.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(R.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(R.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(R.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(R.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,i=n[e];if(i)return i.licenseUrl;if(e===Ct.WIDEVINE&&r)return r;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(o,a,l)=>!!o&&l.indexOf(o)===a,i=n.map(o=>o.audioCodec).filter(r),s=n.map(o=>o.videoCodec).filter(r);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((o,a)=>{const l=c=>{const h=c.shift();this.getMediaKeysPromise(h,i,s).then(d=>o({keySystem:h,mediaKeys:d})).catch(d=>{c.length?l(c):d instanceof qr?a(d):a(new qr({type:Ie.KEY_SYSTEM_ERROR,details:ee.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})};l(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${r}`;return ED===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return r(e,n)}getMediaKeysPromise(e,n,r){const i=D2e(e,n,r,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let o=s==null?void 0:s.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(i)}`),o=this.requestMediaKeySystemAccess(e,i);const a=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),o.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),a.mediaKeys=l.createMediaKeys().then(h=>(this.log(`Media-keys created for "${e}"`),c.then(d=>d?this.setMediaKeysServerCertificate(h,e,d):h))),a.mediaKeys.catch(h=>{this.error(`Failed to create media-keys for "${e}"}: ${h}`)}),a.mediaKeys})}return o.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${Yi.hexDump(e.keyId||[])}`);const i=r.createSession(),s={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),i=this.getKeyIdString(n),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,s,n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return Yi.hexDump(e.keyId)}updateKeySession(e,n){var r;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${Yi.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${n&&n.byteLength})`),i.update(n)}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((n,r)=>{const i=W6(this.config),s=e.map(m9).filter(o=>!!o&&i.indexOf(o)!==-1);return this.getKeySystemSelectionPromise(s).then(({keySystem:o})=>{const a=v9(o);a?n(a):r(new Error(`Unable to find format for key-system "${o}"`))}).catch(r)})}loadKey(e){const n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),i=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${i}`);let s=this.keyIdToKeySessionPromise[r];return s||(s=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(n).then(({keySystem:o,mediaKeys:a})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(o,a).then(()=>{this.throwIfDestroyed();const l=this.createMediaKeySessionContext({keySystem:o,mediaKeys:a,decryptdata:n});return this.generateRequestWithPreferredKeySession(l,"cenc",n.pssh,"playlist-key")}))),s.catch(o=>this.handleError(o))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof qr?this.hls.trigger(R.ERROR,e.data):this.hls.trigger(R.ERROR,{type:Ie.KEY_SYSTEM_ERROR,details:ee.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[n];if(!r){const i=m9(e.keyFormat),s=i?[i]:W6(this.config);return this.attemptKeySystemAccess(s)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=W6(this.config)),e.length===0)throw new qr({type:Ie.KEY_SYSTEM_ERROR,details:ee.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:n,initData:r}=e,i=`"${e.type}" event: init data type: "${n}"`;if(this.debug(i),r===null)return;let s,o;if(n==="sinf"&&this.config.drmSystems[Ct.FAIRPLAY]){const d=fn(new Uint8Array(r));try{const f=h_(JSON.parse(d).sinf),m=RD(new Uint8Array(f));if(!m)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");s=m.subarray(8,24),o=Ct.FAIRPLAY}catch(f){this.warn(`${i} Failed to parse sinf: ${f}`);return}}else{const d=sme(r),f=d.filter(m=>m.systemId===Oh.WIDEVINE)[0];if(!f){d.length===0||d.some(m=>!m.systemId)?this.warn(`${i} contains incomplete or invalid pssh data`):this.log(`ignoring ${i} for ${d.map(m=>g9(m.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(o=g9(f.systemId),f.version===0&&f.data){const m=f.data.length-22;s=f.data.subarray(m,m+16)}}if(!o||!s)return;const a=Yi.hexDump(s),{keyIdToKeySessionPromise:l,mediaKeySessions:c}=this;let h=l[a];for(let d=0;d<c.length;d++){const f=c[d],m=f.decryptdata;if(!m.keyId)continue;const g=Yi.hexDump(m.keyId);if(a===g||m.uri.replace(/-/g,"").indexOf(a)!==-1){if(h=l[g],m.pssh)break;delete l[g],m.pssh=new Uint8Array(r),m.keyId=s,h=l[a]=h.then(()=>this.generateRequestWithPreferredKeySession(f,n,r,"encrypted-event-key-match"));break}}h||(h=l[a]=this.getKeySystemSelectionPromise([o]).then(({keySystem:d,mediaKeys:f})=>{var m;this.throwIfDestroyed();const g=new Yd("ISO-23001-7",a,(m=v9(d))!=null?m:"");return g.pssh=new Uint8Array(r),g.keyId=s,this.attemptSetMediaKeys(d,f).then(()=>{this.throwIfDestroyed();const v=this.createMediaKeySessionContext({decryptdata:g,keySystem:d,mediaKeys:f});return this.generateRequestWithPreferredKeySession(v,n,r,"encrypted-event-no-match")})})),h.catch(d=>this.handleError(d))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,n){const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(r).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>r.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,n,r,i){var s,o;const a=(s=this.config.drmSystems)==null||(o=s[e.keySystem])==null?void 0:o.generateRequest;if(a)try{const g=a.call(this.hls,n,r,e);if(!g)throw new Error("Invalid response from configured generateRequest filter");n=g.initDataType,r=e.decryptdata.pssh=g.initData?new Uint8Array(g.initData):null}catch(g){var l;if(this.warn(g.message),(l=this.hls)!=null&&l.config.debug)throw g}if(r===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${c} (init data type: ${n} length: ${r?r.byteLength:null})`);const h=new S_,d=e._onmessage=g=>{const v=e.mediaKeysSession;if(!v){h.emit("error",new Error("invalid state"));return}const{messageType:_,message:x}=g;this.log(`"${_}" message event for session "${v.sessionId}" message size: ${x.byteLength}`),_==="license-request"||_==="license-renewal"?this.renewLicense(e,x).catch(b=>{this.handleError(b),h.emit("error",b)}):_==="license-release"?e.keySystem===Ct.FAIRPLAY&&(this.updateKeySession(e,O7("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${_}"`)},f=e._onkeystatuseschange=g=>{if(!e.mediaKeysSession){h.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const _=e.keyStatus;h.emit("keyStatus",_),_==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",d),e.mediaKeysSession.addEventListener("keystatuseschange",f);const m=new Promise((g,v)=>{h.on("error",v),h.on("keyStatus",_=>{_.startsWith("usable")?g():_==="output-restricted"?v(new qr({type:Ie.KEY_SYSTEM_ERROR,details:ee.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):_==="internal-error"?v(new qr({type:Ie.KEY_SYSTEM_ERROR,details:ee.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${_}"`)):_==="expired"?v(new Error("key expired while generating request")):this.warn(`unhandled key status change "${_}"`)})});return e.mediaKeysSession.generateRequest(n,r).then(()=>{var g;this.log(`Request generated for key-session "${(g=e.mediaKeysSession)==null?void 0:g.sessionId}" keyId: ${c}`)}).catch(g=>{throw new qr({type:Ie.KEY_SYSTEM_ERROR,details:ee.KEY_SYSTEM_NO_SESSION,error:g,fatal:!1},`Error generating key-session request: ${g}`)}).then(()=>m).catch(g=>{throw h.removeAllListeners(),this.removeSession(e),g}).then(()=>(h.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,r)=>{this.log(`key status change "${n}" for keyStatuses keyId: ${Yi.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${Yi.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,r=n.loader,i=new r(n),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((o,a)=>{const l={responseType:"arraybuffer",url:s},c=n.certLoadPolicy.default,h={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,m,g,v)=>{o(f.data)},onError:(f,m,g,v)=>{a(new qr({type:Ie.KEY_SYSTEM_ERROR,details:ee.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:An({url:l.url,data:void 0},f)},`"${e}" certificate request failed (${s}). Status: ${f.code} (${f.text})`))},onTimeout:(f,m,g)=>{a(new qr({type:Ie.KEY_SYSTEM_ERROR,details:ee.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(f,m,g)=>{a(new Error("aborted"))}};i.load(l,h,d)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((i,s)=>{e.setServerCertificate(r).then(o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${r==null?void 0:r.byteLength}) on "${n}"`),i(e)}).catch(o=>{s(new qr({type:Ie.KEY_SYSTEM_ERROR,details:ee.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:o,fatal:!0},o.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(i=>{throw new qr({type:Ie.KEY_SYSTEM_ERROR,details:ee.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}unpackPlayReadyKeyMessage(e,n){const r=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const i=new DOMParser().parseFromString(r,"application/xml"),s=i.querySelectorAll("HttpHeader");if(s.length>0){let h;for(let d=0,f=s.length;d<f;d++){var o,a;h=s[d];const m=(o=h.querySelector("name"))==null?void 0:o.textContent,g=(a=h.querySelector("value"))==null?void 0:a.textContent;m&&g&&e.setRequestHeader(m,g)}}const l=i.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return O7(atob(c))}setupLicenseXHR(e,n,r,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,n,r,i)}).catch(o=>{if(!r.decryptdata)throw o;return e.open("POST",n,!0),s.call(this.hls,e,n,r,i)}).then(o=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:o||i})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const o=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${o}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(a.readyState===4)if(a.status===200){this._requestLicenseFailureCount=0;let l=a.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,a,o,e)}catch(h){this.error(h)}i(l)}else{const l=r.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||a.status>=400&&a.status<500)s(new qr({type:Ie.KEY_SYSTEM_ERROR,details:ee.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:o,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${o}). Status: ${a.status} (${a.statusText})`));else{const h=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${h} attempts left`),this.requestLicense(e,n).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=a,this.setupLicenseXHR(a,o,e,n).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==Ct.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,n=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Yd.clearKeyUriToKeyIdMap();const r=n.length;Oc.CDMCleanupPromise=Promise.all(n.map(i=>this.removeSession(i)).concat(e==null?void 0:e.setMediaKeys(null).catch(i=>{this.log(`Could not clear media keys: ${i}`)}))).then(()=>{r&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(i=>{this.log(`Could not close sessions and clear media keys: ${i}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),n.remove().catch(s=>{this.log(`Could not remove session: ${s}`)}).then(()=>n.close()).catch(s=>{this.log(`Could not close session: ${s}`)})}}}Oc.CDMCleanupPromise=void 0;class qr extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}var Wn;(function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"})(Wn||(Wn={}));var H7;(function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"})(H7||(H7={}));var Va;(function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"})(Va||(Va={}));const Age={[Va.OBJECT]:["br","d","ot","tb"],[Va.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[Va.SESSION]:["cid","pr","sf","sid","st","v"],[Va.STATUS]:["bs","rtp"]};class uu{constructor(e,n){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(r=>r instanceof uu?r:new uu(r))),this.value=e,this.params=n}}class _O{constructor(e){this.description=void 0,this.description=e}}const Ige="Dict";function Pge(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function Rge(t,e,n,r){return new Error(`failed to ${t} "${Pge(e)}" as ${n}`,{cause:r})}const uT="Bare Item",Mge="Boolean",Dge="Byte Sequence",Oge="Decimal",Nge="Integer";function Fge(t){return t<-999999999999999||999999999999999<t}const $ge=/[\x00-\x1f\x7f]+/,zge="Token",Bge="Key";function hs(t,e,n){return Rge("serialize",t,e,n)}function Uge(t){if(typeof t!="boolean")throw hs(t,Mge);return t?"?1":"?0"}function jge(t){return btoa(String.fromCharCode(...t))}function Vge(t){if(ArrayBuffer.isView(t)===!1)throw hs(t,Dge);return`:${jge(t)}:`}function xO(t){if(Fge(t))throw hs(t,Nge);return t.toString()}function Gge(t){return`@${xO(t.getTime()/1e3)}`}function bO(t,e){if(t<0)return-bO(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const i=Math.floor(t*n);return(i%2===0?i:i+1)/n}else return Math.round(t*n)/n}function Hge(t){const e=bO(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw hs(t,Oge);const n=e.toString();return n.includes(".")?n:`${n}.0`}const Wge="String";function Kge(t){if($ge.test(t))throw hs(t,Wge);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function qge(t){return t.description||t.toString().slice(7,-1)}function hT(t){const e=qge(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw hs(e,zge);return e}function W7(t){switch(typeof t){case"number":if(!_e(t))throw hs(t,uT);return Number.isInteger(t)?xO(t):Hge(t);case"string":return Kge(t);case"symbol":return hT(t);case"boolean":return Uge(t);case"object":if(t instanceof Date)return Gge(t);if(t instanceof Uint8Array)return Vge(t);if(t instanceof _O)return hT(t);default:throw hs(t,uT)}}function K7(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw hs(t,Bge);return t}function C_(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${K7(e)}`:`;${K7(e)}=${W7(n)}`).join("")}function wO(t){return t instanceof uu?`${W7(t.value)}${C_(t.params)}`:W7(t)}function Yge(t){return`(${t.value.map(wO).join(" ")})${C_(t.params)}`}function Zge(t,e={whitespace:!0}){if(typeof t!="object")throw hs(t,Ige);const n=t instanceof Map?t.entries():Object.entries(t),r=e!=null&&e.whitespace?" ":"";return Array.from(n).map(([i,s])=>{s instanceof uu||(s=new uu(s));let o=K7(i);return s.value===!0?o+=C_(s.params):(o+="=",Array.isArray(s.value)?o+=Yge(s):o+=wO(s)),o}).join(`,${r}`)}function Xge(t,e){return Zge(t,e)}const Qge=t=>t==="ot"||t==="sf"||t==="st",Jge=t=>typeof t=="number"?_e(t):t!=null&&t!==""&&t!==!1;function e5e(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const i=n.pathname.split("/").slice(1),s=r.pathname.split("/").slice(1,-1);for(;i[0]===s[0];)i.shift(),s.shift();for(;s.length;)s.shift(),i.unshift("..");return i.join("/")}function t5e(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(i=="x"?s:s&3|8).toString(16)})}}}const k0=t=>Math.round(t),n5e=(t,e)=>(e!=null&&e.baseUrl&&(t=e5e(t,e.baseUrl)),encodeURIComponent(t)),Z3=t=>k0(t/100)*100,r5e={br:k0,d:k0,bl:Z3,dl:Z3,mtp:Z3,nor:n5e,rtp:Z3,tb:k0};function i5e(t,e){const n={};if(t==null||typeof t!="object")return n;const r=Object.keys(t).sort(),i=un({},r5e,e==null?void 0:e.formatters),s=e==null?void 0:e.filter;return r.forEach(o=>{if(s!=null&&s(o))return;let a=t[o];const l=i[o];l&&(a=l(a,e)),!(o==="v"&&a===1)&&(o=="pr"&&a===1||Jge(a)&&(Qge(o)&&typeof a=="string"&&(a=new _O(a)),n[o]=a))}),n}function SO(t,e={}){return t?Xge(i5e(t,e),un({whitespace:!1},e)):""}function s5e(t,e={}){if(!t)return{};const n=Object.entries(t),r=Object.entries(Age).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),i=n.reduce((s,o)=>{var a,l;const[c,h]=o,d=((a=r.find(f=>f[1].includes(c)))==null?void 0:a[0])||Va.REQUEST;return(l=s[d])!=null||(s[d]={}),s[d][c]=h,s},{});return Object.entries(i).reduce((s,[o,a])=>(s[o]=SO(a,e),s),{})}function o5e(t,e,n){return un(t,s5e(e,n))}const a5e="CMCD";function l5e(t,e={}){if(!t)return"";const n=SO(t,e);return`${a5e}=${encodeURIComponent(n)}`}const dT=/CMCD=[^&#]+/;function c5e(t,e,n){const r=l5e(e,n);if(!r)return t;if(dT.test(t))return t.replace(dT,r);const i=t.includes("?")?"&":"?";return`${t}${i}${r}`}class u5e{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:Wn.MANIFEST,su:!this.initialized})}catch(s){K.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const s=i.frag,o=this.hls.levels[s.level],a=this.getObjectType(s),l={d:s.duration*1e3,ot:a};(a===Wn.VIDEO||a===Wn.AUDIO||a==Wn.MUXED)&&(l.br=o.bitrate/1e3,l.tb=this.getTopBandwidth(a)/1e3,l.bl=this.getBufferLength(a)),this.apply(i,l)}catch(s){K.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||t5e(),this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHED,this.onMediaDetached,this),e.on(R.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHED,this.onMediaDetached,this),e.off(R.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,i;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(i=n.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:H7.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){un(n,this.createData());const r=n.ot===Wn.INIT||n.ot===Wn.VIDEO||n.ot===Wn.MUXED;this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:i}=this;i&&(n=Object.keys(n).reduce((s,o)=>(i.includes(o)&&(s[o]=n[o]),s),{})),this.useHeaders?(e.headers||(e.headers={}),o5e(e.headers,n)):e.url=c5e(e.url,n)}getObjectType(e){const{type:n}=e;if(n==="subtitle")return Wn.TIMED_TEXT;if(e.sn==="initSegment")return Wn.INIT;if(n==="audio")return Wn.AUDIO;if(n==="main")return this.hls.audioTracks.length?Wn.VIDEO:Wn.MUXED}getTopBandwidth(e){let n=0,r;const i=this.hls;if(e===Wn.AUDIO)r=i.audioTracks;else{const s=i.maxAutoLevel,o=s>-1?s+1:i.levels.length;r=i.levels.slice(0,o)}for(const s of r)s.bitrate>n&&(n=s.bitrate);return n>0?n:NaN}getBufferLength(e){const n=this.hls.media,r=e===Wn.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:Lt.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){n(s),this.loader.load(s,o,a)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){n(s),this.loader.load(s,o,a)}}}}const h5e=3e5;class d5e{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=K.log.bind(K,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if((r==null?void 0:r.action)===On.SendAlternateToPenaltyBox&&r.flags===mi.MoveAllAlternatesMatchingHost){const i=this.levels;let s=this.pathwayPriority,o=this.pathwayId;if(n.context){const{groupId:a,pathwayId:l,type:c}=n.context;a&&i?o=this.getPathwayForGroupId(a,c,o):l&&(o=l)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!s&&i&&(s=i.reduce((a,l)=>(a.indexOf(l.pathwayId)===-1&&a.push(l.pathwayId),a),[])),s&&s.length>1&&(this.updatePathwayPriority(s),r.resolved=this.pathwayId!==o),r.resolved||K.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${o} levels: ${i&&i.length} priorities: ${JSON.stringify(s)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length?(this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n):e}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let n;const r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(s=>{i-r[s]>h5e&&delete r[s]});for(let s=0;s<e.length;s++){const o=e[s];if(o in r)continue;if(o===this.pathwayId)return;const a=this.hls.nextLoadLevel,l=this.hls.levels[a];if(n=this.getLevelsForPathway(o),n.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,jD(n),this.hls.trigger(R.LEVELS_UPDATED,{levels:n});const c=this.hls.levels[a];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=a);break}}}getPathwayForGroupId(e,n,r){const i=this.getLevelsForPathway(r).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(n===tt.AUDIO_TRACK&&i[s].hasAudioGroup(e)||n===tt.SUBTITLE_TRACK&&i[s].hasSubtitleGroup(e))return i[s].pathwayId;return r}clonePathways(e){const n=this.levels;if(!n)return;const r={},i={};e.forEach(s=>{const{ID:o,"BASE-ID":a,"URI-REPLACEMENT":l}=s;if(n.some(h=>h.pathwayId===o))return;const c=this.getLevelsForPathway(a).map(h=>{const d=new zt(h.attrs);d["PATHWAY-ID"]=o;const f=d.AUDIO&&`${d.AUDIO}_clone_${o}`,m=d.SUBTITLES&&`${d.SUBTITLES}_clone_${o}`;f&&(r[d.AUDIO]=f,d.AUDIO=f),m&&(i[d.SUBTITLES]=m,d.SUBTITLES=m);const g=EO(h.uri,d["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),v=new lu({attrs:d,audioCodec:h.audioCodec,bitrate:h.bitrate,height:h.height,name:h.name,url:g,videoCodec:h.videoCodec,width:h.width});if(h.audioGroups)for(let _=1;_<h.audioGroups.length;_++)v.addGroupId("audio",`${h.audioGroups[_]}_clone_${o}`);if(h.subtitleGroups)for(let _=1;_<h.subtitleGroups.length;_++)v.addGroupId("text",`${h.subtitleGroups[_]}_clone_${o}`);return v});n.push(...c),fT(this.audioTracks,r,l,o),fT(this.subtitleTracks,i,l,o)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const h=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+h)}const s={responseType:"json",url:i.href},o=n.steeringManifestLoadPolicy.default,a=o.errorRetry||o.timeoutRetry||{},l={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(h,d,f,m)=>{this.log(`Loaded steering manifest: "${i}"`);const g=h.data;if(g.VERSION!==1){this.log(`Steering VERSION ${g.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=g.TTL;const{"RELOAD-URI":v,"PATHWAY-CLONES":_,"PATHWAY-PRIORITY":x}=g;if(v)try{this.uri=new self.URL(v,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${v}`);return}this.scheduleRefresh(this.uri||f.url),_&&this.clonePathways(_);const b={steeringManifest:g,url:i.toString()};this.hls.trigger(R.STEERING_MANIFEST_LOADED,b),x&&this.updatePathwayPriority(x)},onError:(h,d,f,m)=>{if(this.log(`Error loading steering manifest: ${h.code} ${h.text} (${d.url})`),this.stopLoad(),h.code===410){this.enabled=!1,this.log(`Steering manifest ${d.url} no longer available`);return}let g=this.timeToLoad*1e3;if(h.code===429){const v=this.loader;if(typeof(v==null?void 0:v.getResponseHeader)=="function"){const _=v.getResponseHeader("Retry-After");_&&(g=parseFloat(_)*1e3)}this.log(`Steering manifest ${d.url} rate limited`);return}this.scheduleRefresh(this.uri||d.url,g)},onTimeout:(h,d,f)=>{this.log(`Timeout loading steering manifest (${d.url})`),this.scheduleRefresh(this.uri||d.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,l,c)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const i=(r=this.hls)==null?void 0:r.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function fT(t,e,n,r){t&&Object.keys(e).forEach(i=>{const s=t.filter(o=>o.groupId===i).map(o=>{const a=un({},o);return a.details=void 0,a.attrs=new zt(a.attrs),a.url=a.attrs.URI=EO(o.url,o.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=e[i],a.attrs["PATHWAY-ID"]=r,a});t.push(...s)})}function EO(t,e,n,r){const{HOST:i,PARAMS:s,[n]:o}=r;let a;e&&(a=o==null?void 0:o[e],a&&(t=a));const l=new self.URL(t);return i&&!a&&(l.host=i),s&&Object.keys(s).sort().forEach(c=>{c&&l.searchParams.set(c,s[c])}),l.href}const f5e=/^age:\s*[\d.]+\s*$/im;class TO{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new T2,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return s(r,n.url)}).catch(o=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",n.url,!0),s(r,n.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(o=>{this.callbacks.onError({code:r.status,text:o.message},n,r,i)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const i=n.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:o}=r.loadPolicy;if(i)for(const a in i)e.setRequestHeader(a,i[a]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=s&&_e(s)?s:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const i=n.readyState,s=this.config;if(!r.aborted&&i>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const o=n.status,a=n.responseType!=="text";if(o>=200&&o<300&&(a&&n.response||n.responseText!==null)){r.loading.end=Math.max(self.performance.now(),r.loading.first);const l=a?n.response:n.responseText,c=n.responseType==="arraybuffer"?l.byteLength:l.length;if(r.loaded=r.total=c,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first),!this.callbacks)return;const h=this.callbacks.onProgress;if(h&&h(r,e,l,n),!this.callbacks)return;const d={url:n.responseURL,data:l,code:o};this.callbacks.onSuccess(d,r,e,n)}else{const l=s.loadPolicy.errorRetry,c=r.retry,h={url:e.url,data:void 0,code:o};c1(l,c,!1,h)?this.retry(l):(K.error(`${o} while loading ${e.url}`),this.callbacks.onError({code:o,text:n.statusText},e,n,r))}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(c1(e,n,!0))this.retry(e);else{var r;K.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=p_(e,r.retry),r.retry++,K.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n==null?void 0:n.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&f5e.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function p5e(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const m5e=/(\d+)-(\d+)\/(\d+)/;class pT{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||_5e,this.controller=new self.AbortController,this.stats=new T2}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=g5e(e,this.controller.signal),o=r.onProgress,a=e.responseType==="arraybuffer",l=a?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:h}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),n.timeout=c&&_e(c)?c:h,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},n.timeout),self.fetch(this.request).then(d=>{this.response=this.loader=d;const f=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=h,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},h-(f-i.loading.start)),!d.ok){const{status:m,statusText:g}=d;throw new x5e(g||"fetch, bad network response",m,d)}return i.loading.first=f,i.total=y5e(d.headers)||i.total,o&&_e(n.highWaterMark)?this.loadProgressively(d,i,e,n.highWaterMark,o):a?d.arrayBuffer():e.responseType==="json"?d.json():d.text()}).then(d=>{const f=this.response;if(!f)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const m=d[l];m&&(i.loaded=i.total=m);const g={url:f.url,data:d,code:f.status};o&&!_e(n.highWaterMark)&&o(i,e,d,f),r.onSuccess(g,i,e,f)}).catch(d=>{if(self.clearTimeout(this.requestTimeout),i.aborted)return;const f=d&&d.code||0,m=d?d.message:null;r.onError({code:f,text:m},e,d?d.details:null,i)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,i=0,s){const o=new WD,a=e.body.getReader(),l=()=>a.read().then(c=>{if(c.done)return o.dataLength&&s(n,r,o.flush(),e),Promise.resolve(new ArrayBuffer(0));const h=c.value,d=h.length;return n.loaded+=d,d<i||o.dataLength?(o.push(h),o.dataLength>=i&&s(n,r,o.flush(),e)):s(n,r,h,e),l()}).catch(()=>Promise.reject());return l()}}function g5e(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(un({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function v5e(t){const e=m5e.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function y5e(t){const e=t.get("Content-Range");if(e){const r=v5e(e);if(_e(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function _5e(t,e){return new self.Request(t.url,e)}class x5e extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const b5e=/\s/,w5e={newCue(t,e,n,r){const i=[];let s,o,a,l,c;const h=self.VTTCue||self.TextTrackCue;for(let f=0;f<r.rows.length;f++)if(s=r.rows[f],a=!0,l=0,c="",!s.isEmpty()){var d;for(let v=0;v<s.chars.length;v++)b5e.test(s.chars[v].uchar)&&a?l++:(c+=s.chars[v].uchar,a=!1);s.cueStartTime=e,e===n&&(n+=1e-4),l>=16?l--:l++;const m=pO(c.trim()),g=T_(e,n,m);t!=null&&(d=t.cues)!=null&&d.getCueById(g)||(o=new h(e,n,m),o.id=g,o.line=f+1,o.align="left",o.position=10+Math.min(80,Math.floor(l*8/32)*10),i.push(o))}return t&&i.length&&(i.sort((f,m)=>f.line==="auto"||m.line==="auto"?0:f.line>8&&m.line>8?m.line-f.line:f.line-m.line),i.forEach(f=>$D(t,f))),i}},S5e={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},LO=An(An({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:TO,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Zme,bufferController:ege,capLevelController:L_,errorController:$me,fpsController:kge,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:ED,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:S5e},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},E5e()),{},{subtitleStreamController:Z6e,subtitleTrackController:Q6e,timelineController:Lge,audioStreamController:q6e,audioTrackController:Y6e,emeController:Oc,cmcdController:u5e,contentSteeringController:d5e});function E5e(){return{cueHandler:w5e,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function T5e(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=q7(t),r=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return r.forEach(s=>{const o=`${s==="level"?"playlist":s}LoadPolicy`,a=e[o]===void 0,l=[];i.forEach(c=>{const h=`${s}Loading${c}`,d=e[h];if(d!==void 0&&a){l.push(h);const f=n[o].default;switch(e[o]={default:f},c){case"TimeOut":f.maxLoadTimeMs=d,f.maxTimeToFirstByteMs=d;break;case"MaxRetry":f.errorRetry.maxNumRetry=d,f.timeoutRetry.maxNumRetry=d;break;case"RetryDelay":f.errorRetry.retryDelayMs=d,f.timeoutRetry.retryDelayMs=d;break;case"MaxRetryTimeout":f.errorRetry.maxRetryDelayMs=d,f.timeoutRetry.maxRetryDelayMs=d;break}}}),l.length&&K.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(e[o])}`)}),An(An({},n),e)}function q7(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(q7):Object.keys(t).reduce((e,n)=>(e[n]=q7(t[n]),e),{}):t}function L5e(t){const e=t.loader;e!==pT&&e!==TO?(K.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):p5e()&&(t.loader=pT,t.progressive=!0,t.enableSoftwareAES=!0,K.log("[config]: Progressive streaming enabled, using FetchLoader"))}let hg;class C5e extends m_{constructor(e,n){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(R.LEVEL_LOADED,this.onLevelLoaded,this),e.on(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this),e.on(R.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(R.LEVEL_LOADED,this.onLevelLoaded,this),e.off(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this),e.off(R.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=this.hls.config.preferManagedMediaSource,i=[],s={},o={};let a=!1,l=!1,c=!1;n.levels.forEach(h=>{var d,f;const m=h.attrs;let{audioCodec:g,videoCodec:v}=h;((d=g)==null?void 0:d.indexOf("mp4a.40.34"))!==-1&&(hg||(hg=/chrome|firefox/i.test(navigator.userAgent)),hg&&(h.audioCodec=g=void 0)),g&&(h.audioCodec=g=o1(g,r)),((f=v)==null?void 0:f.indexOf("avc1"))===0&&(v=h.videoCodec=fme(v));const{width:_,height:x,unknownCodecs:b}=h;if(a||(a=!!(_&&x)),l||(l=!!v),c||(c=!!g),b!=null&&b.length||g&&!Z6(g,"audio",r)||v&&!Z6(v,"video",r))return;const{CODECS:w,"FRAME-RATE":T,"HDCP-LEVEL":C,"PATHWAY-ID":I,RESOLUTION:M,"VIDEO-RANGE":A}=m,N=`${`${I||"."}-`}${h.bitrate}-${M}-${T}-${w}-${A}-${C}`;if(s[N])if(s[N].uri!==h.url&&!h.attrs["PATHWAY-ID"]){const z=o[N]+=1;h.attrs["PATHWAY-ID"]=new Array(z+1).join(".");const H=new lu(h);s[N]=H,i.push(H)}else s[N].addGroupId("audio",m.AUDIO),s[N].addGroupId("text",m.SUBTITLES);else{const z=new lu(h);s[N]=z,o[N]=1,i.push(z)}}),this.filterAndSortMediaOptions(i,n,a,l,c)}filterAndSortMediaOptions(e,n,r,i,s){let o=[],a=[],l=e;if((r||i)&&s&&(l=l.filter(({videoCodec:g,videoRange:v,width:_,height:x})=>(!!g||!!(_&&x))&&Lme(v))),l.length===0){Promise.resolve().then(()=>{if(this.hls){n.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(n.levels[0].attrs)}`);const g=new Error("no level with compatible codecs found in manifest");this.hls.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:g,reason:g.message})}});return}if(n.audioTracks){const{preferManagedMediaSource:g}=this.hls.config;o=n.audioTracks.filter(v=>!v.audioCodec||Z6(v.audioCodec,"audio",g)),mT(o)}n.subtitles&&(a=n.subtitles,mT(a));const c=l.slice(0);l.sort((g,v)=>{if(g.attrs["HDCP-LEVEL"]!==v.attrs["HDCP-LEVEL"])return(g.attrs["HDCP-LEVEL"]||"")>(v.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&g.height!==v.height)return g.height-v.height;if(g.frameRate!==v.frameRate)return g.frameRate-v.frameRate;if(g.videoRange!==v.videoRange)return a1.indexOf(g.videoRange)-a1.indexOf(v.videoRange);if(g.videoCodec!==v.videoCodec){const _=w9(g.videoCodec),x=w9(v.videoCodec);if(_!==x)return x-_}if(g.uri===v.uri&&g.codecSet!==v.codecSet){const _=s1(g.codecSet),x=s1(v.codecSet);if(_!==x)return x-_}return g.averageBitrate!==v.averageBitrate?g.averageBitrate-v.averageBitrate:0});let h=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let g=0;g<c.length;g++)if(c[g].pathwayId===l[0].pathwayId){h=c[g];break}}this._levels=l;for(let g=0;g<l.length;g++)if(l[g]===h){var d;this._firstLevel=g;const v=h.bitrate,_=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${v}`),((d=this.hls.userConfig)==null?void 0:d.abrEwmaDefaultEstimate)===void 0){const x=Math.min(v,this.hls.config.abrEwmaDefaultEstimateMax);x>_&&_===LO.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=x)}break}const f=s&&!i,m={levels:l,audioTracks:o,subtitleTracks:a,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:s,video:i,altAudio:!f&&o.some(g=>!!g.url)};this.hls.trigger(R.MANIFEST_PARSED,m),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const h=new Error("invalid level idx"),d=e<0;if(this.hls.trigger(R.ERROR,{type:Ie.OTHER_ERROR,details:ee.LEVEL_SWITCH_ERROR,level:e,fatal:d,error:h,reason:h.message}),d)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,o=n[e],a=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,r===e&&o.details&&i&&s===a)return;this.log(`Switching to level ${e} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${a?" with Pathway "+a:""} from level ${r}${s?" with Pathway "+s:""}`);const l={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(R.LEVEL_SWITCHING,l);const c=o.details;if(!c||c.live){const h=this.switchParams(o.uri,i==null?void 0:i.details,c);this.loadPlaylist(h)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,n){n.fatal||!n.context||n.context.type===tt.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===Te.MAIN){const r=n.elementaryStreams;if(!Object.keys(r).some(s=>!!r[s]))return;const i=this._levels[n.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,n){var r;const{level:i,details:s}=n,o=this._levels[i];if(!o){var a;this.warn(`Invalid level index ${i}`),(a=n.deliveryDirectives)!=null&&a.skip&&(s.deltaUpdateFailed=!0);return}i===this.currentLevelIndex?(o.fragmentError===0&&(o.loadError=0),this.playlistLoaded(i,n,o.details)):(r=n.deliveryDirectives)!=null&&r.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const n=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){let i=r.uri;if(e)try{i=e.addDirectives(i)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}const s=r.attrs["PATHWAY-ID"];this.log(`Loading level index ${n}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${s?" Pathway "+s:""} ${i}`),this.clearTimer(),this.hls.trigger(R.LEVEL_LOADING,{url:i,level:n,pathwayId:r.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;const r=this._levels.filter((i,s)=>s!==e?!0:(this.steering&&this.steering.removeLevel(i),i===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,i.details&&i.details.fragments.forEach(o=>o.level=-1)),!1));jD(r),this._levels=r,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(R.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(R.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function mT(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}class k5e{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[r].loader;if(i){var n;if(e&&e!==((n=i.context)==null?void 0:n.frag.type))return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;n&&n.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,n=ee.KEY_LOAD_ERROR,r,i,s){return new Cs({type:Ie.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:s,error:r,networkDetails:i})}loadClear(e,n){if(this.emeController&&this.config.emeEnabled){const{sn:r,cc:i}=e;for(let s=0;s<n.length;s++){const o=n[s];if(i<=o.cc&&(r==="initSegment"||o.sn==="initSegment"||r<o.sn)){this.emeController.selectKeySystemFormat(o).then(a=>{o.setKeyFormat(a)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,i;n&&e.setKeyFormat(n);const s=e.decryptdata;if(!s){const c=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,ee.KEY_LOAD_ERROR,c))}const o=s.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,ee.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let a=this.keyUriToKeyInfo[o];if((r=a)!=null&&r.decryptdata.key)return s.key=a.decryptdata.key,Promise.resolve({frag:e,keyInfo:a});if((i=a)!=null&&i.keyLoadPromise){var l;switch((l=a.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then(c=>(s.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:a}))}}switch(a=this.keyUriToKeyInfo[o]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(a,e):this.loadKeyEME(a,e);case"AES-128":return this.loadKeyHTTP(a,e);default:return Promise.reject(this.createKeyLoadError(e,ee.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(r);if(i)return(e.keyLoadPromise=i.then(s=>(e.mediaKeySessionContext=s,r))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,i=r.loader,s=new i(r);return n.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((o,a)=>{const l={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},c=r.keyLoadPolicy.default,h={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,m,g,v)=>{const{frag:_,keyInfo:x,url:b}=g;if(!_.decryptdata||x!==this.keyUriToKeyInfo[b])return a(this.createKeyLoadError(_,ee.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),v));x.decryptdata.key=_.decryptdata.key=new Uint8Array(f.data),_.keyLoader=null,x.loader=null,o({frag:_,keyInfo:x})},onError:(f,m,g,v)=>{this.resetLoader(m),a(this.createKeyLoadError(n,ee.KEY_LOAD_ERROR,new Error(`HTTP Error ${f.code} loading key ${f.text}`),g,An({url:l.url,data:void 0},f)))},onTimeout:(f,m,g)=>{this.resetLoader(m),a(this.createKeyLoadError(n,ee.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),g))},onAbort:(f,m,g)=>{this.resetLoader(m),a(this.createKeyLoadError(n,ee.INTERNAL_ABORTED,new Error("key loading aborted"),g))}};s.load(l,h,d)})}resetLoader(e){const{frag:n,keyInfo:r,url:i}=e,s=r.loader;n.keyLoader===s&&(n.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[i],s&&s.destroy()}}function CO(){return self.SourceBuffer||self.WebKitSourceBuffer}function kO(){if(!pl())return!1;const e=CO();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function A5e(){if(!kO())return!1;const t=pl();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(Zd(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(Zd(e,"audio"))))}function I5e(){var t;const e=CO();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const P5e=250,A0=2,R5e=.1,M5e=.05;class D5e{constructor(e,n,r,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=n,this.fragmentTracker=r,this.hls=i}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,n){const{config:r,media:i,stalled:s}=this;if(i===null)return;const{currentTime:o,seeking:a}=i,l=this.seeking&&!a,c=!this.seeking&&a;if(this.seeking=a,o!==e){if(this.moved=!0,a||(this.nudgeRetry=0),s!==null){if(this.stallReported){const _=self.performance.now()-s;K.warn(`playback not stuck anymore @${o}, after ${Math.round(_)}ms`),this.stallReported=!1}this.stalled=null}return}if(c||l){this.stalled=null;return}if(i.paused&&!a||i.ended||i.playbackRate===0||!Lt.getBuffered(i).length){this.nudgeRetry=0;return}const h=Lt.bufferInfo(i,o,0),d=h.nextStart||0;if(a){const _=h.len>A0,x=!d||n&&n.start<=o||d-o>A0&&!this.fragmentTracker.getPartialFragment(o);if(_||x)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var f;if(!(h.len>0)&&!d)return;const x=Math.max(d,h.start||0)-o,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,T=(b==null||(f=b.details)==null?void 0:f.live)?b.details.targetduration*2:A0,C=this.fragmentTracker.getPartialFragment(o);if(x>0&&(x<=T||C)){i.paused||this._trySkipBufferHole(C);return}}const m=self.performance.now();if(s===null){this.stalled=m;return}const g=m-s;if(!a&&g>=P5e&&(this._reportStall(h),!this.media))return;const v=Lt.bufferInfo(i,o,r.maxBufferHole);this._tryFixBufferStall(v,g)}_tryFixBufferStall(e,n){const{config:r,fragmentTracker:i,media:s}=this;if(s===null)return;const o=s.currentTime,a=i.getPartialFragment(o);a&&(this._trySkipBufferHole(a)||!this.media)||(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-o<r.maxBufferHole)&&n>r.highBufferWatchdogPeriod*1e3&&(K.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:n,media:r,stallReported:i}=this;if(!i&&r){this.stallReported=!0;const s=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(e)})`);K.warn(s.message),n.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len})}}_trySkipBufferHole(e){const{config:n,hls:r,media:i}=this;if(i===null)return 0;const s=i.currentTime,o=Lt.bufferInfo(i,s,0),a=s<o.start?o.start:o.nextStart;if(a){const l=o.len<=n.maxBufferHole,c=o.len>0&&o.len<1&&i.readyState<3,h=a-s;if(h>0&&(l||c)){if(h>n.maxBufferHole){const{fragmentTracker:f}=this;let m=!1;if(s===0){const g=f.getAppendedFrag(0,Te.MAIN);g&&a<g.end&&(m=!0)}if(!m){const g=e||f.getAppendedFrag(s,Te.MAIN);if(g){let v=!1,_=g.end;for(;_<a;){const x=f.getPartialFragment(_);if(x)_+=x.duration;else{v=!0;break}}if(v)return 0}}}const d=Math.max(a+M5e,s+R5e);if(K.warn(`skipping hole, adjusting currentTime from ${s} to ${d}`),this.moved=!0,this.stalled=null,i.currentTime=d,e&&!e.gap){const f=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${d}`);r.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:e})}return d}}return 0}_tryNudgeBuffer(){const{config:e,hls:n,media:r,nudgeRetry:i}=this;if(r===null)return;const s=r.currentTime;if(this.nudgeRetry++,i<e.nudgeMaxRetry){const o=s+(i+1)*e.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${s} to ${o}`);K.warn(a.message),r.currentTime=o,n.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{const o=new Error(`Playhead still not moving while enough data buffered @${s} after ${e.nudgeMaxRetry} nudges`);K.error(o.message),n.trigger(R.ERROR,{type:Ie.MEDIA_ERROR,details:ee.BUFFER_STALLED_ERROR,error:o,fatal:!0})}}}const O5e=100;class N5e extends y_{constructor(e,n,r){super(e,n,r,"[stream-controller]",Te.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.LEVEL_LOADING,this.onLevelLoading,this),e.on(R.LEVEL_LOADED,this.onLevelLoaded,this),e.on(R.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(R.ERROR,this.onError,this),e.on(R.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(R.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(R.BUFFER_CREATED,this.onBufferCreated,this),e.on(R.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.LEVEL_LOADED,this.onLevelLoaded,this),e.off(R.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(R.ERROR,this.onError,this),e.off(R.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(R.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(R.BUFFER_CREATED,this.onBufferCreated,this),e.off(R.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:n,hls:r}=this;if(this.stopLoad(),this.setInterval(O5e),this.level=-1,!this.startFragRequested){let i=r.startLevel;i===-1&&(r.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=r.firstAutoLevel),r.nextLoadLevel=i,this.level=r.loadLevel,this.loadedmetadata=!1}n>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=oe.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=oe.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case oe.WAITING_LEVEL:{const{levels:n,level:r}=this,i=n==null?void 0:n[r],s=i==null?void 0:i.details;if(s&&(!s.live||this.levelLastLoaded===i)){if(this.waitForCdnTuneIn(s))break;this.state=oe.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=oe.IDLE;break}break}case oe.FRAG_LOADING_WAITING_RETRY:{var e;const n=self.performance.now(),r=this.retryDate;if(!r||n>=r||(e=this.media)!=null&&e.seeking){const{levels:i,level:s}=this,o=i==null?void 0:i[s];this.resetStartWhenNotLoaded(o||null),this.state=oe.IDLE}}break}this.state===oe.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:i}=this;if(n===null||!i&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=e.nextLoadLevel;if(!(r!=null&&r[s]))return;const o=r[s],a=this.getMainFwdBufferInfo();if(a===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(a,l)){const v={};this.altAudio&&(v.type="video"),this.hls.trigger(R.BUFFER_EOS,v),this.state=oe.ENDED;return}e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const c=o.details;if(!c||this.state===oe.WAITING_LEVEL||c.live&&this.levelLastLoaded!==o){this.level=s,this.state=oe.WAITING_LEVEL;return}const h=a.len,d=this.getMaxBufferLength(o.maxBitrate);if(h>=d)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);const f=this.backtrackFragment?this.backtrackFragment.start:a.end;let m=this.getNextFragment(f,c);if(this.couldBacktrack&&!this.fragPrevious&&m&&m.sn!=="initSegment"&&this.fragmentTracker.getState(m)!==Tn.OK){var g;const _=((g=this.backtrackFragment)!=null?g:m).sn-c.startSN,x=c.fragments[_-1];x&&m.cc===x.cc&&(m=x,this.fragmentTracker.removeFragment(x))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(m&&this.isLoopLoading(m,f)){if(!m.gap){const _=this.audioOnly&&!this.altAudio?mt.AUDIO:mt.VIDEO,x=(_===mt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;x&&this.afterBufferFlushed(x,_,Te.MAIN)}m=this.getNextFragmentLoopLoading(m,c,a,Te.MAIN,d)}m&&(m.initSegment&&!m.initSegment.data&&!this.bitrateTest&&(m=m.initSegment),this.loadFragment(m,o,f))}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===Tn.NOT_LOADED||i===Tn.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,n):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):(this.startFragRequested=!0,super.loadFragment(e,n,r)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Te.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const i=this.getAppendedFrag(n.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const a=this.getMainFwdBufferInfo();if(!a||a.len<s.targetduration*2)return}if(!n.paused&&e){const a=this.hls.nextLoadLevel,l=e[a],c=this.fragLastKbps;c&&this.fragCurrent?r=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:r=0}else r=0;const o=this.getBufferedFrag(n.currentTime+r);if(o){const a=this.followingBufferedFrag(o);if(a){this.abortCurrentFrag();const l=a.maxStartPTS?a.maxStartPTS:a.start,c=a.duration,h=Math.max(o.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(h,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case oe.KEY_LOADING:case oe.FRAG_LOADING:case oe.FRAG_LOADING_WAITING_RETRY:case oe.PARSING:case oe.PARSED:this.state=oe.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new D5e(this.config,r,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,n=e?e.currentTime:null;_e(n)&&this.log(`Media seeked to ${n.toFixed(3)}`);const r=this.getMainFwdBufferInfo();if(r===null||r.len===0){this.warn(`Main forward buffer length on "seeked" event ${r?r.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(R.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,n){let r=!1,i=!1;n.levels.forEach(s=>{const o=s.audioCodec;o&&(r=r||o.indexOf("mp4a.40.2")!==-1,i=i||o.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=r&&i&&!I5e(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==oe.IDLE)return;const i=r[n.level];(!i.details||i.details.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(i.details))&&(this.state=oe.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:i}=this,s=n.level,o=n.details,a=o.totalduration;if(!i){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${a}`);const l=i[s],c=this.fragCurrent;c&&(this.state===oe.FRAG_LOADING||this.state===oe.FRAG_LOADING_WAITING_RETRY)&&c.level!==n.level&&c.loader&&this.abortCurrentFrag();let h=0;if(o.live||(r=l.details)!=null&&r.live){var d;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;h=this.alignPlaylists(o,l.details,(d=this.levelLastLoaded)==null?void 0:d.details)}if(l.details=o,this.levelLastLoaded=l,this.hls.trigger(R.LEVEL_UPDATED,{details:o,level:s}),this.state===oe.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=oe.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,h),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{levels:o}=this;if(!o){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const a=o[r.level],l=a.details;if(!l){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const c=a.videoCodec,h=l.PTSKnown||!l.live,d=(n=r.initSegment)==null?void 0:n.data,f=this._getAudioCodec(a),m=this.transmuxer=this.transmuxer||new lO(this.hls,Te.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=i?i.index:-1,v=g!==-1,_=new g_(r.level,r.sn,r.stats.chunkCount,s.byteLength,g,v),x=this.initPTS[r.cc];m.push(s,d,f,c,r,i,l.totalduration,h,_,x)}onAudioTrackSwitching(e,n){const r=this.altAudio;if(!!!n.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const s=this.hls;r&&(s.trigger(R.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),s.trigger(R.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=n.id,i=!!this.hls.audioTracks[r].url;if(i){const s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=i,this.tick()}onBufferCreated(e,n){const r=n.tracks;let i,s,o=!1;for(const a in r){const l=r[a];if(l.id==="main"){if(s=a,i=l,a==="video"){const c=r[a];c&&(this.videoBuffer=c.buffer)}}else o=!0}o&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r&&r.type!==Te.MAIN)return;if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===oe.PARSED&&(this.state=oe.IDLE);return}const s=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*s.total/(s.buffering.end-s.loading.first)),r.sn!=="initSegment"&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=oe.ERROR;return}switch(n.details){case ee.FRAG_GAP:case ee.FRAG_PARSING_ERROR:case ee.FRAG_DECRYPT_ERROR:case ee.FRAG_LOAD_ERROR:case ee.FRAG_LOAD_TIMEOUT:case ee.KEY_LOAD_ERROR:case ee.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Te.MAIN,n);break;case ee.LEVEL_LOAD_ERROR:case ee.LEVEL_LOAD_TIMEOUT:case ee.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===oe.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===tt.LEVEL&&(this.state=oe.IDLE);break;case ee.BUFFER_APPEND_ERROR:case ee.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="main")return;if(n.details===ee.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case ee.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}checkBuffer(){const{media:e,gapController:n}=this;if(!(!e||!n||!e.readyState)){if(this.loadedmetadata||!Lt.getBuffered(e).length){const r=this.state!==oe.IDLE?this.fragCurrent:null;n.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=oe.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==mt.AUDIO||this.audioOnly&&!this.altAudio){const r=(n===mt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,Te.MAIN),this.tick()}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const i=Lt.getBuffered(e),o=(i.length?i.start(0):0)-r;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${o} to match buffer start`),r+=o,this.startPosition=r),this.log(`seek to target start position ${r} from current time ${n}`),e.currentTime=r}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:i}=this;if(!r||this.fragContextChanged(e))return;n.fragmentError=0,this.state=oe.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=e.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),i.trigger(R.FRAG_LOADED,r),e.bitrateTest=!1})}_handleTransmuxComplete(e){var n;const r="main",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:c,level:h}=a,{video:d,text:f,id3:m,initSegment:g}=s,{details:v}=h,_=this.altAudio?void 0:s.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=oe.PARSING,g){if(g!=null&&g.tracks){const w=l.initSegment||l;this._bufferInitSegment(h,g.tracks,w,o),i.trigger(R.FRAG_PARSING_INIT_SEGMENT,{frag:w,id:r,tracks:g.tracks})}const x=g.initPTS,b=g.timescale;_e(x)&&(this.initPTS[l.cc]={baseTime:x,timescale:b},i.trigger(R.INIT_PTS_FOUND,{frag:l,id:r,initPTS:x,timescale:b}))}if(d&&v&&l.sn!=="initSegment"){const x=v.fragments[l.sn-1-v.startSN],b=l.sn===v.startSN,w=!x||l.cc>x.cc;if(s.independent!==!1){const{startPTS:T,endPTS:C,startDTS:I,endDTS:M}=d;if(c)c.elementaryStreams[d.type]={startPTS:T,endPTS:C,startDTS:I,endDTS:M};else if(d.firstKeyFrame&&d.independent&&o.id===1&&!w&&(this.couldBacktrack=!0),d.dropped&&d.independent){const A=this.getMainFwdBufferInfo(),O=(A?A.end:this.getLoadPosition())+this.config.maxBufferHole,N=d.firstKeyFramePTS?d.firstKeyFramePTS:T;if(!b&&O<N-this.config.maxBufferHole&&!w){this.backtrack(l);return}else w&&(l.gap=!0);l.setElementaryStreamInfo(d.type,l.start,C,l.start,M,!0)}else b&&T>A0&&(l.gap=!0);l.setElementaryStreamInfo(d.type,T,C,I,M),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(d,l,c,o,b||w)}else if(b||w)l.gap=!0;else{this.backtrack(l);return}}if(_){const{startPTS:x,endPTS:b,startDTS:w,endDTS:T}=_;c&&(c.elementaryStreams[mt.AUDIO]={startPTS:x,endPTS:b,startDTS:w,endDTS:T}),l.setElementaryStreamInfo(mt.AUDIO,x,b,w,T),this.bufferFragmentData(_,l,c,o)}if(v&&m!=null&&(n=m.samples)!=null&&n.length){const x={id:r,frag:l,details:v,samples:m.samples};i.trigger(R.FRAG_PARSING_METADATA,x)}if(v&&f){const x={id:r,frag:l,details:v,samples:f.samples};i.trigger(R.FRAG_PARSING_USERDATA,x)}}_bufferInitSegment(e,n,r,i){if(this.state!==oe.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&delete n.audio;const{audio:s,video:o,audiovideo:a}=n;if(s){let l=e.audioCodec;const c=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5");const h=s.metadata;h&&"channelCount"in h&&(h.channelCount||1)!==1&&c.indexOf("firefox")===-1&&(l="mp4a.40.5")}l&&l.indexOf("mp4a.40.5")!==-1&&c.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),s.levelCodec=l,s.id="main",this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${s.codec}]`)}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${e.videoCodec||""}/${o.codec}]`)),a&&this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${e.codecs}/${a.codec}]`),this.hls.trigger(R.BUFFER_CODECS,n),Object.keys(n).forEach(l=>{const h=n[l].initSegment;h!=null&&h.byteLength&&this.hls.trigger(R.BUFFER_APPENDING,{type:l,data:h,frag:r,part:null,chunkMeta:i,parent:r.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Te.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=oe.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(Lt.isBuffered(e,r)?n=this.getAppendedFrag(r):Lt.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const i=this.fragPlaying,s=n.level;(!i||n.sn!==i.sn||i.level!==s)&&(this.fragPlaying=n,this.hls.trigger(R.FRAG_CHANGED,{frag:n}),(!i||i.level!==s)&&this.hls.trigger(R.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const n=e.currentTime,r=this.currentFrag;if(r&&_e(n)&&_e(r.programDateTime)){const i=r.programDateTime+(n-r.start)*1e3;return new Date(i)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class ei{static get version(){return"1.5.15"}static isMSESupported(){return kO()}static isSupported(){return A5e()}static getMediaSource(){return pl()}static get Events(){return R}static get ErrorTypes(){return Ie}static get ErrorDetails(){return ee}static get DefaultConfig(){return ei.defaultConfig?ei.defaultConfig:LO}static set DefaultConfig(e){ei.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new S_,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,E2e(e.debug||!1,"Hls instance");const n=this.config=T5e(ei.DefaultConfig,e);this.userConfig=e,n.progressive&&L5e(n);const{abrController:r,bufferController:i,capLevelController:s,errorController:o,fpsController:a}=n,l=new o(this),c=this.abrController=new r(this),h=this.bufferController=new i(this),d=this.capLevelController=new s(this),f=new a(this),m=new yme(this),g=new Sme(this),v=n.contentSteeringController,_=v?new v(this):null,x=this.levelController=new C5e(this,_),b=new Qme(this),w=new k5e(this.config),T=this.streamController=new N5e(this,b,w);d.setStreamController(T),f.setStreamController(T);const C=[m,x,T];_&&C.splice(1,0,_),this.networkControllers=C;const I=[c,h,d,f,g,b];this.audioTrackController=this.createController(n.audioTrackController,C);const M=n.audioStreamController;M&&C.push(new M(this,b,w)),this.subtitleTrackController=this.createController(n.subtitleTrackController,C);const A=n.subtitleStreamController;A&&C.push(new A(this,b,w)),this.createController(n.timelineController,I),w.emeController=this.emeController=this.createController(n.emeController,I),this.cmcdController=this.createController(n.cmcdController,I),this.latencyController=this.createController(Eme,I),this.coreComponents=I,C.push(l);const O=l.onErrorOut;typeof O=="function"&&this.on(R.ERROR,O,l)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,i){this._emitter.off(e,n,r,i)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){if(K.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const i=e===R.ERROR;this.trigger(R.ERROR,{type:Ie.OTHER_ERROR,details:ee.INTERNAL_EXCEPTION,fatal:i,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){K.log("destroy"),this.trigger(R.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){K.log("attachMedia"),this._media=e,this.trigger(R.MEDIA_ATTACHING,{media:e})}detachMedia(){K.log("detachMedia"),this.trigger(R.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const n=this.media,r=this.url,i=this.url=u_.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,K.log(`loadSource:${i}`),n&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(R.MANIFEST_LOADING,{url:e})}startLoad(e=-1){K.log(`startLoad(${e})`),this.started=!0,this.networkControllers.forEach(n=>{n.startLoad(e)})}stopLoad(){K.log("stopLoad"),this.started=!1,this.networkControllers.forEach(e=>{e.stopLoad()})}resumeBuffering(){this.started&&this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.startLoad(-1)})}pauseBuffering(){this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.stopLoad()})}swapAudioCodec(){K.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){K.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){K.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){K.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){K.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){K.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){K.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(K.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){Tme(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let i=0;i<r;i++)if(e[i].maxBitrate>=n)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let i;if(n===-1&&e!=null&&e.length?i=e.length-1:i=n,r)for(let s=i;s--;){const o=e[s].attrs["HDCP-LEVEL"];if(o&&o<=r)return s}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var n;return(n=this.audioTrackController)==null?void 0:n.setAudioOption(e)}setSubtitleOption(e){var n;return(n=this.subtitleTrackController)==null||n.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}ei.defaultConfig=void 0;function F5e({data:t}){const e=P.useRef(null),n=P.useRef(null),r=P.useRef(null);P.useEffect(()=>{const s=n.current;if(t.kickClip)if(ei.isSupported()){const o=new ei;o.loadSource(t.kickClip.video_url),o.attachMedia(s)}else s.canPlayType("application/vnd.apple.mpegurl")&&(s.src=t.kickClip.video_url)},[]),P.useEffect(()=>{const s=r.current;if(t.kickVideo)if(ei.isSupported()){const o=new ei;o.loadSource(t.kickVideo.source),o.attachMedia(s)}else s.canPlayType("application/vnd.apple.mpegurl")&&(s.src=t.kickVideo.source)},[]),P.useEffect(()=>{const s=e.current;if(t.reddit&&t.reddit.secure_media.reddit_video)if(ei.isSupported()){const o=new ei;o.loadSource(t.reddit.secure_media.reddit_video.hls_url.split("?")[0]),o.attachMedia(s)}else s.canPlayType("application/vnd.apple.mpegurl")&&(s.src=t.reddit.secure_media.reddit_video.hls_url)},[]);const i=s=>{if(s.is_video)return E.jsx("div",{className:"relative",children:E.jsx("video",{className:"w-auto h-[664px] cursor-pointer relative",ref:e,controls:!0})});if(s.url.includes("youtube.com")||s.url.includes("youtu.be")){let o;if(s.url.includes("youtube.com")?o=s.url.split("v=")[1]:s.url.includes("youtu.be")&&(o=s.url.split(".be/")[1]),o)return E.jsx("iframe",{allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",src:`https://www.youtube.com/embed/${o}`,className:"w-full h-[664px] ",title:"youtube-video",allowFullScreen:!0,frameBorder:"0"})}else return s.url.includes(".jpg")||s.url.includes(".png")?E.jsx("img",{src:s.url,alt:"post-image",className:"w-full h-[720px] object-cover"}):E.jsx("p",{children:s.url})};if(t.clip&&t.url.includes("twitch"))return E.jsx("div",{className:"w-[1180px] flex flex-col",children:E.jsx("iframe",{src:`https://clips.twitch.tv/embed?clip=${t.clip.id}&parent=${window.location.hostname}`,title:"Twitch video player",className:"",allowFullScreen:!0,height:"664px",width:"100%"})});if(t.video&&t.url.includes("twitch")){let s=t.video;return E.jsx("div",{className:"w-[1180px] flex flex-col",children:E.jsx("iframe",{src:`https://player.twitch.tv/?video=${s.id}&parent=${window.location.hostname}`,title:"Twitch video player",className:"",allowFullScreen:!0,height:"664px",width:"100%"})})}else{if(t&&t.url.includes("youtu"))return E.jsx("div",{className:"w-[1180px] flex flex-col",children:E.jsx("iframe",{src:`${t.url.replace("watch?v=","embed/")}?autoplay=1&origin=${window.location.origin}`,title:"YouTube video player",frameborder:"0",height:"664px",width:"100%",className:"",allowFullScreen:!0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})});if(t.kickClip&&t.url.includes("kick.com"))return t.kickClip,E.jsx("video",{className:"w-auto h-[664px]  cursor-pointer relative",ref:n,controls:!0});if(t.kickVideo&&t.url.includes("kick.com"))return E.jsx("video",{className:"w-auto h-[664px]  cursor-pointer relative",ref:r,controls:!0});if(t.reddit&&t.url.includes("reddit.com"))return E.jsx("div",{className:"w-[1180px] h-[664px] flex flex-col",children:i(t.reddit)});if(t.streamable&&t.url.includes("streamable"))return E.jsx("div",{className:"w-auto h-[664px] flex flex-col",dangerouslySetInnerHTML:{__html:t.streamable.html}})}}function $5e({close:t,data:e}){const{message:n,success:r,error:i}=e,[s,o]=P.useState(!0);P.useEffect(()=>{const l=setTimeout(()=>{o(!1)},3e3);return()=>clearTimeout(l)},[]);const a=()=>{t()};return E.jsx(E.Fragment,{children:E.jsx(t_,{onExitComplete:a,children:s&&E.jsxs($n.div,{transition:{duration:.4,ease:"easeInOut"},initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:Ye({"fixed z-[1000] bottom-2 left-2 backdrop-blur-md bg-green-500/40  rounded-2xl w-auto border dark:border-white/[.15] border-black/30 shadow-sm text-green-100 flex items-center p-2.5 gap-x-2.5":r,"fixed z-[1000] bottom-2 left-2 backdrop-blur-md bg-red-600/40 rounded-2xl w-auto border dark:border-white/[.15] border-black/30 shadow-sm text-red-100 flex items-center p-2.5 gap-x-2.5":i}),children:[i?E.jsx(be,{name:"Unavailable",size:30}):E.jsx(be,{name:"Ok",size:30}),n]},"toast")})})}function z5e({data:t}){var m,g;const[e,n]=P.useState(""),[r,i]=P.useState(!1),[s,o]=P.useState(!1),[a,l]=P.useState(!1),{server:c}=t,h=(m=Zp.useLanyard({userId:"849975428496097320"}).data)==null?void 0:m.data;(g=Zp.useLanyard({userId:"317004664002576386"}).data)==null||g.data;const d=new Date,f=async v=>{v.preventDefault(),document.getElementById("COMMENT_AREA").value===""?(n(!1),l("İçerik boş bırakılamaz"),setTimeout(()=>{l(!1),n("")},2e3)):document.getElementById("COMMENT_AREA").value.length<6?(n(!1),l("İçerik en az 6 harf olmalı"),setTimeout(()=>{l(!1),n("")},2e3)):(l(!1),n(""),r!==""?(await AV({message:r,server:(c==null?void 0:c.name.toUpperCase())||"COUNTDOWN",date:`${d.getDate().toString().padStart(2,"0")}/${(d.getMonth()+1).toString().padStart(2,"0")}/${d.getFullYear()} - ${d.getHours().toString().padStart(2,"0")}:${d.getMinutes().toString().padStart(2,"0")}:${d.getSeconds().toString().padStart(2,"0")}`}),n(!1),o("Mesajınız başarıyla gönderildi"),setTimeout(()=>{o(""),cd()},2e3)):document.getElementById("SEND_COMMENT").disabled=!1)};return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"flex gap-x-2 items-baseline w-full p-3",children:E.jsx(tM,{data:h,tag:"Geliştrici"},1)}),E.jsxs("form",{className:"flex flex-col items-center w-full md:w-screen md:max-w-2xl m-auto",onSubmit:f,children:[E.jsx("textarea",{id:"COMMENT_AREA",className:"border-t dark:border-white/[.15] border-black/30 bg-transparent w-full p-4 min-h-[250px]",onChange:v=>{i(v.target.value)},placeholder:"İçerik"}),E.jsx("div",{className:"flex items-center justify-center w-full mt-2 p-2",children:E.jsx(ft,{content:{text:"Onayla",icon:{name:"Ok"}},style:{width:"w-full",radius:{button:"rounded-xl"}},type:"submit"})}),E.jsxs("div",{className:"flex items-center text-sm flex-shrink-0 h-full w-full",children:[a&&E.jsx("p",{className:"text-red-700 dark:text-red-500 p-3 w-full dark:bg-red-500/10 bg-red-500/40 h-full rounded-t-lg",children:a}),s&&E.jsx("p",{className:"text-green-700 dark:text-green-500 p-3 w-full dark:bg-green-500/10 bg-green-500/40 h-full rounded-t-lg",children:s}),e&&E.jsx("p",{className:"text-white/80 font-bold",children:e})]})]})]})}function B5e({data:t}){const{streamer:e,server:n}=t,[r,i]=P.useState(null),[s,o]=P.useState([]),[a,l]=P.useState(!1),[c,h]=P.useState({allies:[],class:"",name:""}),d=P.useRef([]);P.useEffect(()=>{e&&e.characters&&(o([...e.characters]),d.current=[...e.characters])},[e]);const f=(w,T,C)=>{const I=s.map((M,A)=>{if(A===w){const O={...M};return T==="allies"?O.allies=C.split(","):O[T]=C,O}return M});o(I)},m=w=>{i(w)},g=async w=>{const T=s[w];await DV(n.name,{name:e.characters[w].name,newName:T.name,newClass:T.class,newAllies:T.allies}),await Ks(ot(at,`${n.name}/CHARACTERS`))&&cd()},v=async w=>{const T=s[w].name;await MV(n.name,T),o(C=>C.filter((I,M)=>M!==w))},_=()=>{l(w=>!w)},x=async()=>{if(!c.name)return;if(await zC(n.name,e.name.toLowerCase(),c),(await Ks(ot(at,`${n.name}/CHARACTERS`))).exists()){const T=[...s,{...c,allies:c.allies.split(",")}];o(T),h({name:"",class:"",allies:[]}),l(!1),cd()}},b=[{code:"mechanic",name:"MECH"},{code:"medical",name:"MEDIC"},{code:"lspd",name:"LSPD"},{code:"lost",name:"LOST"},{code:"aod",name:"AOD"},{code:"ss",name:"SS"}];return E.jsxs("div",{className:"w-screen max-w-5xl",children:[E.jsx("h3",{className:"p-3 text-center",children:"Karakterleri güncelle"}),E.jsxs("div",{className:"flex items-center text-xs opacity-80 justify-between p-3",children:[E.jsx("p",{className:"flex-shrink-0",children:"Yazılabilir etiketler: "}),E.jsx("div",{className:"ml-3 flex items-center gap-x-2",children:b.map(w=>E.jsxs("p",{children:[w.code,"(",w.name,")"]},w.code))})]}),a?E.jsxs("div",{className:"flex items-center gap-2 w-full px-4",children:[E.jsx(Ln,{className:"w-full",event:{change:w=>h({...c,name:w.target.value})},content:{text:"Adı soyadı",icon:{name:"Account"}},value:c.name}),E.jsx(Ln,{className:"w-full",event:{change:w=>h({...c,class:w.target.value})},content:{text:"Kategorisi",icon:{name:"Apps"}},value:c.class}),E.jsx(ft,{className:"flex-shrink-0",event:{click:x},content:{icon:{name:"Add"}}}),E.jsx(ft,{className:"flex-shrink-0",event:{click:_},content:{icon:{name:"Close"}}})]}):E.jsx("div",{className:"px-4",children:E.jsx(ft,{className:"w-full",event:{click:_},content:{text:"Karakter Ekle",icon:{name:"Add"}}})}),!e.characters||e.characters.length===0&&E.jsx("p",{children:"Karakter bulunamadı"}),E.jsx("div",{className:"w-full flex items-center gap-2 flex-auto flex-wrap p-4 pt-2",children:s.map((w,T)=>{var C;return E.jsxs("div",{className:"flex items-center gap-2 w-full",children:[E.jsx(Ln,{className:"w-full",event:{change:I=>f(T,"name",I.target.value),focus:()=>m(T)},content:{text:"Adı soyadı",icon:{name:"Account"}},value:w.name,focused:r===T}),E.jsx(Ln,{className:"w-full",event:{change:I=>f(T,"class",I.target.value),focus:()=>m(T)},content:{text:"Kategorisi",icon:{name:"Apps"}},value:w.class||"",focused:r===T}),E.jsx(Ln,{className:"w-full",event:{change:I=>f(T,"allies",I.target.value),focus:()=>m(T)},content:{text:"Yan kelimeler",icon:{name:"Tag"}},value:((C=w.allies)==null?void 0:C.join(","))||"",focused:r===T}),E.jsx(ft,{className:"flex-shrink-0",event:{click:()=>g(T)},content:{icon:{name:"Ok"}}}),E.jsx(ft,{className:"flex-shrink-0",event:{click:()=>v(T)},content:{icon:{name:"Trash"}}})]},T)})})]})}function k_(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Cl=k_();function AO(t){Cl=t}const IO=/[&<>"']/,U5e=new RegExp(IO.source,"g"),PO=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,j5e=new RegExp(PO.source,"g"),V5e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gT=t=>V5e[t];function Cr(t,e){if(e){if(IO.test(t))return t.replace(U5e,gT)}else if(PO.test(t))return t.replace(j5e,gT);return t}const G5e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function H5e(t){return t.replace(G5e,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const W5e=/(^|[^\[])\^/g;function xt(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(W5e,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}function vT(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const sd={exec:()=>null};function yT(t,e){const n=t.replace(/\|/g,(s,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function X3(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.slice(0,r-i)}function K5e(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function _T(t,e,n,r){const i=e.href,s=e.title?Cr(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:i,title:s,text:Cr(o)}}function q5e(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class p1{constructor(e){It(this,"options");It(this,"rules");It(this,"lexer");this.options=e||Cl}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:X3(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=q5e(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=X3(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=n[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=X3(r.replace(/^ *>[ \t]?/gm,""),`
`);const i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;e;){let h=!1;if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;a=n[0],e=e.substring(a.length);let d=n[2].split(`
`,1)[0].replace(/^\t+/,x=>" ".repeat(3*x.length)),f=e.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,l=d.trimStart()):(m=n[2].search(/[^ ]/),m=m>4?1:m,l=d.slice(m),m+=n[1].length);let g=!1;if(!d&&/^ *$/.test(f)&&(a+=f+`
`,e=e.substring(f.length+1),h=!0),!h){const x=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),w=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const C=e.split(`
`,1)[0];if(f=C,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),w.test(f)||T.test(f)||x.test(f)||b.test(e))break;if(f.search(/[^ ]/)>=m||!f.trim())l+=`
`+f.slice(m);else{if(g||d.search(/[^ ]/)>=4||w.test(d)||T.test(d)||b.test(d))break;l+=`
`+f}!g&&!f.trim()&&(g=!0),a+=C+`
`,e=e.substring(C.length+1),d=f.slice(m)}}s.loose||(c?s.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let v=null,_;this.options.gfm&&(v=/^\[[ xX]\] /.exec(l),v&&(_=v[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!v,checked:_,loose:!1,text:l,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimEnd(),s.items[s.items.length-1].text=l.trimEnd(),s.raw=s.raw.trimEnd();for(let h=0;h<s.items.length;h++)if(this.lexer.state.top=!1,s.items[h].tokens=this.lexer.blockTokens(s.items[h].text,[]),!s.loose){const d=s.items[h].tokens.filter(m=>m.type==="space"),f=d.length>0&&d.some(m=>/\n.*\n/.test(m.raw));s.loose=f}if(s.loose)for(let h=0;h<s.items.length;h++)s.items[h].loose=!0;return s}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const r=yT(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),s=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const a of i)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(const a of r)o.header.push({text:a,tokens:this.lexer.inline(a)});for(const a of s)o.rows.push(yT(a,o.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Cr(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=X3(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=K5e(n[2],"()");if(o>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),_T(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(/\s+/g," "),s=n[i.toLowerCase()];if(!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return _T(r,s,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...i[0]].length-1;let a,l,c=o,h=0;const d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+o);(i=d.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=[...a].length,i[3]||i[4]){c+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){h+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+h);const f=[...i[0]][0].length,m=e.slice(0,o+i.index+f+l);if(Math.min(o,l)%2){const v=m.slice(1,-1);return{type:"em",raw:m,text:v,tokens:this.lexer.inlineTokens(v)}}const g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=Cr(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=Cr(n[1]),i="mailto:"+r):(r=Cr(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=Cr(n[0]),s="mailto:"+i;else{let o;do o=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(o!==n[0]);i=Cr(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=Cr(n[0]),{type:"text",raw:n[0],text:r}}}}const Y5e=/^(?: *(?:\n|$))+/,Z5e=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,X5e=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Df=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Q5e=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,RO=/(?:[*+-]|\d{1,9}[.)])/,MO=xt(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,RO).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),A_=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,J5e=/^[^\n]+/,I_=/(?!\s*\])(?:\\.|[^\[\]\\])+/,e7e=xt(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",I_).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),t7e=xt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,RO).getRegex(),C2="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",P_=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,n7e=xt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",P_).replace("tag",C2).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),DO=xt(A_).replace("hr",Df).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C2).getRegex(),r7e=xt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",DO).getRegex(),R_={blockquote:r7e,code:Z5e,def:e7e,fences:X5e,heading:Q5e,hr:Df,html:n7e,lheading:MO,list:t7e,newline:Y5e,paragraph:DO,table:sd,text:J5e},xT=xt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Df).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C2).getRegex(),i7e={...R_,table:xT,paragraph:xt(A_).replace("hr",Df).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",xT).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C2).getRegex()},s7e={...R_,html:xt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",P_).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:sd,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:xt(A_).replace("hr",Df).replace("heading",` *#{1,6} *[^
]`).replace("lheading",MO).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},OO=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,o7e=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,NO=/^( {2,}|\\)\n(?!\s*$)/,a7e=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Of="\\p{P}\\p{S}",l7e=xt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Of).getRegex(),c7e=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,u7e=xt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Of).getRegex(),h7e=xt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Of).getRegex(),d7e=xt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Of).getRegex(),f7e=xt(/\\([punct])/,"gu").replace(/punct/g,Of).getRegex(),p7e=xt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),m7e=xt(P_).replace("(?:-->|$)","-->").getRegex(),g7e=xt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",m7e).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),m1=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,v7e=xt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",m1).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),FO=xt(/^!?\[(label)\]\[(ref)\]/).replace("label",m1).replace("ref",I_).getRegex(),$O=xt(/^!?\[(ref)\](?:\[\])?/).replace("ref",I_).getRegex(),y7e=xt("reflink|nolink(?!\\()","g").replace("reflink",FO).replace("nolink",$O).getRegex(),M_={_backpedal:sd,anyPunctuation:f7e,autolink:p7e,blockSkip:c7e,br:NO,code:o7e,del:sd,emStrongLDelim:u7e,emStrongRDelimAst:h7e,emStrongRDelimUnd:d7e,escape:OO,link:v7e,nolink:$O,punctuation:l7e,reflink:FO,reflinkSearch:y7e,tag:g7e,text:a7e,url:sd},_7e={...M_,link:xt(/^!?\[(label)\]\((.*?)\)/).replace("label",m1).getRegex(),reflink:xt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",m1).getRegex()},Y7={...M_,escape:xt(OO).replace("])","~|])").getRegex(),url:xt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},x7e={...Y7,br:xt(NO).replace("{2,}","*").getRegex(),text:xt(Y7.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Q3={normal:R_,gfm:i7e,pedantic:s7e},Sh={normal:M_,gfm:Y7,breaks:x7e,pedantic:_7e};class rs{constructor(e){It(this,"tokens");It(this,"options");It(this,"state");It(this,"tokenizer");It(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Cl,this.options.tokenizer=this.options.tokenizer||new p1,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Q3.normal,inline:Sh.normal};this.options.pedantic?(n.block=Q3.pedantic,n.inline=Sh.pedantic):this.options.gfm&&(n.block=Q3.gfm,this.options.breaks?n.inline=Sh.breaks:n.inline=Sh.gfm),this.tokenizer.rules=n}static get rules(){return{block:Q3,inline:Sh}}static lex(e,n){return new rs(n).lex(e)}static lexInline(e,n){return new rs(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));let r,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(h=>{c=h.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,o=e,a,l,c;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)h.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(r=h.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,c)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const d=e.slice(1);let f;this.options.extensions.startInline.forEach(m=>{f=m.call({lexer:this},d),typeof f=="number"&&f>=0&&(h=Math.min(h,f))}),h<1/0&&h>=0&&(s=e.substring(0,h+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),l=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return n}}class g1{constructor(e){It(this,"options");this.options=e||Cl}code(e,n,r){var s;const i=(s=(n||"").match(/^\S*/))==null?void 0:s[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+Cr(i)+'">'+(r?e:Cr(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Cr(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,r){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}list(e,n,r){const i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e,n,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){const i=vT(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return n&&(s+=' title="'+n+'"'),s+=">"+r+"</a>",s}image(e,n,r){const i=vT(e);if(i===null)return r;e=i;let s=`<img src="${e}" alt="${r}"`;return n&&(s+=` title="${n}"`),s+=">",s}text(e){return e}}class D_{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class is{constructor(e){It(this,"options");It(this,"renderer");It(this,"textRenderer");this.options=e||Cl,this.options.renderer=this.options.renderer||new g1,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new D_}static parse(e,n){return new is(n).parse(e)}static parseInline(e,n){return new is(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=s,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){r+=a||"";continue}}switch(s.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const o=s;r+=this.renderer.heading(this.parseInline(o.tokens),o.depth,H5e(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=s;r+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=s;let a="",l="";for(let h=0;h<o.header.length;h++)l+=this.renderer.tablecell(this.parseInline(o.header[h].tokens),{header:!0,align:o.align[h]});a+=this.renderer.tablerow(l);let c="";for(let h=0;h<o.rows.length;h++){const d=o.rows[h];l="";for(let f=0;f<d.length;f++)l+=this.renderer.tablecell(this.parseInline(d[f].tokens),{header:!1,align:o.align[f]});c+=this.renderer.tablerow(l)}r+=this.renderer.table(a,c);continue}case"blockquote":{const o=s,a=this.parse(o.tokens);r+=this.renderer.blockquote(a);continue}case"list":{const o=s,a=o.ordered,l=o.start,c=o.loose;let h="";for(let d=0;d<o.items.length;d++){const f=o.items[d],m=f.checked,g=f.task;let v="";if(f.task){const _=this.renderer.checkbox(!!m);c?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=_+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=_+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:_+" "}):v+=_+" "}v+=this.parse(f.tokens,c),h+=this.renderer.listitem(v,g,!!m)}r+=this.renderer.list(h,a,l);continue}case"html":{const o=s;r+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=s;r+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,a=o.tokens?this.parseInline(o.tokens):o.text;for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],a+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);r+=n?this.renderer.paragraph(a):a;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=o||"";continue}}switch(s.type){case"escape":{const o=s;r+=n.text(o.text);break}case"html":{const o=s;r+=n.html(o.text);break}case"link":{const o=s;r+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{const o=s;r+=n.image(o.href,o.title,o.text);break}case"strong":{const o=s;r+=n.strong(this.parseInline(o.tokens,n));break}case"em":{const o=s;r+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{const o=s;r+=n.codespan(o.text);break}case"br":{r+=n.br();break}case"del":{const o=s;r+=n.del(this.parseInline(o.tokens,n));break}case"text":{const o=s;r+=n.text(o.text);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}}class od{constructor(e){It(this,"options");this.options=e||Cl}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}It(od,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var vl,Z7,zO;class b7e{constructor(...e){C8(this,vl);It(this,"defaults",k_());It(this,"options",this.setOptions);It(this,"parse",s3(this,vl,Z7).call(this,rs.lex,is.parse));It(this,"parseInline",s3(this,vl,Z7).call(this,rs.lexInline,is.parseInline));It(this,"Parser",is);It(this,"Renderer",g1);It(this,"TextRenderer",D_);It(this,"Lexer",rs);It(this,"Tokenizer",p1);It(this,"Hooks",od);this.use(...e)}walkTokens(e,n){var i,s;let r=[];for(const o of e)switch(r=r.concat(n.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)r=r.concat(this.walkTokens(l.tokens,n));for(const l of a.rows)for(const c of l)r=r.concat(this.walkTokens(c.tokens,n));break}case"list":{const a=o;r=r.concat(this.walkTokens(a.items,n));break}default:{const a=o;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const c=a[l].flat(1/0);r=r.concat(this.walkTokens(c,n))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=n.renderers[s.name];o?n.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){const s=this.defaults.renderer||new g1(this.defaults);for(const o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const a=o,l=r.renderer[a],c=s[a];s[a]=(...h)=>{let d=l.apply(s,h);return d===!1&&(d=c.apply(s,h)),d||""}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new p1(this.defaults);for(const o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,l=r.tokenizer[a],c=s[a];s[a]=(...h)=>{let d=l.apply(s,h);return d===!1&&(d=c.apply(s,h)),d}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new od;for(const o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const a=o,l=r.hooks[a],c=s[a];od.passThroughHooks.has(o)?s[a]=h=>{if(this.defaults.async)return Promise.resolve(l.call(s,h)).then(f=>c.call(s,f));const d=l.call(s,h);return c.call(s,d)}:s[a]=(...h)=>{let d=l.apply(s,h);return d===!1&&(d=c.apply(s,h)),d}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return rs.lex(e,n??this.defaults)}parser(e,n){return is.parse(e,n??this.defaults)}}vl=new WeakSet,Z7=function(e,n){return(r,i)=>{const s={...i},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=s3(this,vl,zO).call(this,!!o.silent,!!o.async);if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>n(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(r=o.hooks.preprocess(r));let l=e(r,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=n(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return a(l)}}},zO=function(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Cr(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}};const ml=new b7e;function pt(t,e){return ml.parse(t,e)}pt.options=pt.setOptions=function(t){return ml.setOptions(t),pt.defaults=ml.defaults,AO(pt.defaults),pt};pt.getDefaults=k_;pt.defaults=Cl;pt.use=function(...t){return ml.use(...t),pt.defaults=ml.defaults,AO(pt.defaults),pt};pt.walkTokens=function(t,e){return ml.walkTokens(t,e)};pt.parseInline=ml.parseInline;pt.Parser=is;pt.parser=is.parse;pt.Renderer=g1;pt.TextRenderer=D_;pt.Lexer=rs;pt.lexer=rs.lex;pt.Tokenizer=p1;pt.Hooks=od;pt.parse=pt;pt.options;pt.setOptions;pt.use;pt.walkTokens;pt.parseInline;is.parse;rs.lex;function w7e({data:t}){const{streamer:e}=t,[n,r]=P.useState(e.characters[0]),[i,s]=P.useState(null),[o,a]=P.useState(!1);P.useEffect(()=>{fetch("https://povs-wiki.vercel.app/?name="+n.name.replaceAll(" ","_")).then(d=>d.json()).then(d=>s(d))},[n]);const l=()=>{const f=(e.characters.indexOf(n)+1)%e.characters.length;r(e.characters[f])},c=()=>{const f=(e.characters.indexOf(n)-1+e.characters.length)%e.characters.length;r(e.characters[f])};if(!i)return E.jsx("div",{className:"text-center p-4",children:E.jsx(us,{text:"Karakter yükleniyor"})});function h(d){let f=d.bio.split(`
\r
 
`),m=[];for(let g=0;g<f.length;g++){let v=f[g];!v.toLowerCase().includes("Doğum Tarihi".toLowerCase())&&!v.includes("twitch.tv")&&m.push(v.trim())}return m.join("<br/>")}return E.jsxs("div",{className:Ye("p-2 overflow-auto relative min-h-[600px] rounded-md",{"!flex":o}),children:[E.jsx("div",{className:"absolute inset-0 w-full h-full bg-center bg-no-repeat bg-cover rounded-md -z-40"}),o&&E.jsx("form",{className:"max-w-2xl overflow-auto text-justify p-2 ",children:E.jsx("div",{dangerouslySetInnerHTML:{__html:pt.parse(h(i))}})}),E.jsxs("div",{className:"w-auto flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("button",{className:"",onClick:c,children:E.jsx(be,{size:35,name:"Left"})}),E.jsx("h1",{className:"text-xl text-center font-bold text-server",children:i.name.replaceAll("_"," ").toUpperCase()}),E.jsx("button",{className:"",onClick:l,children:E.jsx(be,{size:35,name:"Right"})})]}),E.jsxs("div",{className:"w-full border dark:border-white/[.15] border-black/30 p-3 text-sm gap-x-2 cursor-pointer rounded-xl flex items-center mb-4 backdrop-blur-xl shadow-black/40 bg-black/20 shadow-sm",onClick:()=>a(!o),children:[E.jsx(be,{name:"Account"}),E.jsx("p",{children:o?"Biyografiyi gizle":"Biyografiyi gör"})]}),E.jsx("div",{className:"shadow rounded-lg max-w-xl",children:E.jsx("div",{className:"flex flex-auto flex-wrap items-center gap-4 overflow-auto scrollbar-hide text-sm",children:i.features&&Object.entries(i.features).map(([d,f])=>d.length>30||f.length>30?E.jsxs("div",{className:"w-full border dark:border-white/[.15] border-black/30 p-3 rounded-xl flex-auto flex-col backdrop-blur-xl shadow-black/40 bg-black/20 shadow-sm",children:[E.jsx("p",{className:"font-bold flex-shrink-0",children:d}),E.jsx("p",{className:"opacity-80",children:f})]},d):E.jsxs("div",{className:"border dark:border-white/[.15] border-black/30 p-3 rounded-xl w-1/3 flex-auto flex items-center gap-x-1 backdrop-blur-xl shadow-black/40 bg-black/20 shadow-sm",children:[E.jsx("p",{className:"font-bold flex-shrink-0",children:d}),E.jsx("p",{children:":"}),E.jsx("p",{className:"opacity-80 line-clamp-1",children:f})]},d))})})]})]})}function S7e({server:t}){const[e,n]=P.useState([]),[r,i]=P.useState(!0),[s,o]=P.useState(localStorage.getItem("PVS_QA_ID")||Wd()),[a,l]=P.useState(""),[c,h]=P.useState(null);P.useEffect(()=>{const m=ot(at,`${t.name}/QA/chat`),g=_=>{const x=[];_.forEach(b=>{x.push({key:b.key,...b.val()})}),n(x),i(!1)};return Oo(m,g,_=>{h(_),i(!1)}),()=>{hV(m,"value",g)}},[t.name]);const d=async m=>{if(m.preventDefault(),a.trim()){const g=ot(at,`${t.name}/QA/chat`);await cV(g,{text:a,username:s,timestamp:Date.now()}),l("")}},f=m=>{o(m.target.value),localStorage.setItem("PVS_QA_ID",m.target.value)};return r?E.jsx(us,{}):c?E.jsxs("div",{children:["Hata: ",c.message]}):E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsx("div",{className:"overflow-y-auto flex flex-col px-3 max-h-[calc(100vh-20rem)] gap-y-1",children:e.map((m,g)=>E.jsx("div",{className:"flex items-center gap-x-2",children:m.text.length>50?E.jsxs("div",{className:"flex flex-col items-start gap-y-1",children:[E.jsxs("span",{className:"font-bold bg-server-10 rounded",children:[m.username.length<30?m.username:m.username.slice(0,13),":"]}),E.jsx("span",{className:"break-all text-justify",children:m.text})]}):E.jsxs("div",{className:"flex items-center gap-x-2",children:[E.jsxs("span",{className:"font-bold bg-server-10 rounded",children:[m.username&&m.username.slice(0,13),":"]}),E.jsx("span",{className:"break-all text-justify",children:m.text})]})},m.key))}),E.jsxs("div",{className:"flex flex-col space-y-2",children:[E.jsx("form",{onSubmit:d,className:"w-full flex justify-between mt-2 gap-x-2",children:E.jsx(Ln,{style:{width:"w-full"},content:{text:"Tartışın..."},value:a,event:{change:m=>l(m.target.value)}})}),E.jsx(Ln,{style:{width:"w-full"},content:{text:"Kullanıcı Adı"},value:s,event:{change:f}})]})]})}function E7e({data:t}){const{server:e,qaTitle:n,id:r}=t;return E.jsxs("div",{className:"w-screen max-w-md h-auto overflow-auto scrollbar-hide",children:[E.jsx("h2",{className:"text-center flex-shrink-0 mb-4",children:n}),E.jsx(S7e,{server:e,id:r})]})}function T7e(){const{bigStreamerCard:t,newDesign:e,minimal:n}=Qn(c=>c.utils),{theme:r,toggleTheme:i}=yu(),s=()=>{const c=!t;cn.dispatch(pv(c)),localStorage.setItem("POVS_BIG_STREAM",c.toString())},o=()=>{const c=!e;cn.dispatch(S$(c)),localStorage.setItem("POVS_NEW_DESIGN",c.toString())},a=()=>{i()},l=()=>{const c=!n;cn.dispatch(L$(c)),localStorage.setItem("POVS_MINIMAL",JSON.stringify(c))};return E.jsxs("div",{className:"rounded-xl flex flex-col",children:[E.jsxs("div",{className:"flex items-center justify-between gap-x-5 p-5 border-b dark:border-white/[.15] border-black/30",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h3",{children:"Yeni arayüz"}),E.jsx("p",{className:"text-xs opacity-80",children:"Site genelinde yeni arayüze geçişi sağlar"})]}),E.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:e,onChange:o,className:"sr-only peer"}),E.jsx("div",{className:"w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-server rounded-full peer bg-black/10 dark:bg-white/10 peer-checked:after:translate-x-full peer-checked:after:border-server after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-server-70"})]})]}),E.jsxs("div",{className:"flex items-center justify-between gap-x-5 p-5 border-b dark:border-white/[.15] border-black/30",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h3",{children:"Büyük yayıncı kartı"}),E.jsx("p",{className:"text-xs opacity-80",children:"Canlı yayında olan yayıncı kartlarına uygulanır"})]}),E.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:t,onChange:s,className:"sr-only peer"}),E.jsx("div",{className:"w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-server rounded-full peer bg-black/10 dark:bg-white/10 peer-checked:after:translate-x-full peer-checked:after:border-server after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-server-70"})]})]}),E.jsxs("div",{className:"flex items-center justify-between gap-x-5 p-5 border-b dark:border-white/[.15] border-black/30",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h3",{children:"Aydınlık tema"}),E.jsx("p",{className:"text-xs opacity-80",children:"Site genelinde beyaz temaya geçiş sağlar"})]}),E.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:r==="light",onChange:a,className:"sr-only peer"}),E.jsx("div",{className:"w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-server rounded-full peer bg-black/10 dark:bg-white/10 peer-checked:after:translate-x-full peer-checked:after:border-server after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-server-70"})]})]}),E.jsxs("div",{className:"flex items-center justify-between gap-x-5 p-5",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h3",{children:"Minimal mod"}),E.jsx("p",{className:"text-xs opacity-80",children:"Site elemanlarının basit tasarıma geçişini sağlar"})]}),E.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:n,onChange:l,className:"sr-only peer"}),E.jsx("div",{className:"w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-server rounded-full peer bg-black/10 dark:bg-white/10 peer-checked:after:translate-x-full peer-checked:after:border-server after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-server-70"})]})]})]})}const L7e=()=>{const[t,e]=P.useState([]);return P.useEffect(()=>{fetch("https://povs-backend.vercel.app/api/server/vorp/messages/").then(n=>n.json()).then(n=>e(n)).catch(n=>console.error("Error fetching data:",n))},[]),!t||t.length===0?E.jsx("div",{className:"h-full flex flex-col items-center justify-center",children:E.jsx(us,{text:"Gönderiler yükleniyor"})}):E.jsx("div",{className:"max-w-xl p-4 flex flex-col space-y-4 h-full",children:t.reverse().map((n,r)=>E.jsxs("div",{className:"flex flex-col gap-x-2 h-auto border dark:border-white/[.15] border-black/30 rounded-lg w-full cursor-pointer",children:[E.jsx("div",{className:Ye("w-full h-auto p-2 flex items-center justify-between",{"border-b dark:border-white/[.15] border-black/30":n.images.length>0}),children:E.jsxs("div",{className:"flex flex-col -space-y-0.5",children:[E.jsx("h3",{className:"line-clamp-1",children:n.username}),E.jsx("div",{className:"flex items-center gap-x-2",children:n.embed_texts.map((i,s)=>E.jsx("div",{className:"opacity-80 text-sm",dangerouslySetInnerHTML:{__html:pt.parse(i.replaceAll("Bir gönderi paylaştı!",""))}}))})]})}),E.jsx("div",{className:`${n.images.length>0&&"p-2"}`,children:n.images.map((i,s)=>E.jsx("img",{className:"rounded-md",src:i,alt:`Embedded content ${s+1}`},s))})]},n.username))})};function BO(t,e){return function(){return t.apply(e,arguments)}}const{toString:C7e}=Object.prototype,{getPrototypeOf:O_}=Object,k2=(t=>e=>{const n=C7e.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ni=t=>(t=t.toLowerCase(),e=>k2(e)===t),A2=t=>e=>typeof e===t,{isArray:Du}=Array,Xd=A2("undefined");function k7e(t){return t!==null&&!Xd(t)&&t.constructor!==null&&!Xd(t.constructor)&&Rr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UO=Ni("ArrayBuffer");function A7e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&UO(t.buffer),e}const I7e=A2("string"),Rr=A2("function"),jO=A2("number"),I2=t=>t!==null&&typeof t=="object",P7e=t=>t===!0||t===!1,I0=t=>{if(k2(t)!=="object")return!1;const e=O_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},R7e=Ni("Date"),M7e=Ni("File"),D7e=Ni("Blob"),O7e=Ni("FileList"),N7e=t=>I2(t)&&Rr(t.pipe),F7e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rr(t.append)&&((e=k2(t))==="formdata"||e==="object"&&Rr(t.toString)&&t.toString()==="[object FormData]"))},$7e=Ni("URLSearchParams"),[z7e,B7e,U7e,j7e]=["ReadableStream","Request","Response","Headers"].map(Ni),V7e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Du(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function VO(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ga=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,GO=t=>!Xd(t)&&t!==Ga;function X7(){const{caseless:t}=GO(this)&&this||{},e={},n=(r,i)=>{const s=t&&VO(e,i)||i;I0(e[s])&&I0(r)?e[s]=X7(e[s],r):I0(r)?e[s]=X7({},r):Du(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Nf(arguments[r],n);return e}const G7e=(t,e,n,{allOwnKeys:r}={})=>(Nf(e,(i,s)=>{n&&Rr(i)?t[s]=BO(i,n):t[s]=i},{allOwnKeys:r}),t),H7e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),W7e=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},K7e=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&O_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},q7e=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Y7e=t=>{if(!t)return null;if(Du(t))return t;let e=t.length;if(!jO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Z7e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&O_(Uint8Array)),X7e=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Q7e=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},J7e=Ni("HTMLFormElement"),eve=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),bT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),tve=Ni("RegExp"),HO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Nf(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},nve=t=>{HO(t,(e,n)=>{if(Rr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Rr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},rve=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Du(t)?r(t):r(String(t).split(e)),n},ive=()=>{},sve=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,dg="abcdefghijklmnopqrstuvwxyz",wT="0123456789",WO={DIGIT:wT,ALPHA:dg,ALPHA_DIGIT:dg+dg.toUpperCase()+wT},ove=(t=16,e=WO.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function ave(t){return!!(t&&Rr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const lve=t=>{const e=new Array(10),n=(r,i)=>{if(I2(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Du(r)?[]:{};return Nf(r,(o,a)=>{const l=n(o,i+1);!Xd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},cve=Ni("AsyncFunction"),uve=t=>t&&(I2(t)||Rr(t))&&Rr(t.then)&&Rr(t.catch),KO=((t,e)=>t?setImmediate:e?((n,r)=>(Ga.addEventListener("message",({source:i,data:s})=>{i===Ga&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ga.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rr(Ga.postMessage)),hve=typeof queueMicrotask<"u"?queueMicrotask.bind(Ga):typeof process<"u"&&process.nextTick||KO,ne={isArray:Du,isArrayBuffer:UO,isBuffer:k7e,isFormData:F7e,isArrayBufferView:A7e,isString:I7e,isNumber:jO,isBoolean:P7e,isObject:I2,isPlainObject:I0,isReadableStream:z7e,isRequest:B7e,isResponse:U7e,isHeaders:j7e,isUndefined:Xd,isDate:R7e,isFile:M7e,isBlob:D7e,isRegExp:tve,isFunction:Rr,isStream:N7e,isURLSearchParams:$7e,isTypedArray:Z7e,isFileList:O7e,forEach:Nf,merge:X7,extend:G7e,trim:V7e,stripBOM:H7e,inherits:W7e,toFlatObject:K7e,kindOf:k2,kindOfTest:Ni,endsWith:q7e,toArray:Y7e,forEachEntry:X7e,matchAll:Q7e,isHTMLForm:J7e,hasOwnProperty:bT,hasOwnProp:bT,reduceDescriptors:HO,freezeMethods:nve,toObjectSet:rve,toCamelCase:eve,noop:ive,toFiniteNumber:sve,findKey:VO,global:Ga,isContextDefined:GO,ALPHABET:WO,generateString:ove,isSpecCompliantForm:ave,toJSONObject:lve,isAsyncFn:cve,isThenable:uve,setImmediate:KO,asap:hve};function Ue(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ne.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const qO=Ue.prototype,YO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YO[t]={value:t}});Object.defineProperties(Ue,YO);Object.defineProperty(qO,"isAxiosError",{value:!0});Ue.from=(t,e,n,r,i,s)=>{const o=Object.create(qO);return ne.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ue.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const dve=null;function Q7(t){return ne.isPlainObject(t)||ne.isArray(t)}function ZO(t){return ne.endsWith(t,"[]")?t.slice(0,-2):t}function ST(t,e,n){return t?t.concat(e).map(function(i,s){return i=ZO(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function fve(t){return ne.isArray(t)&&!t.some(Q7)}const pve=ne.toFlatObject(ne,{},null,function(e){return/^is[A-Z]/.test(e)});function P2(t,e,n){if(!ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!ne.isUndefined(_[v])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(e);if(!ne.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(ne.isDate(g))return g.toISOString();if(!l&&ne.isBlob(g))throw new Ue("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(g)||ne.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function h(g,v,_){let x=g;if(g&&!_&&typeof g=="object"){if(ne.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(ne.isArray(g)&&fve(g)||(ne.isFileList(g)||ne.endsWith(v,"[]"))&&(x=ne.toArray(g)))return v=ZO(v),x.forEach(function(w,T){!(ne.isUndefined(w)||w===null)&&e.append(o===!0?ST([v],T,s):o===null?v:v+"[]",c(w))}),!1}return Q7(g)?!0:(e.append(ST(_,v,s),c(g)),!1)}const d=[],f=Object.assign(pve,{defaultVisitor:h,convertValue:c,isVisitable:Q7});function m(g,v){if(!ne.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(g),ne.forEach(g,function(x,b){(!(ne.isUndefined(x)||x===null)&&i.call(e,x,ne.isString(b)?b.trim():b,v,f))===!0&&m(x,v?v.concat(b):[b])}),d.pop()}}if(!ne.isObject(t))throw new TypeError("data must be an object");return m(t),e}function ET(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function N_(t,e){this._pairs=[],t&&P2(t,this,e)}const XO=N_.prototype;XO.append=function(e,n){this._pairs.push([e,n])};XO.toString=function(e){const n=e?function(r){return e.call(this,r,ET)}:ET;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function mve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QO(t,e,n){if(!e)return t;const r=n&&n.encode||mve,i=n&&n.serialize;let s;if(i?s=i(e,n):s=ne.isURLSearchParams(e)?e.toString():new N_(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class TT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ne.forEach(this.handlers,function(r){r!==null&&e(r)})}}const JO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gve=typeof URLSearchParams<"u"?URLSearchParams:N_,vve=typeof FormData<"u"?FormData:null,yve=typeof Blob<"u"?Blob:null,_ve={isBrowser:!0,classes:{URLSearchParams:gve,FormData:vve,Blob:yve},protocols:["http","https","file","blob","url","data"]},F_=typeof window<"u"&&typeof document<"u",J7=typeof navigator=="object"&&navigator||void 0,xve=F_&&(!J7||["ReactNative","NativeScript","NS"].indexOf(J7.product)<0),bve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wve=F_&&window.location.href||"http://localhost",Sve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:F_,hasStandardBrowserEnv:xve,hasStandardBrowserWebWorkerEnv:bve,navigator:J7,origin:wve},Symbol.toStringTag,{value:"Module"})),Mr={...Sve,..._ve};function Eve(t,e){return P2(t,new Mr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Mr.isNode&&ne.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Tve(t){return ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Lve(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function eN(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&ne.isArray(i)?i.length:o,l?(ne.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!ne.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&ne.isArray(i[o])&&(i[o]=Lve(i[o])),!a)}if(ne.isFormData(t)&&ne.isFunction(t.entries)){const n={};return ne.forEachEntry(t,(r,i)=>{e(Tve(r),i,n,0)}),n}return null}function Cve(t,e,n){if(ne.isString(t))try{return(e||JSON.parse)(t),ne.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ff={transitional:JO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ne.isObject(e);if(s&&ne.isHTMLForm(e)&&(e=new FormData(e)),ne.isFormData(e))return i?JSON.stringify(eN(e)):e;if(ne.isArrayBuffer(e)||ne.isBuffer(e)||ne.isStream(e)||ne.isFile(e)||ne.isBlob(e)||ne.isReadableStream(e))return e;if(ne.isArrayBufferView(e))return e.buffer;if(ne.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Eve(e,this.formSerializer).toString();if((a=ne.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return P2(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Cve(e)):e}],transformResponse:[function(e){const n=this.transitional||Ff.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ne.isResponse(e)||ne.isReadableStream(e))return e;if(e&&ne.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ue.from(a,Ue.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mr.classes.FormData,Blob:Mr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],t=>{Ff.headers[t]={}});const kve=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ave=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&kve[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},LT=Symbol("internals");function Eh(t){return t&&String(t).trim().toLowerCase()}function P0(t){return t===!1||t==null?t:ne.isArray(t)?t.map(P0):String(t)}function Ive(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Pve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function fg(t,e,n,r,i){if(ne.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ne.isString(e)){if(ne.isString(r))return e.indexOf(r)!==-1;if(ne.isRegExp(r))return r.test(e)}}function Rve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Mve(t,e){const n=ne.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class wr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const h=Eh(l);if(!h)throw new Error("header name must be a non-empty string");const d=ne.findKey(i,h);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=P0(a))}const o=(a,l)=>ne.forEach(a,(c,h)=>s(c,h,l));if(ne.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(ne.isString(e)&&(e=e.trim())&&!Pve(e))o(Ave(e),n);else if(ne.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Eh(e),e){const r=ne.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Ive(i);if(ne.isFunction(n))return n.call(this,i,r);if(ne.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Eh(e),e){const r=ne.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||fg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Eh(o),o){const a=ne.findKey(r,o);a&&(!n||fg(r,r[a],a,n))&&(delete r[a],i=!0)}}return ne.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||fg(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ne.forEach(this,(i,s)=>{const o=ne.findKey(r,s);if(o){n[o]=P0(i),delete n[s];return}const a=e?Rve(s):String(s).trim();a!==s&&delete n[s],n[a]=P0(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ne.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ne.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[LT]=this[LT]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Eh(o);r[a]||(Mve(i,o),r[a]=!0)}return ne.isArray(e)?e.forEach(s):s(e),this}}wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(wr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ne.freezeMethods(wr);function pg(t,e){const n=this||Ff,r=e||n,i=wr.from(r.headers);let s=r.data;return ne.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function tN(t){return!!(t&&t.__CANCEL__)}function Ou(t,e,n){Ue.call(this,t??"canceled",Ue.ERR_CANCELED,e,n),this.name="CanceledError"}ne.inherits(Ou,Ue,{__CANCEL__:!0});function nN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ue("Request failed with status code "+n.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Dve(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ove(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const m=h&&c-h;return m?Math.round(f*1e3/m):void 0}}function Nve(t,e){let n=0,r=1e3/e,i,s;const o=(c,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const h=Date.now(),d=h-n;d>=r?o(c,h):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const v1=(t,e,n=3)=>{let r=0;const i=Ove(50,250);return Nve(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),h=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},CT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},kT=t=>(...e)=>ne.asap(()=>t(...e)),Fve=Mr.hasStandardBrowserEnv?function(){const e=Mr.navigator&&/(msie|trident)/i.test(Mr.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=ne.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),$ve=Mr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];ne.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ne.isString(r)&&o.push("path="+r),ne.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Bve(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function rN(t,e){return t&&!zve(e)?Bve(t,e):e}const AT=t=>t instanceof wr?{...t}:t;function gl(t,e){e=e||{};const n={};function r(c,h,d){return ne.isPlainObject(c)&&ne.isPlainObject(h)?ne.merge.call({caseless:d},c,h):ne.isPlainObject(h)?ne.merge({},h):ne.isArray(h)?h.slice():h}function i(c,h,d){if(ne.isUndefined(h)){if(!ne.isUndefined(c))return r(void 0,c,d)}else return r(c,h,d)}function s(c,h){if(!ne.isUndefined(h))return r(void 0,h)}function o(c,h){if(ne.isUndefined(h)){if(!ne.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,d){if(d in e)return r(c,h);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>i(AT(c),AT(h),!0)};return ne.forEach(Object.keys(Object.assign({},t,e)),function(h){const d=l[h]||i,f=d(t[h],e[h],h);ne.isUndefined(f)&&d!==a||(n[h]=f)}),n}const iN=t=>{const e=gl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=wr.from(o),e.url=QO(rN(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(ne.isFormData(n)){if(Mr.hasStandardBrowserEnv||Mr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...h]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(Mr.hasStandardBrowserEnv&&(r&&ne.isFunction(r)&&(r=r(e)),r||r!==!1&&Fve(e.url))){const c=i&&s&&$ve.read(s);c&&o.set(i,c)}return e},Uve=typeof XMLHttpRequest<"u",jve=Uve&&function(t){return new Promise(function(n,r){const i=iN(t);let s=i.data;const o=wr.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,h,d,f,m,g;function v(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function x(){if(!_)return;const w=wr.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:w,config:t,request:_};nN(function(M){n(M),v()},function(M){r(M),v()},C),_=null}"onloadend"in _?_.onloadend=x:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(x)},_.onabort=function(){_&&(r(new Ue("Request aborted",Ue.ECONNABORTED,t,_)),_=null)},_.onerror=function(){r(new Ue("Network Error",Ue.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||JO;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),r(new Ue(T,C.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,t,_)),_=null},s===void 0&&o.setContentType(null),"setRequestHeader"in _&&ne.forEach(o.toJSON(),function(T,C){_.setRequestHeader(C,T)}),ne.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),a&&a!=="json"&&(_.responseType=i.responseType),c&&([f,g]=v1(c,!0),_.addEventListener("progress",f)),l&&_.upload&&([d,m]=v1(l),_.upload.addEventListener("progress",d),_.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(h=w=>{_&&(r(!w||w.type?new Ou(null,t,_):w),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const b=Dve(i.url);if(b&&Mr.protocols.indexOf(b)===-1){r(new Ue("Unsupported protocol "+b+":",Ue.ERR_BAD_REQUEST,t));return}_.send(s||null)})},Vve=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,o();const c=l instanceof Error?l:this.reason;n.abort(c instanceof Ue?c:new Ou(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{i(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},Gve=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Hve=async function*(t,e,n){for await(const r of t)yield*Gve(ArrayBuffer.isView(r)?r:await n(String(r)),e)},IT=(t,e,n,r,i)=>{const s=Hve(t,e,i);let o=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:d}=await s.next();if(h){l(),c.close();return}let f=d.byteLength;if(n){let m=o+=f;n(m)}c.enqueue(new Uint8Array(d))}catch(h){throw l(h),h}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},R2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sN=R2&&typeof ReadableStream=="function",ev=R2&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),oN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Wve=sN&&oN(()=>{let t=!1;const e=new Request(Mr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),PT=64*1024,tv=sN&&oN(()=>ne.isReadableStream(new Response("").body)),y1={stream:tv&&(t=>t.body)};R2&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!y1[e]&&(y1[e]=ne.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ue(`Response type '${e}' is not supported`,Ue.ERR_NOT_SUPPORT,r)})})})(new Response);const Kve=async t=>{if(t==null)return 0;if(ne.isBlob(t))return t.size;if(ne.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(ne.isArrayBufferView(t)||ne.isArrayBuffer(t))return t.byteLength;if(ne.isURLSearchParams(t)&&(t=t+""),ne.isString(t))return(await ev(t)).byteLength},qve=async(t,e)=>{const n=ne.toFiniteNumber(t.getContentLength());return n??Kve(e)},Yve=R2&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:h,withCredentials:d="same-origin",fetchOptions:f}=iN(t);c=c?(c+"").toLowerCase():"text";let[m,g]=i||s||o?Vve([i,s],o):[],v,_;const x=()=>{!v&&setTimeout(()=>{m&&m.unsubscribe()}),v=!0};let b;try{if(l&&Wve&&n!=="get"&&n!=="head"&&(b=await qve(h,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),A;if(ne.isFormData(r)&&(A=M.headers.get("content-type"))&&h.setContentType(A),M.body){const[O,N]=CT(b,v1(kT(l)));r=IT(M.body,PT,O,N,ev)}}ne.isString(d)||(d=d?"include":"omit");const w="credentials"in Request.prototype;_=new Request(e,{...f,signal:m,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?d:void 0});let T=await fetch(_);const C=tv&&(c==="stream"||c==="response");if(tv&&(a||C)){const M={};["status","statusText","headers"].forEach(z=>{M[z]=T[z]});const A=ne.toFiniteNumber(T.headers.get("content-length")),[O,N]=a&&CT(A,v1(kT(a),!0))||[];T=new Response(IT(T.body,PT,O,()=>{N&&N(),C&&x()},ev),M)}c=c||"text";let I=await y1[ne.findKey(y1,c)||"text"](T,t);return!C&&x(),g&&g(),await new Promise((M,A)=>{nN(M,A,{data:I,headers:wr.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:_})})}catch(w){throw x(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,t,_),{cause:w.cause||w}):Ue.from(w,w&&w.code,t,_)}}),nv={http:dve,xhr:jve,fetch:Yve};ne.forEach(nv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const RT=t=>`- ${t}`,Zve=t=>ne.isFunction(t)||t===null||t===!1,aN={getAdapter:t=>{t=ne.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!Zve(n)&&(r=nv[(o=String(n)).toLowerCase()],r===void 0))throw new Ue(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(RT).join(`
`):" "+RT(s[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:nv};function mg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ou(null,t)}function MT(t){return mg(t),t.headers=wr.from(t.headers),t.data=pg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),aN.getAdapter(t.adapter||Ff.adapter)(t).then(function(r){return mg(t),r.data=pg.call(t,t.transformResponse,r),r.headers=wr.from(r.headers),r},function(r){return tN(r)||(mg(t),r&&r.response&&(r.response.data=pg.call(t,t.transformResponse,r.response),r.response.headers=wr.from(r.response.headers))),Promise.reject(r)})}const lN="1.7.5",$_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const DT={};$_.transitional=function(e,n,r){function i(s,o){return"[Axios v"+lN+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ue(i(o," has been removed"+(n?" in "+n:"")),Ue.ERR_DEPRECATED);return n&&!DT[o]&&(DT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Xve(t,e,n){if(typeof t!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ue("option "+s+" must be "+l,Ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ue("Unknown option "+s,Ue.ERR_BAD_OPTION)}}const rv={assertOptions:Xve,validators:$_},mo=rv.validators;class Ja{constructor(e){this.defaults=e,this.interceptors={request:new TT,response:new TT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=gl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&rv.assertOptions(r,{silentJSONParsing:mo.transitional(mo.boolean),forcedJSONParsing:mo.transitional(mo.boolean),clarifyTimeoutError:mo.transitional(mo.boolean)},!1),i!=null&&(ne.isFunction(i)?n.paramsSerializer={serialize:i}:rv.assertOptions(i,{encode:mo.function,serialize:mo.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ne.merge(s.common,s[n.method]);s&&ne.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=wr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let h,d=0,f;if(!l){const g=[MT.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,h=Promise.resolve(n);d<f;)h=h.then(g[d++],g[d++]);return h}f=a.length;let m=n;for(d=0;d<f;){const g=a[d++],v=a[d++];try{m=g(m)}catch(_){v.call(this,_);break}}try{h=MT.call(this,m)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)h=h.then(c[d++],c[d++]);return h}getUri(e){e=gl(this.defaults,e);const n=rN(e.baseURL,e.url);return QO(n,e.params,e.paramsSerializer)}}ne.forEach(["delete","get","head","options"],function(e){Ja.prototype[e]=function(n,r){return this.request(gl(r||{},{method:e,url:n,data:(r||{}).data}))}});ne.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(gl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ja.prototype[e]=n(),Ja.prototype[e+"Form"]=n(!0)});class z_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Ou(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new z_(function(i){e=i}),cancel:e}}}function Qve(t){return function(n){return t.apply(null,n)}}function Jve(t){return ne.isObject(t)&&t.isAxiosError===!0}const iv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iv).forEach(([t,e])=>{iv[e]=t});function cN(t){const e=new Ja(t),n=BO(Ja.prototype.request,e);return ne.extend(n,Ja.prototype,e,{allOwnKeys:!0}),ne.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return cN(gl(t,i))},n}const Xt=cN(Ff);Xt.Axios=Ja;Xt.CanceledError=Ou;Xt.CancelToken=z_;Xt.isCancel=tN;Xt.VERSION=lN;Xt.toFormData=P2;Xt.AxiosError=Ue;Xt.Cancel=Xt.CanceledError;Xt.all=function(e){return Promise.all(e)};Xt.spread=Qve;Xt.isAxiosError=Jve;Xt.mergeConfig=gl;Xt.AxiosHeaders=wr;Xt.formToJSON=t=>eN(ne.isHTMLForm(t)?new FormData(t):t);Xt.getAdapter=aN.getAdapter;Xt.HttpStatusCode=iv;Xt.default=Xt;const eye=({videoUrl:t,audioUrl:e})=>{const n=P.useRef(null),r=P.useRef(null),[i,s]=P.useState(!1),[o,a]=P.useState(0);P.useState(!1);const l=()=>{n.current.paused?(n.current.play(),r.current.play(),s(!0)):(n.current.pause(),r.current.pause(),s(!1))},c=()=>{a(n.current.currentTime)},h=d=>{n.current.currentTime=d,r.current.currentTime=d};return E.jsxs("div",{className:"relative rounded-lg",children:[E.jsx("video",{className:"rounded-lg",onTimeUpdate:c,ref:n,src:t}),E.jsx("audio",{ref:r,src:e}),E.jsxs("div",{className:"absolute bottom-0 left-0 right-0 border dark:border-white/[.15] border-white/30 p-3 flex items-center justify-center backdrop-blur-xl rounded-lg",children:[E.jsx("button",{onClick:l,className:"text-white mx-2",children:i?E.jsx(be,{name:"Pause"}):E.jsx(be,{name:"Play"})}),E.jsx("input",{min:0,max:n.current&&n.current.duration,value:o,onChange:d=>h(d.target.value),type:"range",className:"w-full mx-2 cursor-pointer"})]})]})};function tye({data:t}){const[e,n]=P.useState({}),[r,i]=P.useState(!1),[s,o]=P.useState([]),{server:a}=t;a.reddit||Jd("Sunucu ile eşleşen reddit bulunamadı"),P.useEffect(()=>{const d=async()=>{try{const m=await Xt.get(`https://www.reddit.com/r/${a.reddit}/new.json`);o(m.data.data.children),l(m.data.data.children)}catch(m){console.error("Error fetching data:",m)}},f=async()=>{try{const m=await Xt.get(`https://www.reddit.com/r/${a.reddit}/about.json`);i(m.data.data)}catch(m){console.error("Error fetching data:",m)}};a.reddit&&(d(),f())},[]);const l=async d=>{const f=d.map(async v=>{const _=v.data.author;try{const x=await Xt.get(`https://www.reddit.com/user/${_}/about.json`),{icon_img:b,snoovatar_img:w}=x.data.data;let T=w||b||null;return T&&(T.includes(".jpg")||T.includes(".png")||T.includes(".jpeg"))&&(T=T.split("?")[0]),{[_]:T}}catch(x){return console.error("Error fetching avatar for",_,":",x),{[_]:null}}}),m=await Promise.all(f),g=Object.assign({},...m);n(g)},c=d=>{if(d.data.is_video)return E.jsx(eye,{videoUrl:d.data.media.reddit_video.fallback_url,audioUrl:`${d.data.url_overridden_by_dest}/DASH_AUDIO_64.mp4`});if(d.data.url.includes("youtube.com")||d.data.url.includes("youtu.be")){let f;if(d.data.url.includes("youtube.com")?f=d.data.url.split("v=")[1]:d.data.url.includes("youtu.be")&&(f=d.data.url.split(".be/")[1]),f)return E.jsx("iframe",{allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",src:`https://www.youtube.com/embed/${f}`,className:"w-full h-[225px] rounded-lg",title:"youtube-video",allowFullScreen:!0,frameBorder:"0"})}else return d.data.url.includes(".jpg")||d.data.url.includes(".png")?E.jsx("img",{src:d.data.url,alt:"post-image",className:"w-full h-auto rounded-lg"}):E.jsx("a",{target:"_blank",href:d.data.url,className:"break-all break-words",children:d.data.url})};function h(d){var f=new Date,m=new Date(d*1e3),g=f-m,v=Math.floor(g/(1e3*60*60)),_=Math.floor(g/(1e3*60)%60);return v+"sa, "+_+"dk önce"}return E.jsxs("div",{className:"h-full p-2 w-[450px] flex flex-col space-y-4",children:[r&&E.jsxs("div",{className:"w-full h-auto px-3 pt-3 flex items-center gap-x-2 relative",children:[E.jsx("img",{className:"w-12 h-12 rounded-full flex-shrink-0 object-cover",src:r.community_icon.split("?")[0]}),E.jsxs("div",{className:"flex flex-col -space-y-1.5",children:[E.jsx("h3",{children:r.title}),E.jsx("p",{className:"text-xs opacity-80 line-clamp-1",children:r.description})]}),E.jsxs("div",{className:"absolute right-3 top-2/4 -translate-y-2/4 flex flex-col items-end",children:[E.jsx(be,{name:"Membership"}),E.jsxs("p",{className:"text-xs opacity-80 line-clamp-1",children:[r.subscribers," abone"]})]})]}),E.jsx("div",{className:"flex flex-col space-y-3",children:s.map(d=>E.jsxs("div",{className:"flex flex-col gap-x-2 h-auto border dark:border-white/[.15] border-black/30 rounded-lg w-full cursor-pointer",children:[E.jsxs("div",{className:"w-full h-auto border-b dark:border-white/[.15] border-black/30 p-2 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center",children:[e[d.data.author]&&E.jsx("img",{className:"w-10 h-10 rounded-full flex-shrink-0",src:e[d.data.author],alt:"avatar"}),E.jsxs("div",{className:"flex flex-col -space-y-1",children:[E.jsx("h3",{className:"ml-3 line-clamp-1",children:d.data.title}),E.jsxs("div",{className:"flex items-center gap-x-2",children:[E.jsx("p",{className:"ml-3 opacity-80 text-sm",children:d.data.author}),E.jsx("svg",{width:3,height:3,"aria-hidden":"true",className:"dark:fill-white fill-black flex-shrink-0",children:E.jsx("circle",{cx:1,cy:1,r:1})}),E.jsx("p",{className:"opacity-80 text-xs",children:h(d.data.created)})]})]})]}),E.jsxs("div",{className:"flex flex-col items-center justify-center",children:[E.jsx(be,{style:"-rotate-90",name:"Right"}),E.jsx("p",{className:"text-xs",children:d.data.ups})]})]}),E.jsx("div",{className:"p-2",children:c(d)})]},d.data.id))})]})}function nye({data:t}){const[e,n]=P.useState(!1),[r,i]=P.useState(null),[s,o]=P.useState(null),{server:a}=t;P.useEffect(()=>{a.poll&&i(a.poll)},[a.name]),P.useEffect(()=>{if(r){const d=localStorage.getItem(`POVS_POLL_VOTE_${a.name.toUpperCase()}`),f=localStorage.getItem(`POVS_POLL_SELECTED_${a.name.toUpperCase()}`);Number(d)===r.id&&f!==null&&(n(!0),o(Number(f)))}},[r]);const l=d=>typeof d=="number"&&d>=0,c=d=>{if(!e&&r){const f={...r,answers:r.answers.map((m,g)=>{if(g===d){const v=m.votes+1;if(!l(v))throw new Error("Invalid vote count.");return{...m,votes:v}}return m})};no(ot(at,`${a.name}/POLL`),f),localStorage.setItem(`POVS_POLL_VOTE_${a.name.toUpperCase()}`,r.id),localStorage.setItem(`POVS_POLL_SELECTED_${a.name.toUpperCase()}`,d),n(!0),o(d),i(f)}};if(!r)return E.jsx("div",{className:"bg-white/5 py-2 px-4 rounded-lg",children:"No valid poll found."});const h=r.answers.reduce((d,f)=>d+f.votes,0);return E.jsx("section",{className:"p-4 min-w-[500px] max-w-5xl",children:E.jsxs("div",{className:"mx-auto max-w-xl",children:[E.jsx("div",{className:"text-center mb-8",children:E.jsx("h2",{className:"text-4xl font-bold",children:r.title})}),E.jsx(rye,{votes:r.answers,handleVote:c,hasVoted:e,totalVotes:h,selectedOption:s})]})})}const rye=({votes:t,handleVote:e,hasVoted:n,totalVotes:r,selectedOption:i})=>E.jsx("div",{className:"space-y-4",children:t.map((s,o)=>{const a=(s.votes/r*100).toFixed(2);return E.jsx($n.div,{className:`w-full rounded-2xl p-4 mb-2 cursor-pointer ${i===o?"bg-server-50":"bg-white/5"} ${n&&i!==o?"cursor-not-allowed opacity-50":"hover:bg-opacity-75"}`,whileHover:{scale:1.015},whileTap:{scale:.985},onClick:()=>e(o),disabled:n,children:E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:"text-lg font-medium",children:s.name}),E.jsxs("span",{className:"text-sm text-gray-300",children:[s.votes," oy (",a,"%)"]})]})},s.name)})});function iye({data:t}){const[e,n]=P.useState(""),[r,i]=P.useState(""),[s,o]=P.useState(""),{server:a,mousePosition:l}=t,[c,h]=P.useState(""),[d,f]=P.useState(""),[m,g]=P.useState(localStorage.getItem("POVS_MAP_ID")||Wd());P.useEffect(()=>{localStorage.getItem("POVS_MAP_ID")||localStorage.setItem("POVS_MAP_ID",m)},[m]),P.useEffect(()=>{h(l.x),f(l.y)},[l]);const v=[{name:"Lokasyon",code:"location",icon:"LocationFilled"},{name:"Karakter",code:"people",icon:"Man"}];P.useEffect(()=>{n(v[0])},[]);const _=()=>{if(e.code==="people"&&!s.trim()){Jd("Karakter adı boş bırakılamaz");return}const x=Wd();IV(a.name,c,d,e,r,s,m,x);let b=JSON.parse(localStorage.getItem("POVS_MAP_CORDS")||"[]");b.push(x),localStorage.setItem("POVS_MAP_CORDS",JSON.stringify(b))};return E.jsxs("div",{className:"w-screen max-w-2xl p-2",children:[e.code==="people"&&E.jsx("div",{className:"flex items-center gap-x-2 w-full my-1",children:E.jsx(Ln,{event:{change:x=>o(x.target.value)},type:"text",style:{width:"w-full"},content:{text:"Karakter adı",icon:{name:"Man"}},value:s})}),E.jsxs("div",{className:"flex items-center gap-x-2 w-full",children:[E.jsx(Ln,{event:{change:x=>h(x.target.value)},type:"number",style:{width:"w-full"},content:{text:"Kordinat X",icon:{name:"LongitudeFilled"}},value:c}),E.jsx(Ln,{content:{text:"Kordinat Y",icon:{name:"Latitude"}},event:{change:x=>f(x.target.value)},style:{width:"w-full"},type:"number",value:d})]}),E.jsx("textarea",{className:"border dark:border-white/[.15] border-black/30 mt-2 bg-black/10 dark:bg-white/5 rounded-lg w-full p-4 min-h-[300px]",onChange:x=>i(x.target.value),placeholder:"içerik"}),E.jsx(ft,{content:{text:"Onayla",icon:{name:"Ok"}},event:{click:_},className:"w-full"})]})}function sye({data:t}){const[e,n]=P.useState(!1),{server:r}=t;if(P.useEffect(()=>{r&&r.code?fetch(`https://servers-frontend.fivem.net/api/servers/single/${r.code}`,{headers:{"Content-Type":"application/json"},mode:"cors"}).then(s=>{if(!s.ok)throw new Error("Network response was not ok");return s.json()}).then(s=>{(s==null?void 0:s.Data)!==void 0?n(s.Data):n({error:"Sunucu bilgisi alınamadı"})}).catch(()=>n({error:"Sunucu kapalı"})):n({error:"Sunucu bilgisi alınamadı"})},[r]),!e)return E.jsx(us,{text:"Sunucu bilgileri yükleniyor"});const i=e.resources.sort((s,o)=>s.includes(r.name)&&!o.includes(r.name)?-1:!s.includes(r.name)&&o.includes(r.name)?1:0);return E.jsxs("div",{className:"p-2 max-w-xl",children:[E.jsxs("div",{className:"border dark:border-white/[.15] border-black/30 p-2 flex items-center gap-x-2 rounded-2xl",children:[E.jsx("img",{className:"w-16 rounded-xl",src:e.ownerAvatar}),E.jsxs("div",{className:"flex flex-col -space-y-2",children:[E.jsx("h3",{children:e.ownerName.toUpperCase()}),E.jsx("p",{className:"text-sm opacity-70",children:"Kurucu"})]})]}),E.jsx("h2",{className:"py-3 mx-auto text-center",children:"Kaynaklar"}),E.jsx("div",{className:"flex flex-wrap gap-4",children:i.map(s=>E.jsx("div",{className:"w-1/4 flex-auto bg-black/5 dark:bg-white/5 py-1 px-3 text-center rounded-lg break-all",children:s}))})]})}function oye(){const[t,e]=P.useState(""),[n,r]=P.useState(""),[i,s]=P.useState(""),[o,a]=P.useState("");yu();const{spaceColor:l,spaceBackground:c}=Qn(g=>g.space);P.useEffect(()=>{a(l),s(c)},[l,c]);const h=()=>{if(n.trim()===""){alert("Lütfen bir değer girin");return}cn.dispatch(y$(n))},d=()=>{if(t.trim()===""){alert("Lütfen bir değer girin");return}cn.dispatch(v$(t))},f=()=>{if(o.trim()===""){alert("Lütfen bir renk kodu girin");return}cn.dispatch(x$(o))},m=()=>{cn.dispatch(_$(i))};return E.jsxs("div",{className:"p-2 grid grid-cols-2 gap-2",children:[E.jsxs("div",{className:"flex items-center gap-x-2 h-12",children:[E.jsx(Ln,{className:"w-full h-full",event:{change:g=>r(g.target.value)},content:{text:"Yayıncı adı",icon:{name:"Kick"}}}),E.jsx(ft,{className:"h-full w-auto",event:{click:h},content:{icon:{name:"Add"}}})]}),E.jsxs("div",{className:"flex items-center gap-x-2 h-12",children:[E.jsx(Ln,{className:"w-full h-full",event:{change:g=>e(g.target.value)},content:{text:"Yayıncı adı",icon:{name:"Twitch"}}}),E.jsx(ft,{className:"h-full w-auto",event:{click:d},content:{icon:{name:"Add"}}})]}),E.jsxs("div",{className:"flex items-center gap-x-2 h-12",children:[E.jsx(Ln,{className:"w-full h-full",event:{change:g=>a(g.target.value)},content:{text:"Renk (hex: #CODE)",icon:{name:"PaletteFilled"}},value:o}),E.jsx(ft,{className:"h-full w-auto",event:{click:f},content:{icon:{name:"Ok"}}})]}),E.jsxs("div",{className:"flex items-center gap-x-2 h-12",children:[E.jsx(Ln,{className:"w-full h-full",event:{change:g=>s(g.target.value)},content:{text:"Arkaplan URL",icon:{name:"Picture"}},value:i}),E.jsx(ft,{className:"h-full w-auto",event:{click:m},content:{icon:{name:"Ok"}}})]})]})}const aye=[{name:"TOAST",element:$5e},{name:"PANEL",element:xD},{name:"SERVER_INFO",element:sye},{name:"CONTACT",element:z5e},{name:"QA",element:E7e},{name:"SPACE_PANEL",element:oye},{name:"REDDIT",element:tye},{name:"POLL",element:nye},{name:"ADD_CORD",element:iye},{name:"SETTINGS",element:T7e},{name:"SERVER_MEDIA",element:L7e},{name:"EDIT_STREAMER",element:B5e},{name:"STREAMER_CHARACTER",element:w7e},{name:"SOCIAL_PLAYER",element:F5e}];function lye({name:t,data:e}){const n=aye.find(d=>d.name===t),[r,i]=P.useState(!0),{position:s="Default",title:o}=e,a=P.useRef();P.useEffect(()=>{function d(f){a.current&&!a.current.contains(f.target)&&l()}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);function l(){i(!1),setTimeout(()=>{cd()},300)}if(t==="TOAST"||t==="PREVIEW_STREAMER")return E.jsx(n.element,{close:l,data:e});const c={Default:{motion:{initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.85}},classNames:"rounded-xl border-2 dark:border-white/[.15] border-black/30 max-h-[calc(100vh-3rem)]"},Right:{motion:{initial:{opacity:0,x:150},animate:{opacity:1,x:0},exit:{opacity:0,x:150}},classNames:"absolute right-0 h-screen rounded-none !border-l-2 dark:border-white/[.15] border-black/30"},Left:{motion:{initial:{opacity:0,x:-150},animate:{opacity:1,x:0},exit:{opacity:0,x:-150}},classNames:"absolute left-0 h-screen rounded-none !border-r-2 dark:border-white/[.15] border-black/30"},Bottom:{motion:{initial:{opacity:0,y:150},animate:{opacity:1,y:0},exit:{opacity:0,y:150}},classNames:"absolute bottom-4 w-full rounded-xl !border-2 dark:border-white/[.15] border-black/30"},BottomLeft:{motion:{initial:{opacity:0,y:150},animate:{opacity:1,y:0},exit:{opacity:0,y:150}},classNames:"absolute bottom-4 left-4 w-full rounded-xl !border-2 dark:border-white/[.15] border-black/30 max-h-[calc(100vh-2rem)]"},BottomRight:{motion:{initial:{opacity:0,y:150},animate:{opacity:1,y:0},exit:{opacity:0,y:150}},classNames:"absolute bottom-4 right-4 w-full rounded-xl !border-2 dark:border-white/[.15] border-black/30 max-h-[calc(100vh-2rem)]"}},h={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeInOut"}};return E.jsx(t_,{children:r&&E.jsx($n.div,{initial:"initial",animate:"animate",exit:"exit",transition:h.transition,className:"fixed w-screen h-screen flex items-center justify-center inset-0 overflow-y-auto scrollbar-hide !z-[1000]",children:E.jsxs($n.div,{variants:c[s].motion,transition:{duration:.3,ease:"easeInOut"},className:Ye("w-full min-w-full sm:w-auto sm:min-w-[300px] bg-white/80 dark:bg-black/70 overflow-y-auto scrollbar-hide backdrop-blur-lg",c[s].classNames,{"!border-red-500/20":t==="ERROR"}),ref:a,children:[E.jsxs($n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeInOut"},className:Ye("relative flex items-center justify-between w-full p-3 mx-auto gap-x-8 border-b dark:border-white/[.15] border-black/30",{"!border-red-500/20":t==="ERROR"}),children:[o&&E.jsx("h3",{className:Ye("text-server ml-2.5",{"!text-red-500":t==="ERROR"}),children:t==="ERROR"?"HATA":o}),E.jsx("div",{onClick:l,className:Ye("grid p-2 transition-all duration-200 border border-transparent rounded-lg cursor-pointer place-items-center dark:bg-white/5 bg-black/20",{"!w-full":!o,"hover:!bg-server":t!=="ERROR","hover:bg-red-500/20":t==="ERROR"}),children:E.jsx(be,{size:20,name:"Close"})})]}),E.jsx("div",{onClick:d=>d.stopPropagation(),children:E.jsx(n.element,{data:e})})]})},t)})}function cye(){const[t,e]=P.useState({x:0,y:0}),[n,r]=P.useState(!1),i=s=>{const{innerWidth:o,innerHeight:a}=window,l=50;e({x:Math.min(s.clientX,o-l),y:Math.min(s.clientY,a-l)})};return P.useEffect(()=>(window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousemove",i)}),[]),E.jsxs(E.Fragment,{children:[E.jsx("div",{className:`cursor__circle ${n?"cursor__circle__hovered":""}`,style:{left:`${t.x}px`,top:`${t.y}px`},children:E.jsx("span",{className:"cursor__circle__inner"})}),E.jsx("div",{className:"cursor__gradient",style:{left:`${t.x}px`,top:`${t.y}px`}})]})}function uye(){const{open:t,data:e,error:n}=Qn(s=>s.modal),{blackList:r,newDesign:i}=Qn(s=>s.utils);return P.useEffect(()=>{const s=localStorage.getItem("POVS_ADMIN");s==="pvs-yenna"&&cn.dispatch(Sg(s))},[]),E.jsxs("div",{className:"w-full h-auto",children:[i&&E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{flex:"none",height:"100%",left:"calc(50.00000000000002% - 100% / 2)",pointerEvents:"none",position:"fixed",top:0,width:"100%",zIndex:4},children:E.jsx("div",{style:{width:"100%",height:"100%",backgroundSize:64,backgroundRepeat:"repeat",backgroundImage:"url(/noise.png)",opacity:"0.06",borderRadius:0}})}),E.jsx(cye,{})]}),t&&E.jsx(lye,{name:t,data:e,error:n}),r?E.jsx(us,{type:"pvs"}):E.jsx(nK,{})]})}var sv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Je,function(n){var r="1.9.4";function i(u){var p,y,S,k;for(y=1,S=arguments.length;y<S;y++){k=arguments[y];for(p in k)u[p]=k[p]}return u}var s=Object.create||function(){function u(){}return function(p){return u.prototype=p,new u}}();function o(u,p){var y=Array.prototype.slice;if(u.bind)return u.bind.apply(u,y.call(arguments,1));var S=y.call(arguments,2);return function(){return u.apply(p,S.length?S.concat(y.call(arguments)):arguments)}}var a=0;function l(u){return"_leaflet_id"in u||(u._leaflet_id=++a),u._leaflet_id}function c(u,p,y){var S,k,D,B;return B=function(){S=!1,k&&(D.apply(y,k),k=!1)},D=function(){S?k=arguments:(u.apply(y,arguments),setTimeout(B,p),S=!0)},D}function h(u,p,y){var S=p[1],k=p[0],D=S-k;return u===S&&y?u:((u-k)%D+D)%D+k}function d(){return!1}function f(u,p){if(p===!1)return u;var y=Math.pow(10,p===void 0?6:p);return Math.round(u*y)/y}function m(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function g(u){return m(u).split(/\s+/)}function v(u,p){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?s(u.options):{});for(var y in p)u.options[y]=p[y];return u.options}function _(u,p,y){var S=[];for(var k in u)S.push(encodeURIComponent(y?k.toUpperCase():k)+"="+encodeURIComponent(u[k]));return(!p||p.indexOf("?")===-1?"?":"&")+S.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function b(u,p){return u.replace(x,function(y,S){var k=p[S];if(k===void 0)throw new Error("No value provided for variable "+y);return typeof k=="function"&&(k=k(p)),k})}var w=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function T(u,p){for(var y=0;y<u.length;y++)if(u[y]===p)return y;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var M=0;function A(u){var p=+new Date,y=Math.max(0,16-(p-M));return M=p+y,window.setTimeout(u,y)}var O=window.requestAnimationFrame||I("RequestAnimationFrame")||A,N=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function z(u,p,y){if(y&&O===A)u.call(p);else return O.call(window,o(u,p))}function H(u){u&&N.call(window,u)}var j={__proto__:null,extend:i,create:s,bind:o,get lastId(){return a},stamp:l,throttle:c,wrapNum:h,falseFn:d,formatNum:f,trim:m,splitWords:g,setOptions:v,getParamString:_,template:b,isArray:w,indexOf:T,emptyImageUrl:C,requestFn:O,cancelFn:N,requestAnimFrame:z,cancelAnimFrame:H};function Z(){}Z.extend=function(u){var p=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=p.__super__=this.prototype,S=s(y);S.constructor=p,p.prototype=S;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(p[k]=this[k]);return u.statics&&i(p,u.statics),u.includes&&(te(u.includes),i.apply(null,[S].concat(u.includes))),i(S,u),delete S.statics,delete S.includes,S.options&&(S.options=y.options?s(y.options):{},i(S.options,u.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,B=S._initHooks.length;D<B;D++)S._initHooks[D].call(this)}},p},Z.include=function(u){var p=this.prototype.options;return i(this.prototype,u),u.options&&(this.prototype.options=p,this.mergeOptions(u.options)),this},Z.mergeOptions=function(u){return i(this.prototype.options,u),this},Z.addInitHook=function(u){var p=Array.prototype.slice.call(arguments,1),y=typeof u=="function"?u:function(){this[u].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function te(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=w(u)?u:[u];for(var p=0;p<u.length;p++)u[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(u,p,y){if(typeof u=="object")for(var S in u)this._on(S,u[S],p);else{u=g(u);for(var k=0,D=u.length;k<D;k++)this._on(u[k],p,y)}return this},off:function(u,p,y){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var S in u)this._off(S,u[S],p);else{u=g(u);for(var k=arguments.length===1,D=0,B=u.length;D<B;D++)k?this._off(u[D]):this._off(u[D],p,y)}return this},_on:function(u,p,y,S){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(u,p,y)===!1){y===this&&(y=void 0);var k={fn:p,ctx:y};S&&(k.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(k)}},_off:function(u,p,y){var S,k,D;if(this._events&&(S=this._events[u],!!S)){if(arguments.length===1){if(this._firingCount)for(k=0,D=S.length;k<D;k++)S[k].fn=d;delete this._events[u];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var B=this._listens(u,p,y);if(B!==!1){var Y=S[B];this._firingCount&&(Y.fn=d,this._events[u]=S=S.slice()),S.splice(B,1)}}},fire:function(u,p,y){if(!this.listens(u,y))return this;var S=i({},p,{type:u,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var k=this._events[u];if(k){this._firingCount=this._firingCount+1||1;for(var D=0,B=k.length;D<B;D++){var Y=k[D],J=Y.fn;Y.once&&this.off(u,J,Y.ctx),J.call(Y.ctx||this,S)}this._firingCount--}}return y&&this._propagateEvent(S),this},listens:function(u,p,y,S){typeof u!="string"&&console.warn('"string" type argument expected');var k=p;typeof p!="function"&&(S=!!p,k=void 0,y=void 0);var D=this._events&&this._events[u];if(D&&D.length&&this._listens(u,k,y)!==!1)return!0;if(S){for(var B in this._eventParents)if(this._eventParents[B].listens(u,p,y,S))return!0}return!1},_listens:function(u,p,y){if(!this._events)return!1;var S=this._events[u]||[];if(!p)return!!S.length;y===this&&(y=void 0);for(var k=0,D=S.length;k<D;k++)if(S[k].fn===p&&S[k].ctx===y)return k;return!1},once:function(u,p,y){if(typeof u=="object")for(var S in u)this._on(S,u[S],p,!0);else{u=g(u);for(var k=0,D=u.length;k<D;k++)this._on(u[k],p,y,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[l(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[l(u)],this},_propagateEvent:function(u){for(var p in this._eventParents)this._eventParents[p].fire(u.type,i({layer:u.target,propagatedFrom:u.target},u),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var ie=Z.extend(G);function U(u,p,y){this.x=y?Math.round(u):u,this.y=y?Math.round(p):p}var W=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(u){return this.clone()._add(F(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(F(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new U(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new U(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=W(this.x),this.y=W(this.y),this},distanceTo:function(u){u=F(u);var p=u.x-this.x,y=u.y-this.y;return Math.sqrt(p*p+y*y)},equals:function(u){return u=F(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=F(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function F(u,p,y){return u instanceof U?u:w(u)?new U(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new U(u.x,u.y):new U(u,p,y)}function q(u,p){if(u)for(var y=p?[u,p]:u,S=0,k=y.length;S<k;S++)this.extend(y[S])}q.prototype={extend:function(u){var p,y;if(!u)return this;if(u instanceof U||typeof u[0]=="number"||"x"in u)p=y=F(u);else if(u=re(u),p=u.min,y=u.max,!p||!y)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=y.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(u){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var p,y;return typeof u[0]=="number"||u instanceof U?u=F(u):u=re(u),u instanceof q?(p=u.min,y=u.max):p=y=u,p.x>=this.min.x&&y.x<=this.max.x&&p.y>=this.min.y&&y.y<=this.max.y},intersects:function(u){u=re(u);var p=this.min,y=this.max,S=u.min,k=u.max,D=k.x>=p.x&&S.x<=y.x,B=k.y>=p.y&&S.y<=y.y;return D&&B},overlaps:function(u){u=re(u);var p=this.min,y=this.max,S=u.min,k=u.max,D=k.x>p.x&&S.x<y.x,B=k.y>p.y&&S.y<y.y;return D&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var p=this.min,y=this.max,S=Math.abs(p.x-y.x)*u,k=Math.abs(p.y-y.y)*u;return re(F(p.x-S,p.y-k),F(y.x+S,y.y+k))},equals:function(u){return u?(u=re(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function re(u,p){return!u||u instanceof q?u:new q(u,p)}function le(u,p){if(u)for(var y=p?[u,p]:u,S=0,k=y.length;S<k;S++)this.extend(y[S])}le.prototype={extend:function(u){var p=this._southWest,y=this._northEast,S,k;if(u instanceof de)S=u,k=u;else if(u instanceof le){if(S=u._southWest,k=u._northEast,!S||!k)return this}else return u?this.extend(ce(u)||he(u)):this;return!p&&!y?(this._southWest=new de(S.lat,S.lng),this._northEast=new de(k.lat,k.lng)):(p.lat=Math.min(S.lat,p.lat),p.lng=Math.min(S.lng,p.lng),y.lat=Math.max(k.lat,y.lat),y.lng=Math.max(k.lng,y.lng)),this},pad:function(u){var p=this._southWest,y=this._northEast,S=Math.abs(p.lat-y.lat)*u,k=Math.abs(p.lng-y.lng)*u;return new le(new de(p.lat-S,p.lng-k),new de(y.lat+S,y.lng+k))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof de||"lat"in u?u=ce(u):u=he(u);var p=this._southWest,y=this._northEast,S,k;return u instanceof le?(S=u.getSouthWest(),k=u.getNorthEast()):S=k=u,S.lat>=p.lat&&k.lat<=y.lat&&S.lng>=p.lng&&k.lng<=y.lng},intersects:function(u){u=he(u);var p=this._southWest,y=this._northEast,S=u.getSouthWest(),k=u.getNorthEast(),D=k.lat>=p.lat&&S.lat<=y.lat,B=k.lng>=p.lng&&S.lng<=y.lng;return D&&B},overlaps:function(u){u=he(u);var p=this._southWest,y=this._northEast,S=u.getSouthWest(),k=u.getNorthEast(),D=k.lat>p.lat&&S.lat<y.lat,B=k.lng>p.lng&&S.lng<y.lng;return D&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,p){return u?(u=he(u),this._southWest.equals(u.getSouthWest(),p)&&this._northEast.equals(u.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(u,p){return u instanceof le?u:new le(u,p)}function de(u,p,y){if(isNaN(u)||isNaN(p))throw new Error("Invalid LatLng object: ("+u+", "+p+")");this.lat=+u,this.lng=+p,y!==void 0&&(this.alt=+y)}de.prototype={equals:function(u,p){if(!u)return!1;u=ce(u);var y=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return y<=(p===void 0?1e-9:p)},toString:function(u){return"LatLng("+f(this.lat,u)+", "+f(this.lng,u)+")"},distanceTo:function(u){return Xe.distance(this,ce(u))},wrap:function(){return Xe.wrapLatLng(this)},toBounds:function(u){var p=180*u/40075017,y=p/Math.cos(Math.PI/180*this.lat);return he([this.lat-p,this.lng-y],[this.lat+p,this.lng+y])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function ce(u,p,y){return u instanceof de?u:w(u)&&typeof u[0]!="object"?u.length===3?new de(u[0],u[1],u[2]):u.length===2?new de(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new de(u.lat,"lng"in u?u.lng:u.lon,u.alt):p===void 0?null:new de(u,p,y)}var Se={latLngToPoint:function(u,p){var y=this.projection.project(u),S=this.scale(p);return this.transformation._transform(y,S)},pointToLatLng:function(u,p){var y=this.scale(p),S=this.transformation.untransform(u,y);return this.projection.unproject(S)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var p=this.projection.bounds,y=this.scale(u),S=this.transformation.transform(p.min,y),k=this.transformation.transform(p.max,y);return new q(S,k)},infinite:!1,wrapLatLng:function(u){var p=this.wrapLng?h(u.lng,this.wrapLng,!0):u.lng,y=this.wrapLat?h(u.lat,this.wrapLat,!0):u.lat,S=u.alt;return new de(y,p,S)},wrapLatLngBounds:function(u){var p=u.getCenter(),y=this.wrapLatLng(p),S=p.lat-y.lat,k=p.lng-y.lng;if(S===0&&k===0)return u;var D=u.getSouthWest(),B=u.getNorthEast(),Y=new de(D.lat-S,D.lng-k),J=new de(B.lat-S,B.lng-k);return new le(Y,J)}},Xe=i({},Se,{wrapLng:[-180,180],R:6371e3,distance:function(u,p){var y=Math.PI/180,S=u.lat*y,k=p.lat*y,D=Math.sin((p.lat-u.lat)*y/2),B=Math.sin((p.lng-u.lng)*y/2),Y=D*D+Math.cos(S)*Math.cos(k)*B*B,J=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*J}}),Qt=6378137,$t={R:Qt,MAX_LATITUDE:85.0511287798,project:function(u){var p=Math.PI/180,y=this.MAX_LATITUDE,S=Math.max(Math.min(y,u.lat),-y),k=Math.sin(S*p);return new U(this.R*u.lng*p,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(u){var p=180/Math.PI;return new de((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*p,u.x*p/this.R)},bounds:function(){var u=Qt*Math.PI;return new q([-u,-u],[u,u])}()};function At(u,p,y,S){if(w(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=p,this._c=y,this._d=S}At.prototype={transform:function(u,p){return this._transform(u.clone(),p)},_transform:function(u,p){return p=p||1,u.x=p*(this._a*u.x+this._b),u.y=p*(this._c*u.y+this._d),u},untransform:function(u,p){return p=p||1,new U((u.x/p-this._b)/this._a,(u.y/p-this._d)/this._c)}};function Pe(u,p,y,S){return new At(u,p,y,S)}var De=i({},Xe,{code:"EPSG:3857",projection:$t,transformation:function(){var u=.5/(Math.PI*$t.R);return Pe(u,.5,-u,.5)}()}),Oe=i({},De,{code:"EPSG:900913"});function Ge(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function nn(u,p){var y="",S,k,D,B,Y,J;for(S=0,D=u.length;S<D;S++){for(Y=u[S],k=0,B=Y.length;k<B;k++)J=Y[k],y+=(k?"L":"M")+J.x+" "+J.y;y+=p?$.svg?"z":"x":""}return y||"M0 0"}var Ur=document.documentElement.style,ut="ActiveXObject"in window,hn=ut&&!document.addEventListener,ur="msLaunchUri"in navigator&&!("documentMode"in document),ps=Vr("webkit"),aa=Vr("android"),la=Vr("android 2")||Vr("android 3"),Un=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Sr=aa&&Vr("Google")&&Un<537&&!("AudioNode"in window),Er=!!window.opera,Fi=!ur&&Vr("chrome"),ms=Vr("gecko")&&!ps&&!Er&&!ut,Nu=!Fi&&Vr("safari"),li=Vr("phantom"),jr="OTransition"in Ur,$f=navigator.platform.indexOf("Win")===0,ca=ut&&"transition"in Ur,Fu="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!la,ci="MozPerspective"in Ur,zf=!window.L_DISABLE_3D&&(ca||Fu||ci)&&!jr&&!li,so=typeof orientation<"u"||Vr("mobile"),Bf=so&&ps,M2=so&&Fu,$u=!window.PointerEvent&&window.MSPointerEvent,ua=!!(window.PointerEvent||$u),zu="ontouchstart"in window||!!window.TouchEvent,Bu=!window.L_NO_TOUCH&&(zu||ua),kl=so&&Er,Uu=so&&ms,D2=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Uf=function(){var u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",d,p),window.removeEventListener("testPassiveEventSupport",d,p)}catch{}return u}(),O2=function(){return!!document.createElement("canvas").getContext}(),Al=!!(document.createElementNS&&Ge("svg").createSVGRect),Il=!!Al&&function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Pl=!Al&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var p=u.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}}(),jf=navigator.platform.indexOf("Mac")===0,N2=navigator.platform.indexOf("Linux")===0;function Vr(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var $={ie:ut,ielt9:hn,edge:ur,webkit:ps,android:aa,android23:la,androidStock:Sr,opera:Er,chrome:Fi,gecko:ms,safari:Nu,phantom:li,opera12:jr,win:$f,ie3d:ca,webkit3d:Fu,gecko3d:ci,any3d:zf,mobile:so,mobileWebkit:Bf,mobileWebkit3d:M2,msPointer:$u,pointer:ua,touch:Bu,touchNative:zu,mobileOpera:kl,mobileGecko:Uu,retina:D2,passiveEvents:Uf,canvas:O2,svg:Al,vml:Pl,inlineSvg:Il,mac:jf,linux:N2},V=$.msPointer?"MSPointerDown":"pointerdown",Q=$.msPointer?"MSPointerMove":"pointermove",se=$.msPointer?"MSPointerUp":"pointerup",ge=$.msPointer?"MSPointerCancel":"pointercancel",xe={touchstart:V,touchmove:Q,touchend:se,touchcancel:ge},Le={touchstart:Kt,touchmove:Wt,touchend:Wt,touchcancel:Wt},pe={},Me=!1;function we(u,p,y){return p==="touchstart"&&rt(),Le[p]?(y=Le[p].bind(this,y),u.addEventListener(xe[p],y,!1),y):(console.warn("wrong event specified:",p),d)}function Ne(u,p,y){if(!xe[p]){console.warn("wrong event specified:",p);return}u.removeEventListener(xe[p],y,!1)}function ht(u){pe[u.pointerId]=u}function lt(u){pe[u.pointerId]&&(pe[u.pointerId]=u)}function dt(u){delete pe[u.pointerId]}function rt(){Me||(document.addEventListener(V,ht,!0),document.addEventListener(Q,lt,!0),document.addEventListener(se,dt,!0),document.addEventListener(ge,dt,!0),Me=!0)}function Wt(u,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var y in pe)p.touches.push(pe[y]);p.changedTouches=[p],u(p)}}function Kt(u,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&In(p),Wt(u,p)}function ha(u){var p={},y,S;for(S in u)y=u[S],p[S]=y&&y.bind?y.bind(u):y;return u=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var $i=200;function oo(u,p){u.addEventListener("dblclick",p);var y=0,S;function k(D){if(D.detail!==1){S=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var B=j_(D);if(!(B.some(function(J){return J instanceof HTMLLabelElement&&J.attributes.for})&&!B.some(function(J){return J instanceof HTMLInputElement||J instanceof HTMLSelectElement}))){var Y=Date.now();Y-y<=$i?(S++,S===2&&p(ha(D))):S=1,y=Y}}}return u.addEventListener("click",k),{dblclick:p,simDblclick:k}}function ao(u,p){u.removeEventListener("dblclick",p.dblclick),u.removeEventListener("click",p.simDblclick)}var zi=Gf(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),jn=Gf(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),da=jn==="webkitTransition"||jn==="OTransition"?jn+"End":"transitionend";function fa(u){return typeof u=="string"?document.getElementById(u):u}function Bi(u,p){var y=u.style[p]||u.currentStyle&&u.currentStyle[p];if((!y||y==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(u,null);y=S?S[p]:null}return y==="auto"?null:y}function me(u,p,y){var S=document.createElement(u);return S.className=p||"",y&&y.appendChild(S),S}function Re(u){var p=u.parentNode;p&&p.removeChild(u)}function yn(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function ct(u){var p=u.parentNode;p&&p.lastChild!==u&&p.appendChild(u)}function Vn(u){var p=u.parentNode;p&&p.firstChild!==u&&p.insertBefore(u,p.firstChild)}function Rl(u,p){if(u.classList!==void 0)return u.classList.contains(p);var y=Vf(u);return y.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(y)}function ze(u,p){if(u.classList!==void 0)for(var y=g(p),S=0,k=y.length;S<k;S++)u.classList.add(y[S]);else if(!Rl(u,p)){var D=Vf(u);F2(u,(D?D+" ":"")+p)}}function Jt(u,p){u.classList!==void 0?u.classList.remove(p):F2(u,m((" "+Vf(u)+" ").replace(" "+p+" "," ")))}function F2(u,p){u.className.baseVal===void 0?u.className=p:u.className.baseVal=p}function Vf(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Gr(u,p){"opacity"in u.style?u.style.opacity=p:"filter"in u.style&&uN(u,p)}function uN(u,p){var y=!1,S="DXImageTransform.Microsoft.Alpha";try{y=u.filters.item(S)}catch{if(p===1)return}p=Math.round(p*100),y?(y.Enabled=p!==100,y.Opacity=p):u.style.filter+=" progid:"+S+"(opacity="+p+")"}function Gf(u){for(var p=document.documentElement.style,y=0;y<u.length;y++)if(u[y]in p)return u[y];return!1}function pa(u,p,y){var S=p||new U(0,0);u.style[zi]=($.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(y?" scale("+y+")":"")}function rn(u,p){u._leaflet_pos=p,$.any3d?pa(u,p):(u.style.left=p.x+"px",u.style.top=p.y+"px")}function ma(u){return u._leaflet_pos||new U(0,0)}var ju,Vu,$2;if("onselectstart"in document)ju=function(){Be(window,"selectstart",In)},Vu=function(){bt(window,"selectstart",In)};else{var Gu=Gf(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ju=function(){if(Gu){var u=document.documentElement.style;$2=u[Gu],u[Gu]="none"}},Vu=function(){Gu&&(document.documentElement.style[Gu]=$2,$2=void 0)}}function z2(){Be(window,"dragstart",In)}function B2(){bt(window,"dragstart",In)}var Hf,U2;function j2(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(Wf(),Hf=u,U2=u.style.outlineStyle,u.style.outlineStyle="none",Be(window,"keydown",Wf))}function Wf(){Hf&&(Hf.style.outlineStyle=U2,Hf=void 0,U2=void 0,bt(window,"keydown",Wf))}function B_(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function V2(u){var p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}var hN={__proto__:null,TRANSFORM:zi,TRANSITION:jn,TRANSITION_END:da,get:fa,getStyle:Bi,create:me,remove:Re,empty:yn,toFront:ct,toBack:Vn,hasClass:Rl,addClass:ze,removeClass:Jt,setClass:F2,getClass:Vf,setOpacity:Gr,testProp:Gf,setTransform:pa,setPosition:rn,getPosition:ma,get disableTextSelection(){return ju},get enableTextSelection(){return Vu},disableImageDrag:z2,enableImageDrag:B2,preventOutline:j2,restoreOutline:Wf,getSizedParentNode:B_,getScale:V2};function Be(u,p,y,S){if(p&&typeof p=="object")for(var k in p)H2(u,k,p[k],y);else{p=g(p);for(var D=0,B=p.length;D<B;D++)H2(u,p[D],y,S)}return this}var Ui="_leaflet_events";function bt(u,p,y,S){if(arguments.length===1)U_(u),delete u[Ui];else if(p&&typeof p=="object")for(var k in p)W2(u,k,p[k],y);else if(p=g(p),arguments.length===2)U_(u,function(Y){return T(p,Y)!==-1});else for(var D=0,B=p.length;D<B;D++)W2(u,p[D],y,S);return this}function U_(u,p){for(var y in u[Ui]){var S=y.split(/\d/)[0];(!p||p(S))&&W2(u,S,null,null,y)}}var G2={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function H2(u,p,y,S){var k=p+l(y)+(S?"_"+l(S):"");if(u[Ui]&&u[Ui][k])return this;var D=function(Y){return y.call(S||u,Y||window.event)},B=D;!$.touchNative&&$.pointer&&p.indexOf("touch")===0?D=we(u,p,D):$.touch&&p==="dblclick"?D=oo(u,D):"addEventListener"in u?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?u.addEventListener(G2[p]||p,D,$.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(D=function(Y){Y=Y||window.event,q2(u,Y)&&B(Y)},u.addEventListener(G2[p],D,!1)):u.addEventListener(p,B,!1):u.attachEvent("on"+p,D),u[Ui]=u[Ui]||{},u[Ui][k]=D}function W2(u,p,y,S,k){k=k||p+l(y)+(S?"_"+l(S):"");var D=u[Ui]&&u[Ui][k];if(!D)return this;!$.touchNative&&$.pointer&&p.indexOf("touch")===0?Ne(u,p,D):$.touch&&p==="dblclick"?ao(u,D):"removeEventListener"in u?u.removeEventListener(G2[p]||p,D,!1):u.detachEvent("on"+p,D),u[Ui][k]=null}function ga(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function K2(u){return H2(u,"wheel",ga),this}function Hu(u){return Be(u,"mousedown touchstart dblclick contextmenu",ga),u._leaflet_disable_click=!0,this}function In(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function va(u){return In(u),ga(u),this}function j_(u){if(u.composedPath)return u.composedPath();for(var p=[],y=u.target;y;)p.push(y),y=y.parentNode;return p}function V_(u,p){if(!p)return new U(u.clientX,u.clientY);var y=V2(p),S=y.boundingClientRect;return new U((u.clientX-S.left)/y.x-p.clientLeft,(u.clientY-S.top)/y.y-p.clientTop)}var dN=$.linux&&$.chrome?window.devicePixelRatio:$.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function G_(u){return $.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/dN:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function q2(u,p){var y=p.relatedTarget;if(!y)return!0;try{for(;y&&y!==u;)y=y.parentNode}catch{return!1}return y!==u}var fN={__proto__:null,on:Be,off:bt,stopPropagation:ga,disableScrollPropagation:K2,disableClickPropagation:Hu,preventDefault:In,stop:va,getPropagationPath:j_,getMousePosition:V_,getWheelDelta:G_,isExternalTarget:q2,addListener:Be,removeListener:bt},H_=ie.extend({run:function(u,p,y,S){this.stop(),this._el=u,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=ma(u),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(u){var p=+new Date-this._startTime,y=this._duration*1e3;p<y?this._runFrame(this._easeOut(p/y),u):(this._runFrame(1),this._complete())},_runFrame:function(u,p){var y=this._startPos.add(this._offset.multiplyBy(u));p&&y._round(),rn(this._el,y),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),et=ie.extend({options:{crs:De,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,p){p=v(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(ce(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=jn&&$.any3d&&!$.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Be(this._proxy,da,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,p,y){if(p=p===void 0?this._zoom:this._limitZoom(p),u=this._limitCenter(ce(u),p,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=i({animate:y.animate},y.zoom),y.pan=i({animate:y.animate,duration:y.duration},y.pan));var S=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,p,y.zoom):this._tryAnimatedPan(u,y.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(u,p,y.pan&&y.pan.noMoveStart),this},setZoom:function(u,p){return this._loaded?this.setView(this.getCenter(),u,{zoom:p}):(this._zoom=u,this)},zoomIn:function(u,p){return u=u||($.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,p)},zoomOut:function(u,p){return u=u||($.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,p)},setZoomAround:function(u,p,y){var S=this.getZoomScale(p),k=this.getSize().divideBy(2),D=u instanceof U?u:this.latLngToContainerPoint(u),B=D.subtract(k).multiplyBy(1-1/S),Y=this.containerPointToLatLng(k.add(B));return this.setView(Y,p,{zoom:y})},_getBoundsCenterZoom:function(u,p){p=p||{},u=u.getBounds?u.getBounds():he(u);var y=F(p.paddingTopLeft||p.padding||[0,0]),S=F(p.paddingBottomRight||p.padding||[0,0]),k=this.getBoundsZoom(u,!1,y.add(S));if(k=typeof p.maxZoom=="number"?Math.min(p.maxZoom,k):k,k===1/0)return{center:u.getCenter(),zoom:k};var D=S.subtract(y).divideBy(2),B=this.project(u.getSouthWest(),k),Y=this.project(u.getNorthEast(),k),J=this.unproject(B.add(Y).divideBy(2).add(D),k);return{center:J,zoom:k}},fitBounds:function(u,p){if(u=he(u),!u.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(u,p);return this.setView(y.center,y.zoom,p)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,p){return this.setView(u,this._zoom,{pan:p})},panBy:function(u,p){if(u=F(u).round(),p=p||{},!u.x&&!u.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new H_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){ze(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,y,p.duration||.25,p.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,p,y){if(y=y||{},y.animate===!1||!$.any3d)return this.setView(u,p,y);this._stop();var S=this.project(this.getCenter()),k=this.project(u),D=this.getSize(),B=this._zoom;u=ce(u),p=p===void 0?B:p;var Y=Math.max(D.x,D.y),J=Y*this.getZoomScale(B,p),ae=k.distanceTo(S)||1,ve=1.42,Ae=ve*ve;function He(sn){var i3=sn?-1:1,tF=sn?J:Y,nF=J*J-Y*Y+i3*Ae*Ae*ae*ae,rF=2*tF*Ae*ae,sm=nF/rF,T8=Math.sqrt(sm*sm+1)-sm,iF=T8<1e-9?-18:Math.log(T8);return iF}function er(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function _n(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function Wr(sn){return er(sn)/_n(sn)}var hr=He(0);function $l(sn){return Y*(_n(hr)/_n(hr+ve*sn))}function XN(sn){return Y*(_n(hr)*Wr(hr+ve*sn)-er(hr))/Ae}function QN(sn){return 1-Math.pow(1-sn,1.5)}var JN=Date.now(),S8=(He(1)-hr)/ve,eF=y.duration?1e3*y.duration:1e3*S8*.8;function E8(){var sn=(Date.now()-JN)/eF,i3=QN(sn)*S8;sn<=1?(this._flyToFrame=z(E8,this),this._move(this.unproject(S.add(k.subtract(S).multiplyBy(XN(i3)/ae)),B),this.getScaleZoom(Y/$l(i3),B),{flyTo:!0})):this._move(u,p)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),E8.call(this),this},flyToBounds:function(u,p){var y=this._getBoundsCenterZoom(u,p);return this.flyTo(y.center,y.zoom,p)},setMaxBounds:function(u){return u=he(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var p=this.options.minZoom;return this.options.minZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var p=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&p!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,p){this._enforcingBounds=!0;var y=this.getCenter(),S=this._limitCenter(y,this._zoom,he(u));return y.equals(S)||this.panTo(S,p),this._enforcingBounds=!1,this},panInside:function(u,p){p=p||{};var y=F(p.paddingTopLeft||p.padding||[0,0]),S=F(p.paddingBottomRight||p.padding||[0,0]),k=this.project(this.getCenter()),D=this.project(u),B=this.getPixelBounds(),Y=re([B.min.add(y),B.max.subtract(S)]),J=Y.getSize();if(!Y.contains(D)){this._enforcingBounds=!0;var ae=D.subtract(Y.getCenter()),ve=Y.extend(D).getSize().subtract(J);k.x+=ae.x<0?-ve.x:ve.x,k.y+=ae.y<0?-ve.y:ve.y,this.panTo(this.unproject(k),p),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=i({animate:!1,pan:!0},u===!0?{animate:!0}:u);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),S=p.divideBy(2).round(),k=y.divideBy(2).round(),D=S.subtract(k);return!D.x&&!D.y?this:(u.animate&&u.pan?this.panBy(D):(u.pan&&this._rawPanBy(D),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=i({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=o(this._handleGeolocationResponse,this),y=o(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,y,u):navigator.geolocation.getCurrentPosition(p,y,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var p=u.code,y=u.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var p=u.coords.latitude,y=u.coords.longitude,S=new de(p,y),k=S.toBounds(u.coords.accuracy*2),D=this._locateOptions;if(D.setView){var B=this.getBoundsZoom(k);this.setView(S,D.maxZoom?Math.min(B,D.maxZoom):B)}var Y={latlng:S,bounds:k,timestamp:u.timestamp};for(var J in u.coords)typeof u.coords[J]=="number"&&(Y[J]=u.coords[J]);this.fire("locationfound",Y)}},addHandler:function(u,p){if(!p)return this;var y=this[u]=new p(this);return this._handlers.push(y),this.options[u]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Re(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Re(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,p){var y="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),S=me("div",y,p||this._mapPane);return u&&(this._panes[u]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),p=this.unproject(u.getBottomLeft()),y=this.unproject(u.getTopRight());return new le(p,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,p,y){u=he(u),y=F(y||[0,0]);var S=this.getZoom()||0,k=this.getMinZoom(),D=this.getMaxZoom(),B=u.getNorthWest(),Y=u.getSouthEast(),J=this.getSize().subtract(y),ae=re(this.project(Y,S),this.project(B,S)).getSize(),ve=$.any3d?this.options.zoomSnap:1,Ae=J.x/ae.x,He=J.y/ae.y,er=p?Math.max(Ae,He):Math.min(Ae,He);return S=this.getScaleZoom(er,S),ve&&(S=Math.round(S/(ve/100))*(ve/100),S=p?Math.ceil(S/ve)*ve:Math.floor(S/ve)*ve),Math.max(k,Math.min(D,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,p){var y=this._getTopLeftPoint(u,p);return new q(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,p){var y=this.options.crs;return p=p===void 0?this._zoom:p,y.scale(u)/y.scale(p)},getScaleZoom:function(u,p){var y=this.options.crs;p=p===void 0?this._zoom:p;var S=y.zoom(u*y.scale(p));return isNaN(S)?1/0:S},project:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(ce(u),p)},unproject:function(u,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(F(u),p)},layerPointToLatLng:function(u){var p=F(u).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(u){var p=this.project(ce(u))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(ce(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(he(u))},distance:function(u,p){return this.options.crs.distance(ce(u),ce(p))},containerPointToLayerPoint:function(u){return F(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return F(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var p=this.containerPointToLayerPoint(F(u));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(u)))},mouseEventToContainerPoint:function(u){return V_(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var p=this._container=fa(u);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Be(p,"scroll",this._onScroll,this),this._containerId=l(p)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&$.any3d,ze(u,"leaflet-container"+($.touch?" leaflet-touch":"")+($.retina?" leaflet-retina":"")+($.ielt9?" leaflet-oldie":"")+($.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=Bi(u,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rn(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ze(u.markerPane,"leaflet-zoom-hide"),ze(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,p,y){rn(this._mapPane,new U(0,0));var S=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var k=this._zoom!==p;this._moveStart(k,y)._move(u,p)._moveEnd(k),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(u,p){return u&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(u,p,y,S){p===void 0&&(p=this._zoom);var k=this._zoom!==p;return this._zoom=p,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),S?y&&y.pinch&&this.fire("zoom",y):((k||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){rn(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[l(this._container)]=this;var p=u?bt:Be;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),$.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,p){for(var y=[],S,k=p==="mouseout"||p==="mouseover",D=u.target||u.srcElement,B=!1;D;){if(S=this._targets[l(D)],S&&(p==="click"||p==="preclick")&&this._draggableMoved(S)){B=!0;break}if(S&&S.listens(p,!0)&&(k&&!q2(D,u)||(y.push(S),k))||D===this._container)break;D=D.parentNode}return!y.length&&!B&&!k&&this.listens(p,!0)&&(y=[this]),y},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var p=u.target||u.srcElement;if(!(!this._loaded||p._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(p))){var y=u.type;y==="mousedown"&&j2(p),this._fireDOMEvent(u,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,p,y){if(u.type==="click"){var S=i({},u);S.type="preclick",this._fireDOMEvent(S,S.type,y)}var k=this._findEventTargets(u,p);if(y){for(var D=[],B=0;B<y.length;B++)y[B].listens(p,!0)&&D.push(y[B]);k=D.concat(k)}if(k.length){p==="contextmenu"&&In(u);var Y=k[0],J={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var ae=Y.getLatLng&&(!Y._radius||Y._radius<=10);J.containerPoint=ae?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(u),J.layerPoint=this.containerPointToLayerPoint(J.containerPoint),J.latlng=ae?Y.getLatLng():this.layerPointToLatLng(J.layerPoint)}for(B=0;B<k.length;B++)if(k[B].fire(p,J,!0),J.originalEvent._stopped||k[B].options.bubblingMouseEvents===!1&&T(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,p=this._handlers.length;u<p;u++)this._handlers[u].disable()},whenReady:function(u,p){return this._loaded?u.call(p||this,{target:this}):this.on("load",u,p),this},_getMapPanePos:function(){return ma(this._mapPane)||new U(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,p){var y=u&&p!==void 0?this._getNewPixelOrigin(u,p):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,p){var y=this.getSize()._divideBy(2);return this.project(u,p)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,p,y){var S=this._getNewPixelOrigin(y,p);return this.project(u,p)._subtract(S)},_latLngBoundsToNewLayerBounds:function(u,p,y){var S=this._getNewPixelOrigin(y,p);return re([this.project(u.getSouthWest(),p)._subtract(S),this.project(u.getNorthWest(),p)._subtract(S),this.project(u.getSouthEast(),p)._subtract(S),this.project(u.getNorthEast(),p)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,p,y){if(!y)return u;var S=this.project(u,p),k=this.getSize().divideBy(2),D=new q(S.subtract(k),S.add(k)),B=this._getBoundsOffset(D,y,p);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?u:this.unproject(S.add(B),p)},_limitOffset:function(u,p){if(!p)return u;var y=this.getPixelBounds(),S=new q(y.min.add(u),y.max.add(u));return u.add(this._getBoundsOffset(S,p))},_getBoundsOffset:function(u,p,y){var S=re(this.project(p.getNorthEast(),y),this.project(p.getSouthWest(),y)),k=S.min.subtract(u.min),D=S.max.subtract(u.max),B=this._rebound(k.x,-D.x),Y=this._rebound(k.y,-D.y);return new U(B,Y)},_rebound:function(u,p){return u+p>0?Math.round(u-p)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(p))},_limitZoom:function(u){var p=this.getMinZoom(),y=this.getMaxZoom(),S=$.any3d?this.options.zoomSnap:1;return S&&(u=Math.round(u/S)*S),Math.max(p,Math.min(y,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Jt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,p){var y=this._getCenterOffset(u)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,p),!0)},_createAnimProxy:function(){var u=this._proxy=me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(p){var y=zi,S=this._proxy.style[y];pa(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),S===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Re(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),p=this.getZoom();pa(this._proxy,this.project(u,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,p,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(p),k=this._getCenterOffset(u)._divideBy(1-1/S);return y.animate!==!0&&!this.getSize().contains(k)?!1:(z(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(u,p,!0)},this),!0)},_animateZoom:function(u,p,y,S){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=p,ze(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:p,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Jt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pN(u,p){return new et(u,p)}var ui=Z.extend({options:{position:"topright"},initialize:function(u){v(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var p=this._map;return p&&p.removeControl(this),this.options.position=u,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var p=this._container=this.onAdd(u),y=this.getPosition(),S=u._controlCorners[y];return ze(p,"leaflet-control"),y.indexOf("bottom")!==-1?S.insertBefore(p,S.firstChild):S.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Re(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Wu=function(u){return new ui(u)};et.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},p="leaflet-",y=this._controlContainer=me("div",p+"control-container",this._container);function S(k,D){var B=p+k+" "+p+D;u[k+D]=me("div",B,y)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Re(this._controlCorners[u]);Re(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var W_=ui.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,p,y,S){return y<S?-1:S<y?1:0}},initialize:function(u,p,y){v(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in u)this._addLayer(u[S],S);for(S in p)this._addLayer(p[S],S,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return ui.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,p){return this._addLayer(u,p),this._map?this._update():this},addOverlay:function(u,p){return this._addLayer(u,p,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var p=this._getLayer(l(u));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){ze(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(ze(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Jt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Jt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",p=this._container=me("div",u),y=this.options.collapsed;p.setAttribute("aria-haspopup",!0),Hu(p),K2(p);var S=this._section=me("section",u+"-list");y&&(this._map.on("click",this.collapse,this),Be(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=me("a",u+"-toggle",p);k.href="#",k.title="Layers",k.setAttribute("role","button"),Be(k,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){In(D),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=me("div",u+"-base",S),this._separator=me("div",u+"-separator",S),this._overlaysList=me("div",u+"-overlays",S),p.appendChild(S)},_getLayer:function(u){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&l(this._layers[p].layer)===u)return this._layers[p]},_addLayer:function(u,p,y){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:p,overlay:y}),this.options.sortLayers&&this._layers.sort(o(function(S,k){return this.options.sortFunction(S.layer,k.layer,S.name,k.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yn(this._baseLayersList),yn(this._overlaysList),this._layerControlInputs=[];var u,p,y,S,k=0;for(y=0;y<this._layers.length;y++)S=this._layers[y],this._addItem(S),p=p||S.overlay,u=u||!S.overlay,k+=S.overlay?0:1;return this.options.hideSingleBase&&(u=u&&k>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=p&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var p=this._getLayer(l(u.target)),y=p.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;y&&this._map.fire(y,p)},_createRadioElement:function(u,p){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(p?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=y,S.firstChild},_addItem:function(u){var p=document.createElement("label"),y=this._map.hasLayer(u.layer),S;u.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=y):S=this._createRadioElement("leaflet-base-layers_"+l(this),y),this._layerControlInputs.push(S),S.layerId=l(u.layer),Be(S,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+u.name;var D=document.createElement("span");p.appendChild(D),D.appendChild(S),D.appendChild(k);var B=u.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,p,y,S=[],k=[];this._handlingClick=!0;for(var D=u.length-1;D>=0;D--)p=u[D],y=this._getLayer(p.layerId).layer,p.checked?S.push(y):p.checked||k.push(y);for(D=0;D<k.length;D++)this._map.hasLayer(k[D])&&this._map.removeLayer(k[D]);for(D=0;D<S.length;D++)this._map.hasLayer(S[D])||this._map.addLayer(S[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,p,y,S=this._map.getZoom(),k=u.length-1;k>=0;k--)p=u[k],y=this._getLayer(p.layerId).layer,p.disabled=y.options.minZoom!==void 0&&S<y.options.minZoom||y.options.maxZoom!==void 0&&S>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,Be(u,"click",In),this.expand();var p=this;setTimeout(function(){bt(u,"click",In),p._preventClick=!1})}}),mN=function(u,p,y){return new W_(u,p,y)},Y2=ui.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var p="leaflet-control-zoom",y=me("div",p+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,p+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,p+"-out",y,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,p,y,S,k){var D=me("a",y,S);return D.innerHTML=u,D.href="#",D.title=p,D.setAttribute("role","button"),D.setAttribute("aria-label",p),Hu(D),Be(D,"click",va),Be(D,"click",k,this),Be(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var u=this._map,p="leaflet-disabled";Jt(this._zoomInButton,p),Jt(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(ze(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(ze(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});et.mergeOptions({zoomControl:!0}),et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Y2,this.addControl(this.zoomControl))});var gN=function(u){return new Y2(u)},K_=ui.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var p="leaflet-control-scale",y=me("div",p),S=this.options;return this._addScales(S,p+"-line",y),u.on(S.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),y},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,p,y){u.metric&&(this._mScale=me("div",p,y)),u.imperial&&(this._iScale=me("div",p,y))},_update:function(){var u=this._map,p=u.getSize().y/2,y=u.distance(u.containerPointToLatLng([0,p]),u.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(y)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var p=this._getRoundNum(u),y=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,y,p/u)},_updateImperial:function(u){var p=u*3.2808399,y,S,k;p>5280?(y=p/5280,S=this._getRoundNum(y),this._updateScale(this._iScale,S+" mi",S/y)):(k=this._getRoundNum(p),this._updateScale(this._iScale,k+" ft",k/p))},_updateScale:function(u,p,y){u.style.width=Math.round(this.options.maxWidth*y)+"px",u.innerHTML=p},_getRoundNum:function(u){var p=Math.pow(10,(Math.floor(u)+"").length-1),y=u/p;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,p*y}}),vN=function(u){return new K_(u)},yN='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Z2=ui.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($.inlineSvg?yN+" ":"")+"Leaflet</a>"},initialize:function(u){v(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=me("div","leaflet-control-attribution"),Hu(this._container);for(var p in u._layers)u._layers[p].getAttribution&&this.addAttribution(u._layers[p].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var p in this._attributions)this._attributions[p]&&u.push(p);var y=[];this.options.prefix&&y.push(this.options.prefix),u.length&&y.push(u.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});et.mergeOptions({attributionControl:!0}),et.addInitHook(function(){this.options.attributionControl&&new Z2().addTo(this)});var _N=function(u){return new Z2(u)};ui.Layers=W_,ui.Zoom=Y2,ui.Scale=K_,ui.Attribution=Z2,Wu.layers=mN,Wu.zoom=gN,Wu.scale=vN,Wu.attribution=_N;var ji=Z.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ji.addTo=function(u,p){return u.addHandler(p,this),this};var xN={Events:G},q_=$.touch?"touchstart mousedown":"mousedown",lo=ie.extend({options:{clickTolerance:3},initialize:function(u,p,y,S){v(this,S),this._element=u,this._dragStartTarget=p||u,this._preventOutline=y},enable:function(){this._enabled||(Be(this._dragStartTarget,q_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(lo._dragging===this&&this.finishDrag(!0),bt(this._dragStartTarget,q_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!Rl(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){lo._dragging===this&&this.finishDrag();return}if(!(lo._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(lo._dragging=this,this._preventOutline&&j2(this._element),z2(),ju(),!this._moving)){this.fire("down");var p=u.touches?u.touches[0]:u,y=B_(this._element);this._startPoint=new U(p.clientX,p.clientY),this._startPos=ma(this._element),this._parentScale=V2(y);var S=u.type==="mousedown";Be(document,S?"mousemove":"touchmove",this._onMove,this),Be(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var p=u.touches&&u.touches.length===1?u.touches[0]:u,y=new U(p.clientX,p.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,In(u),this._moved||(this.fire("dragstart"),this._moved=!0,ze(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ze(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),rn(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){Jt(document.body,"leaflet-dragging"),this._lastTarget&&(Jt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),bt(document,"mousemove touchmove",this._onMove,this),bt(document,"mouseup touchend touchcancel",this._onUp,this),B2(),Vu();var p=this._moved&&this._moving;this._moving=!1,lo._dragging=!1,p&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function Y_(u,p,y){var S,k=[1,4,2,8],D,B,Y,J,ae,ve,Ae,He;for(D=0,ve=u.length;D<ve;D++)u[D]._code=ya(u[D],p);for(Y=0;Y<4;Y++){for(Ae=k[Y],S=[],D=0,ve=u.length,B=ve-1;D<ve;B=D++)J=u[D],ae=u[B],J._code&Ae?ae._code&Ae||(He=Kf(ae,J,Ae,p,y),He._code=ya(He,p),S.push(He)):(ae._code&Ae&&(He=Kf(ae,J,Ae,p,y),He._code=ya(He,p),S.push(He)),S.push(J));u=S}return u}function Z_(u,p){var y,S,k,D,B,Y,J,ae,ve;if(!u||u.length===0)throw new Error("latlngs not passed");Hr(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ae=ce([0,0]),He=he(u),er=He.getNorthWest().distanceTo(He.getSouthWest())*He.getNorthEast().distanceTo(He.getNorthWest());er<1700&&(Ae=X2(u));var _n=u.length,Wr=[];for(y=0;y<_n;y++){var hr=ce(u[y]);Wr.push(p.project(ce([hr.lat-Ae.lat,hr.lng-Ae.lng])))}for(Y=J=ae=0,y=0,S=_n-1;y<_n;S=y++)k=Wr[y],D=Wr[S],B=k.y*D.x-D.y*k.x,J+=(k.x+D.x)*B,ae+=(k.y+D.y)*B,Y+=B*3;Y===0?ve=Wr[0]:ve=[J/Y,ae/Y];var $l=p.unproject(F(ve));return ce([$l.lat+Ae.lat,$l.lng+Ae.lng])}function X2(u){for(var p=0,y=0,S=0,k=0;k<u.length;k++){var D=ce(u[k]);p+=D.lat,y+=D.lng,S++}return ce([p/S,y/S])}var bN={__proto__:null,clipPolygon:Y_,polygonCenter:Z_,centroid:X2};function X_(u,p){if(!p||!u.length)return u.slice();var y=p*p;return u=EN(u,y),u=SN(u,y),u}function Q_(u,p,y){return Math.sqrt(Ku(u,p,y,!0))}function wN(u,p,y){return Ku(u,p,y)}function SN(u,p){var y=u.length,S=typeof Uint8Array<"u"?Uint8Array:Array,k=new S(y);k[0]=k[y-1]=1,Q2(u,k,p,0,y-1);var D,B=[];for(D=0;D<y;D++)k[D]&&B.push(u[D]);return B}function Q2(u,p,y,S,k){var D=0,B,Y,J;for(Y=S+1;Y<=k-1;Y++)J=Ku(u[Y],u[S],u[k],!0),J>D&&(B=Y,D=J);D>y&&(p[B]=1,Q2(u,p,y,S,B),Q2(u,p,y,B,k))}function EN(u,p){for(var y=[u[0]],S=1,k=0,D=u.length;S<D;S++)TN(u[S],u[k])>p&&(y.push(u[S]),k=S);return k<D-1&&y.push(u[D-1]),y}var J_;function e8(u,p,y,S,k){var D=S?J_:ya(u,y),B=ya(p,y),Y,J,ae;for(J_=B;;){if(!(D|B))return[u,p];if(D&B)return!1;Y=D||B,J=Kf(u,p,Y,y,k),ae=ya(J,y),Y===D?(u=J,D=ae):(p=J,B=ae)}}function Kf(u,p,y,S,k){var D=p.x-u.x,B=p.y-u.y,Y=S.min,J=S.max,ae,ve;return y&8?(ae=u.x+D*(J.y-u.y)/B,ve=J.y):y&4?(ae=u.x+D*(Y.y-u.y)/B,ve=Y.y):y&2?(ae=J.x,ve=u.y+B*(J.x-u.x)/D):y&1&&(ae=Y.x,ve=u.y+B*(Y.x-u.x)/D),new U(ae,ve,k)}function ya(u,p){var y=0;return u.x<p.min.x?y|=1:u.x>p.max.x&&(y|=2),u.y<p.min.y?y|=4:u.y>p.max.y&&(y|=8),y}function TN(u,p){var y=p.x-u.x,S=p.y-u.y;return y*y+S*S}function Ku(u,p,y,S){var k=p.x,D=p.y,B=y.x-k,Y=y.y-D,J=B*B+Y*Y,ae;return J>0&&(ae=((u.x-k)*B+(u.y-D)*Y)/J,ae>1?(k=y.x,D=y.y):ae>0&&(k+=B*ae,D+=Y*ae)),B=u.x-k,Y=u.y-D,S?B*B+Y*Y:new U(k,D)}function Hr(u){return!w(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function t8(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Hr(u)}function n8(u,p){var y,S,k,D,B,Y,J,ae;if(!u||u.length===0)throw new Error("latlngs not passed");Hr(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var ve=ce([0,0]),Ae=he(u),He=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());He<1700&&(ve=X2(u));var er=u.length,_n=[];for(y=0;y<er;y++){var Wr=ce(u[y]);_n.push(p.project(ce([Wr.lat-ve.lat,Wr.lng-ve.lng])))}for(y=0,S=0;y<er-1;y++)S+=_n[y].distanceTo(_n[y+1])/2;if(S===0)ae=_n[0];else for(y=0,D=0;y<er-1;y++)if(B=_n[y],Y=_n[y+1],k=B.distanceTo(Y),D+=k,D>S){J=(D-S)/k,ae=[Y.x-J*(Y.x-B.x),Y.y-J*(Y.y-B.y)];break}var hr=p.unproject(F(ae));return ce([hr.lat+ve.lat,hr.lng+ve.lng])}var LN={__proto__:null,simplify:X_,pointToSegmentDistance:Q_,closestPointOnSegment:wN,clipSegment:e8,_getEdgeIntersection:Kf,_getBitCode:ya,_sqClosestPointOnSegment:Ku,isFlat:Hr,_flat:t8,polylineCenter:n8},J2={project:function(u){return new U(u.lng,u.lat)},unproject:function(u){return new de(u.y,u.x)},bounds:new q([-180,-90],[180,90])},em={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var p=Math.PI/180,y=this.R,S=u.lat*p,k=this.R_MINOR/y,D=Math.sqrt(1-k*k),B=D*Math.sin(S),Y=Math.tan(Math.PI/4-S/2)/Math.pow((1-B)/(1+B),D/2);return S=-y*Math.log(Math.max(Y,1e-10)),new U(u.lng*p*y,S)},unproject:function(u){for(var p=180/Math.PI,y=this.R,S=this.R_MINOR/y,k=Math.sqrt(1-S*S),D=Math.exp(-u.y/y),B=Math.PI/2-2*Math.atan(D),Y=0,J=.1,ae;Y<15&&Math.abs(J)>1e-7;Y++)ae=k*Math.sin(B),ae=Math.pow((1-ae)/(1+ae),k/2),J=Math.PI/2-2*Math.atan(D*ae)-B,B+=J;return new de(B*p,u.x*p/y)}},CN={__proto__:null,LonLat:J2,Mercator:em,SphericalMercator:$t},kN=i({},Xe,{code:"EPSG:3395",projection:em,transformation:function(){var u=.5/(Math.PI*em.R);return Pe(u,.5,-u,.5)}()}),r8=i({},Xe,{code:"EPSG:4326",projection:J2,transformation:Pe(1/180,1,-1/180,.5)}),AN=i({},Se,{projection:J2,transformation:Pe(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,p){var y=p.lng-u.lng,S=p.lat-u.lat;return Math.sqrt(y*y+S*S)},infinite:!0});Se.Earth=Xe,Se.EPSG3395=kN,Se.EPSG3857=De,Se.EPSG900913=Oe,Se.EPSG4326=r8,Se.Simple=AN;var hi=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[l(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[l(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var p=u.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var y=this.getEvents();p.on(y,this),this.once("remove",function(){p.off(y,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});et.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var p=l(u);return this._layers[p]?this:(this._layers[p]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var p=l(u);return this._layers[p]?(this._loaded&&u.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return l(u)in this._layers},eachLayer:function(u,p){for(var y in this._layers)u.call(p,this._layers[y]);return this},_addLayers:function(u){u=u?w(u)?u:[u]:[];for(var p=0,y=u.length;p<y;p++)this.addLayer(u[p])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[l(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var p=l(u);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,p=-1/0,y=this._getZoomSpan();for(var S in this._zoomBoundLayers){var k=this._zoomBoundLayers[S].options;u=k.minZoom===void 0?u:Math.min(u,k.minZoom),p=k.maxZoom===void 0?p:Math.max(p,k.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=u===1/0?void 0:u,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ml=hi.extend({initialize:function(u,p){v(this,p),this._layers={};var y,S;if(u)for(y=0,S=u.length;y<S;y++)this.addLayer(u[y])},addLayer:function(u){var p=this.getLayerId(u);return this._layers[p]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var p=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(u){var p=typeof u=="number"?u:this.getLayerId(u);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var p=Array.prototype.slice.call(arguments,1),y,S;for(y in this._layers)S=this._layers[y],S[u]&&S[u].apply(S,p);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,p){for(var y in this._layers)u.call(p,this._layers[y]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return l(u)}}),IN=function(u,p){return new Ml(u,p)},gs=Ml.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),Ml.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),Ml.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new le;for(var p in this._layers){var y=this._layers[p];u.extend(y.getBounds?y.getBounds():y.getLatLng())}return u}}),PN=function(u,p){return new gs(u,p)},Dl=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){v(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,p){var y=this._getIconUrl(u);if(!y){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(y,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(S,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(u,p){var y=this.options,S=y[p+"Size"];typeof S=="number"&&(S=[S,S]);var k=F(S),D=F(p==="shadow"&&y.shadowAnchor||y.iconAnchor||k&&k.divideBy(2,!0));u.className="leaflet-marker-"+p+" "+(y.className||""),D&&(u.style.marginLeft=-D.x+"px",u.style.marginTop=-D.y+"px"),k&&(u.style.width=k.x+"px",u.style.height=k.y+"px")},_createImg:function(u,p){return p=p||document.createElement("img"),p.src=u,p},_getIconUrl:function(u){return $.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function RN(u){return new Dl(u)}var qu=Dl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof qu.imagePath!="string"&&(qu.imagePath=this._detectIconPath()),(this.options.imagePath||qu.imagePath)+Dl.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var p=function(y,S,k){var D=S.exec(y);return D&&D[k]};return u=p(u,/^url\((['"])?(.+)\1\)$/,2),u&&p(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=me("div","leaflet-default-icon-path",document.body),p=Bi(u,"background-image")||Bi(u,"backgroundImage");if(document.body.removeChild(u),p=this._stripUrl(p),p)return p;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),i8=ji.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new lo(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ze(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Jt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var p=this._marker,y=p._map,S=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,D=ma(p._icon),B=y.getPixelBounds(),Y=y.getPixelOrigin(),J=re(B.min._subtract(Y).add(k),B.max._subtract(Y).subtract(k));if(!J.contains(D)){var ae=F((Math.max(J.max.x,D.x)-J.max.x)/(B.max.x-J.max.x)-(Math.min(J.min.x,D.x)-J.min.x)/(B.min.x-J.min.x),(Math.max(J.max.y,D.y)-J.max.y)/(B.max.y-J.max.y)-(Math.min(J.min.y,D.y)-J.min.y)/(B.min.y-J.min.y)).multiplyBy(S);y.panBy(ae,{animate:!1}),this._draggable._newPos._add(ae),this._draggable._startPos._add(ae),rn(p._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=z(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,u)))},_onDrag:function(u){var p=this._marker,y=p._shadow,S=ma(p._icon),k=p._map.layerPointToLatLng(S);y&&rn(y,S),p._latlng=k,u.latlng=k,u.oldLatLng=this._oldLatLng,p.fire("move",u).fire("drag",u)},_onDragEnd:function(u){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),qf=hi.extend({options:{icon:new qu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,p){v(this,p),this._latlng=ce(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var p=this._latlng;return this._latlng=ce(u),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=u.icon.createIcon(this._icon),S=!1;y!==this._icon&&(this._icon&&this._removeIcon(),S=!0,u.title&&(y.title=u.title),y.tagName==="IMG"&&(y.alt=u.alt||"")),ze(y,p),u.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(y,"focus",this._panOnFocus,this);var k=u.icon.createShadow(this._shadow),D=!1;k!==this._shadow&&(this._removeShadow(),D=!0),k&&(ze(k,p),k.alt=""),this._shadow=k,u.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&D&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bt(this._icon,"focus",this._panOnFocus,this),Re(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Re(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&rn(this._icon,u),this._shadow&&rn(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(ze(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),i8)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new i8(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Gr(this._icon,u),this._shadow&&Gr(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var p=this.options.icon.options,y=p.iconSize?F(p.iconSize):F(0,0),S=p.iconAnchor?F(p.iconAnchor):F(0,0);u.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:y.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function MN(u,p){return new qf(u,p)}var co=hi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return v(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Yf=co.extend({options:{fill:!0,radius:10},initialize:function(u,p){v(this,p),this._latlng=ce(u),this._radius=this.options.radius},setLatLng:function(u){var p=this._latlng;return this._latlng=ce(u),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var p=u&&u.radius||this._radius;return co.prototype.setStyle.call(this,u),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,p=this._radiusY||u,y=this._clickTolerance(),S=[u+y,p+y];this._pxBounds=new q(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function DN(u,p){return new Yf(u,p)}var tm=Yf.extend({initialize:function(u,p,y){if(typeof p=="number"&&(p=i({},y,{radius:p})),v(this,p),this._latlng=ce(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new le(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:co.prototype.setStyle,_project:function(){var u=this._latlng.lng,p=this._latlng.lat,y=this._map,S=y.options.crs;if(S.distance===Xe.distance){var k=Math.PI/180,D=this._mRadius/Xe.R/k,B=y.project([p+D,u]),Y=y.project([p-D,u]),J=B.add(Y).divideBy(2),ae=y.unproject(J).lat,ve=Math.acos((Math.cos(D*k)-Math.sin(p*k)*Math.sin(ae*k))/(Math.cos(p*k)*Math.cos(ae*k)))/k;(isNaN(ve)||ve===0)&&(ve=D/Math.cos(Math.PI/180*p)),this._point=J.subtract(y.getPixelOrigin()),this._radius=isNaN(ve)?0:J.x-y.project([ae,u-ve]).x,this._radiusY=J.y-B.y}else{var Ae=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(Ae).x}this._updateBounds()}});function ON(u,p,y){return new tm(u,p,y)}var vs=co.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,p){v(this,p),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var p=1/0,y=null,S=Ku,k,D,B=0,Y=this._parts.length;B<Y;B++)for(var J=this._parts[B],ae=1,ve=J.length;ae<ve;ae++){k=J[ae-1],D=J[ae];var Ae=S(u,k,D,!0);Ae<p&&(p=Ae,y=S(u,k,D))}return y&&(y.distance=Math.sqrt(p)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return n8(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,p){return p=p||this._defaultShape(),u=ce(u),p.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new le,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Hr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var p=[],y=Hr(u),S=0,k=u.length;S<k;S++)y?(p[S]=ce(u[S]),this._bounds.extend(p[S])):p[S]=this._convertLatLngs(u[S]);return p},_project:function(){var u=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),p=new U(u,u);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(u,p,y){var S=u[0]instanceof de,k=u.length,D,B;if(S){for(B=[],D=0;D<k;D++)B[D]=this._map.latLngToLayerPoint(u[D]),y.extend(B[D]);p.push(B)}else for(D=0;D<k;D++)this._projectLatlngs(u[D],p,y)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,y,S,k,D,B,Y,J;for(y=0,k=0,D=this._rings.length;y<D;y++)for(J=this._rings[y],S=0,B=J.length;S<B-1;S++)Y=e8(J[S],J[S+1],u,S,!0),Y&&(p[k]=p[k]||[],p[k].push(Y[0]),(Y[1]!==J[S+1]||S===B-2)&&(p[k].push(Y[1]),k++))}},_simplifyPoints:function(){for(var u=this._parts,p=this.options.smoothFactor,y=0,S=u.length;y<S;y++)u[y]=X_(u[y],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,p){var y,S,k,D,B,Y,J=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(y=0,D=this._parts.length;y<D;y++)for(Y=this._parts[y],S=0,B=Y.length,k=B-1;S<B;k=S++)if(!(!p&&S===0)&&Q_(u,Y[k],Y[S])<=J)return!0;return!1}});function NN(u,p){return new vs(u,p)}vs._flat=t8;var Ol=vs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Z_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var p=vs.prototype._convertLatLngs.call(this,u),y=p.length;return y>=2&&p[0]instanceof de&&p[0].equals(p[y-1])&&p.pop(),p},_setLatLngs:function(u){vs.prototype._setLatLngs.call(this,u),Hr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Hr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,p=this.options.weight,y=new U(p,p);if(u=new q(u.min.subtract(y),u.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,k=this._rings.length,D;S<k;S++)D=Y_(this._rings[S],u,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var p=!1,y,S,k,D,B,Y,J,ae;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(D=0,J=this._parts.length;D<J;D++)for(y=this._parts[D],B=0,ae=y.length,Y=ae-1;B<ae;Y=B++)S=y[B],k=y[Y],S.y>u.y!=k.y>u.y&&u.x<(k.x-S.x)*(u.y-S.y)/(k.y-S.y)+S.x&&(p=!p);return p||vs.prototype._containsPoint.call(this,u,!0)}});function FN(u,p){return new Ol(u,p)}var ys=gs.extend({initialize:function(u,p){v(this,p),this._layers={},u&&this.addData(u)},addData:function(u){var p=w(u)?u:u.features,y,S,k;if(p){for(y=0,S=p.length;y<S;y++)k=p[y],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var D=this.options;if(D.filter&&!D.filter(u))return this;var B=Zf(u,D);return B?(B.feature=Jf(u),B.defaultOptions=B.options,this.resetStyle(B),D.onEachFeature&&D.onEachFeature(u,B),this.addLayer(B)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=i({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(p){this._setLayerStyle(p,u)},this)},_setLayerStyle:function(u,p){u.setStyle&&(typeof p=="function"&&(p=p(u.feature)),u.setStyle(p))}});function Zf(u,p){var y=u.type==="Feature"?u.geometry:u,S=y?y.coordinates:null,k=[],D=p&&p.pointToLayer,B=p&&p.coordsToLatLng||nm,Y,J,ae,ve;if(!S&&!y)return null;switch(y.type){case"Point":return Y=B(S),s8(D,u,Y,p);case"MultiPoint":for(ae=0,ve=S.length;ae<ve;ae++)Y=B(S[ae]),k.push(s8(D,u,Y,p));return new gs(k);case"LineString":case"MultiLineString":return J=Xf(S,y.type==="LineString"?0:1,B),new vs(J,p);case"Polygon":case"MultiPolygon":return J=Xf(S,y.type==="Polygon"?1:2,B),new Ol(J,p);case"GeometryCollection":for(ae=0,ve=y.geometries.length;ae<ve;ae++){var Ae=Zf({geometry:y.geometries[ae],type:"Feature",properties:u.properties},p);Ae&&k.push(Ae)}return new gs(k);case"FeatureCollection":for(ae=0,ve=y.features.length;ae<ve;ae++){var He=Zf(y.features[ae],p);He&&k.push(He)}return new gs(k);default:throw new Error("Invalid GeoJSON object.")}}function s8(u,p,y,S){return u?u(p,y):new qf(y,S&&S.markersInheritOptions&&S)}function nm(u){return new de(u[1],u[0],u[2])}function Xf(u,p,y){for(var S=[],k=0,D=u.length,B;k<D;k++)B=p?Xf(u[k],p-1,y):(y||nm)(u[k]),S.push(B);return S}function rm(u,p){return u=ce(u),u.alt!==void 0?[f(u.lng,p),f(u.lat,p),f(u.alt,p)]:[f(u.lng,p),f(u.lat,p)]}function Qf(u,p,y,S){for(var k=[],D=0,B=u.length;D<B;D++)k.push(p?Qf(u[D],Hr(u[D])?0:p-1,y,S):rm(u[D],S));return!p&&y&&k.length>0&&k.push(k[0].slice()),k}function Nl(u,p){return u.feature?i({},u.feature,{geometry:p}):Jf(p)}function Jf(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var im={toGeoJSON:function(u){return Nl(this,{type:"Point",coordinates:rm(this.getLatLng(),u)})}};qf.include(im),tm.include(im),Yf.include(im),vs.include({toGeoJSON:function(u){var p=!Hr(this._latlngs),y=Qf(this._latlngs,p?1:0,!1,u);return Nl(this,{type:(p?"Multi":"")+"LineString",coordinates:y})}}),Ol.include({toGeoJSON:function(u){var p=!Hr(this._latlngs),y=p&&!Hr(this._latlngs[0]),S=Qf(this._latlngs,y?2:p?1:0,!0,u);return p||(S=[S]),Nl(this,{type:(y?"Multi":"")+"Polygon",coordinates:S})}}),Ml.include({toMultiPoint:function(u){var p=[];return this.eachLayer(function(y){p.push(y.toGeoJSON(u).geometry.coordinates)}),Nl(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(u){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(u);var y=p==="GeometryCollection",S=[];return this.eachLayer(function(k){if(k.toGeoJSON){var D=k.toGeoJSON(u);if(y)S.push(D.geometry);else{var B=Jf(D);B.type==="FeatureCollection"?S.push.apply(S,B.features):S.push(B)}}}),y?Nl(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function o8(u,p){return new ys(u,p)}var $N=o8,e3=hi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,p,y){this._url=u,this._bounds=he(p),v(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ze(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Re(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&ct(this._image),this},bringToBack:function(){return this._map&&Vn(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=he(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",p=this._image=u?this._url:me("img");if(ze(p,"leaflet-image-layer"),this._zoomAnimated&&ze(p,"leaflet-zoom-animated"),this.options.className&&ze(p,this.options.className),p.onselectstart=d,p.onmousemove=d,p.onload=o(this.fire,this,"load"),p.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(u){var p=this._map.getZoomScale(u.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;pa(this._image,y,p)},_reset:function(){var u=this._image,p=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=p.getSize();rn(u,p.min),u.style.width=y.x+"px",u.style.height=y.y+"px"},_updateOpacity:function(){Gr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),zN=function(u,p,y){return new e3(u,p,y)},a8=e3.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",p=this._image=u?this._url:me("video");if(ze(p,"leaflet-image-layer"),this._zoomAnimated&&ze(p,"leaflet-zoom-animated"),this.options.className&&ze(p,this.options.className),p.onselectstart=d,p.onmousemove=d,p.onloadeddata=o(this.fire,this,"load"),u){for(var y=p.getElementsByTagName("source"),S=[],k=0;k<y.length;k++)S.push(y[k].src);this._url=y.length>0?S:[p.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var B=me("source");B.src=this._url[D],p.appendChild(B)}}});function BN(u,p,y){return new a8(u,p,y)}var l8=e3.extend({_initImage:function(){var u=this._image=this._url;ze(u,"leaflet-image-layer"),this._zoomAnimated&&ze(u,"leaflet-zoom-animated"),this.options.className&&ze(u,this.options.className),u.onselectstart=d,u.onmousemove=d}});function UN(u,p,y){return new l8(u,p,y)}var Vi=hi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,p){u&&(u instanceof de||w(u))?(this._latlng=ce(u),v(this,p)):(v(this,u),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Gr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Gr(this._container,1),this.bringToFront(),this.options.interactive&&(ze(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Gr(this._container,0),this._removeTimeout=setTimeout(o(Re,void 0,this._container),200)):Re(this._container),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=ce(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ct(this._container),this},bringToBack:function(){return this._map&&Vn(this._container),this},_prepareOpen:function(u){var p=this._source;if(!p._map)return!1;if(p instanceof gs){p=null;var y=this._source._layers;for(var S in y)if(y[S]._map){p=y[S];break}if(!p)return!1;this._source=p}if(!u)if(p.getCenter)u=p.getCenter();else if(p.getLatLng)u=p.getLatLng();else if(p.getBounds)u=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")u.innerHTML=p;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),p=F(this.options.offset),y=this._getAnchor();this._zoomAnimated?rn(this._container,u.add(y)):p=p.add(u).add(y);var S=this._containerBottom=-p.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=S+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});et.include({_initOverlay:function(u,p,y,S){var k=p;return k instanceof u||(k=new u(S).setContent(p)),y&&k.setLatLng(y),k}}),hi.include({_initOverlay:function(u,p,y,S){var k=y;return k instanceof u?(v(k,S),k._source=this):(k=p&&!S?p:new u(S,this),k.setContent(y)),k}});var t3=Vi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,Vi.prototype.openOn.call(this,u)},onAdd:function(u){Vi.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof co||this._source.on("preclick",ga))},onRemove:function(u){Vi.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof co||this._source.off("preclick",ga))},getEvents:function(){var u=Vi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",p=this._container=me("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=me("div",u+"-content-wrapper",p);if(this._contentNode=me("div",u+"-content",y),Hu(p),K2(this._contentNode),Be(p,"contextmenu",ga),this._tipContainer=me("div",u+"-tip-container",p),this._tip=me("div",u+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=me("a",u+"-close-button",p);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',Be(S,"click",function(k){In(k),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,p=u.style;p.width="",p.whiteSpace="nowrap";var y=u.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),p.width=y+1+"px",p.whiteSpace="",p.height="";var S=u.offsetHeight,k=this.options.maxHeight,D="leaflet-popup-scrolled";k&&S>k?(p.height=k+"px",ze(u,D)):Jt(u,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),y=this._getAnchor();rn(this._container,p.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,p=parseInt(Bi(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+p,S=this._containerWidth,k=new U(this._containerLeft,-y-this._containerBottom);k._add(ma(this._container));var D=u.layerPointToContainerPoint(k),B=F(this.options.autoPanPadding),Y=F(this.options.autoPanPaddingTopLeft||B),J=F(this.options.autoPanPaddingBottomRight||B),ae=u.getSize(),ve=0,Ae=0;D.x+S+J.x>ae.x&&(ve=D.x+S-ae.x+J.x),D.x-ve-Y.x<0&&(ve=D.x-Y.x),D.y+y+J.y>ae.y&&(Ae=D.y+y-ae.y+J.y),D.y-Ae-Y.y<0&&(Ae=D.y-Y.y),(ve||Ae)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([ve,Ae]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),jN=function(u,p){return new t3(u,p)};et.mergeOptions({closePopupOnClick:!0}),et.include({openPopup:function(u,p,y){return this._initOverlay(t3,u,p,y).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),hi.include({bindPopup:function(u,p){return this._popup=this._initOverlay(t3,this._popup,u,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof gs||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){va(u);var p=u.layer||u.target;if(this._popup._source===p&&!(p instanceof co)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=p,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var n3=Vi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){Vi.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){Vi.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=Vi.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",p=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=me("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var p,y,S=this._map,k=this._container,D=S.latLngToContainerPoint(S.getCenter()),B=S.layerPointToContainerPoint(u),Y=this.options.direction,J=k.offsetWidth,ae=k.offsetHeight,ve=F(this.options.offset),Ae=this._getAnchor();Y==="top"?(p=J/2,y=ae):Y==="bottom"?(p=J/2,y=0):Y==="center"?(p=J/2,y=ae/2):Y==="right"?(p=0,y=ae/2):Y==="left"?(p=J,y=ae/2):B.x<D.x?(Y="right",p=0,y=ae/2):(Y="left",p=J+(ve.x+Ae.x)*2,y=ae/2),u=u.subtract(F(p,y,!0)).add(ve).add(Ae),Jt(k,"leaflet-tooltip-right"),Jt(k,"leaflet-tooltip-left"),Jt(k,"leaflet-tooltip-top"),Jt(k,"leaflet-tooltip-bottom"),ze(k,"leaflet-tooltip-"+Y),rn(k,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Gr(this._container,u)},_animateZoom:function(u){var p=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(p)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),VN=function(u,p){return new n3(u,p)};et.include({openTooltip:function(u,p,y){return this._initOverlay(n3,u,p,y).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),hi.include({bindTooltip:function(u,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(n3,this._tooltip,u,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var p=u?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[p](y),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof gs||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&(Be(p,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),Be(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var p=typeof u.getElement=="function"&&u.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var p=u.latlng,y,S;this._tooltip.options.sticky&&u.originalEvent&&(y=this._map.mouseEventToContainerPoint(u.originalEvent),S=this._map.containerPointToLayerPoint(y),p=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(p)}});var c8=Dl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var p=u&&u.tagName==="DIV"?u:document.createElement("div"),y=this.options;if(y.html instanceof Element?(yn(p),p.appendChild(y.html)):p.innerHTML=y.html!==!1?y.html:"",y.bgPos){var S=F(y.bgPos);p.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function GN(u){return new c8(u)}Dl.Default=qu;var Yu=hi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){v(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Re(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ct(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof U?u:new U(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var p=this.getPane().children,y=-u(-1/0,1/0),S=0,k=p.length,D;S<k;S++)D=p[S].style.zIndex,p[S]!==this._container&&D&&(y=u(y,+D));isFinite(y)&&(this.options.zIndex=y+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$.ielt9){Gr(this._container,this.options.opacity);var u=+new Date,p=!1,y=!1;for(var S in this._tiles){var k=this._tiles[S];if(!(!k.current||!k.loaded)){var D=Math.min(1,(u-k.loaded)/200);Gr(k.el,D),D<1?p=!0:(k.active?y=!0:this._onOpaqueTile(k),k.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),p&&(H(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,p=this.options.maxZoom;if(u!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===u?(this._levels[y].el.style.zIndex=p-Math.abs(u-y),this._onUpdateLevel(y)):(Re(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var S=this._levels[u],k=this._map;return S||(S=this._levels[u]={},S.el=me("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=p,S.origin=k.project(k.unproject(k.getPixelOrigin()),u).round(),S.zoom=u,this._setZoomTransform(S,k.getCenter(),k.getZoom()),d(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var u,p,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)p=this._tiles[u],p.retain=p.current;for(u in this._tiles)if(p=this._tiles[u],p.current&&!p.active){var S=p.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var p in this._tiles)this._tiles[p].coords.z===u&&this._removeTile(p)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Re(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,p,y,S){var k=Math.floor(u/2),D=Math.floor(p/2),B=y-1,Y=new U(+k,+D);Y.z=+B;var J=this._tileCoordsToKey(Y),ae=this._tiles[J];return ae&&ae.active?(ae.retain=!0,!0):(ae&&ae.loaded&&(ae.retain=!0),B>S?this._retainParent(k,D,B,S):!1)},_retainChildren:function(u,p,y,S){for(var k=2*u;k<2*u+2;k++)for(var D=2*p;D<2*p+2;D++){var B=new U(k,D);B.z=y+1;var Y=this._tileCoordsToKey(B),J=this._tiles[Y];if(J&&J.active){J.retain=!0;continue}else J&&J.loaded&&(J.retain=!0);y+1<S&&this._retainChildren(k,D,y+1,S)}},_resetView:function(u){var p=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var p=this.options;return p.minNativeZoom!==void 0&&u<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<u?p.maxNativeZoom:u},_setView:function(u,p,y,S){var k=Math.round(p);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var D=this.options.updateWhenZooming&&k!==this._tileZoom;(!S||D)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(u),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(u,p)},_setZoomTransforms:function(u,p){for(var y in this._levels)this._setZoomTransform(this._levels[y],u,p)},_setZoomTransform:function(u,p,y){var S=this._map.getZoomScale(y,u.zoom),k=u.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(p,y)).round();$.any3d?pa(u.el,k,S):rn(u.el,k)},_resetGrid:function(){var u=this._map,p=u.options.crs,y=this._tileSize=this.getTileSize(),S=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,p.wrapLng[0]],S).x/y.x),Math.ceil(u.project([0,p.wrapLng[1]],S).x/y.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([p.wrapLat[0],0],S).y/y.x),Math.ceil(u.project([p.wrapLat[1],0],S).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var p=this._map,y=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),S=p.getZoomScale(y,this._tileZoom),k=p.project(u,this._tileZoom).floor(),D=p.getSize().divideBy(S*2);return new q(k.subtract(D),k.add(D))},_update:function(u){var p=this._map;if(p){var y=this._clampZoom(p.getZoom());if(u===void 0&&(u=p.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(u),k=this._pxBoundsToTileRange(S),D=k.getCenter(),B=[],Y=this.options.keepBuffer,J=new q(k.getBottomLeft().subtract([Y,-Y]),k.getTopRight().add([Y,-Y]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ae in this._tiles){var ve=this._tiles[ae].coords;(ve.z!==this._tileZoom||!J.contains(new U(ve.x,ve.y)))&&(this._tiles[ae].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(u,y);return}for(var Ae=k.min.y;Ae<=k.max.y;Ae++)for(var He=k.min.x;He<=k.max.x;He++){var er=new U(He,Ae);if(er.z=this._tileZoom,!!this._isValidTile(er)){var _n=this._tiles[this._tileCoordsToKey(er)];_n?_n.current=!0:B.push(er)}}if(B.sort(function(hr,$l){return hr.distanceTo(D)-$l.distanceTo(D)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wr=document.createDocumentFragment();for(He=0;He<B.length;He++)this._addTile(B[He],Wr);this._level.el.appendChild(Wr)}}}},_isValidTile:function(u){var p=this._map.options.crs;if(!p.infinite){var y=this._globalTileRange;if(!p.wrapLng&&(u.x<y.min.x||u.x>y.max.x)||!p.wrapLat&&(u.y<y.min.y||u.y>y.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(u);return he(this.options.bounds).overlaps(S)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var p=this._map,y=this.getTileSize(),S=u.scaleBy(y),k=S.add(y),D=p.unproject(S,u.z),B=p.unproject(k,u.z);return[D,B]},_tileCoordsToBounds:function(u){var p=this._tileCoordsToNwSe(u),y=new le(p[0],p[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var p=u.split(":"),y=new U(+p[0],+p[1]);return y.z=+p[2],y},_removeTile:function(u){var p=this._tiles[u];p&&(Re(p.el),delete this._tiles[u],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){ze(u,"leaflet-tile");var p=this.getTileSize();u.style.width=p.x+"px",u.style.height=p.y+"px",u.onselectstart=d,u.onmousemove=d,$.ielt9&&this.options.opacity<1&&Gr(u,this.options.opacity)},_addTile:function(u,p){var y=this._getTilePos(u),S=this._tileCoordsToKey(u),k=this.createTile(this._wrapCoords(u),o(this._tileReady,this,u));this._initTile(k),this.createTile.length<2&&z(o(this._tileReady,this,u,null,k)),rn(k,y),this._tiles[S]={el:k,coords:u,current:!0},p.appendChild(k),this.fire("tileloadstart",{tile:k,coords:u})},_tileReady:function(u,p,y){p&&this.fire("tileerror",{error:p,tile:y,coords:u});var S=this._tileCoordsToKey(u);y=this._tiles[S],y&&(y.loaded=+new Date,this._map._fadeAnimated?(Gr(y.el,0),H(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),p||(ze(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var p=new U(this._wrapX?h(u.x,this._wrapX):u.x,this._wrapY?h(u.y,this._wrapY):u.y);return p.z=u.z,p},_pxBoundsToTileRange:function(u){var p=this.getTileSize();return new q(u.min.unscaleBy(p).floor(),u.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function HN(u){return new Yu(u)}var Fl=Yu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,p){this._url=u,p=v(this,p),p.detectRetina&&$.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,p){return this._url===u&&p===void 0&&(p=!0),this._url=u,p||this.redraw(),this},createTile:function(u,p){var y=document.createElement("img");return Be(y,"load",o(this._tileOnLoad,this,p,y)),Be(y,"error",o(this._tileOnError,this,p,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(u),y},getTileUrl:function(u){var p={r:$.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-u.y;this.options.tms&&(p.y=y),p["-y"]=y}return b(this._url,i(p,this.options))},_tileOnLoad:function(u,p){$.ielt9?setTimeout(o(u,this,null,p),0):u(null,p)},_tileOnError:function(u,p,y){var S=this.options.errorTileUrl;S&&p.getAttribute("src")!==S&&(p.src=S),u(y,p)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,p=this.options.maxZoom,y=this.options.zoomReverse,S=this.options.zoomOffset;return y&&(u=p-u),u+S},_getSubdomain:function(u){var p=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var u,p;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(p=this._tiles[u].el,p.onload=d,p.onerror=d,!p.complete)){p.src=C;var y=this._tiles[u].coords;Re(p),delete this._tiles[u],this.fire("tileabort",{tile:p,coords:y})}},_removeTile:function(u){var p=this._tiles[u];if(p)return p.el.setAttribute("src",C),Yu.prototype._removeTile.call(this,u)},_tileReady:function(u,p,y){if(!(!this._map||y&&y.getAttribute("src")===C))return Yu.prototype._tileReady.call(this,u,p,y)}});function u8(u,p){return new Fl(u,p)}var h8=Fl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,p){this._url=u;var y=i({},this.defaultWmsParams);for(var S in p)S in this.options||(y[S]=p[S]);p=v(this,p);var k=p.detectRetina&&$.retina?2:1,D=this.getTileSize();y.width=D.x*k,y.height=D.y*k,this.wmsParams=y},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Fl.prototype.onAdd.call(this,u)},getTileUrl:function(u){var p=this._tileCoordsToNwSe(u),y=this._crs,S=re(y.project(p[0]),y.project(p[1])),k=S.min,D=S.max,B=(this._wmsVersion>=1.3&&this._crs===r8?[k.y,k.x,D.y,D.x]:[k.x,k.y,D.x,D.y]).join(","),Y=Fl.prototype.getTileUrl.call(this,u);return Y+_(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(u,p){return i(this.wmsParams,u),p||this.redraw(),this}});function WN(u,p){return new h8(u,p)}Fl.WMS=h8,u8.wms=WN;var _s=hi.extend({options:{padding:.1},initialize:function(u){v(this,u),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ze(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,p){var y=this._map.getZoomScale(p,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,p),D=S.multiplyBy(-y).add(k).subtract(this._map._getNewPixelOrigin(u,p));$.any3d?pa(this._container,D,y):rn(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,p=this._map.getSize(),y=this._map.containerPointToLayerPoint(p.multiplyBy(-u)).round();this._bounds=new q(y,y.add(p.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),d8=_s.extend({options:{tolerance:0},getEvents:function(){var u=_s.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_s.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");Be(u,"mousemove",this._onMouseMove,this),Be(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Be(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,Re(this._container),bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var p in this._layers)u=this._layers[p],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_s.prototype._update.call(this);var u=this._bounds,p=this._container,y=u.getSize(),S=$.retina?2:1;rn(p,u.min),p.width=S*y.x,p.height=S*y.y,p.style.width=y.x+"px",p.style.height=y.y+"px",$.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){_s.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[l(u)]=u;var p=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var p=u._order,y=p.next,S=p.prev;y?y.prev=S:this._drawLast=S,S?S.next=y:this._drawFirst=y,delete u._order,delete this._layers[l(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var p=u.options.dashArray.split(/[, ]+/),y=[],S,k;for(k=0;k<p.length;k++){if(S=Number(p[k]),isNaN(S))return;y.push(S)}u.options._dashArray=y}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var p=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(u._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(u._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var p=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,p=this._redrawBounds;if(this._ctx.save(),p){var y=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)u=S.layer,(!p||u._pxBounds&&u._pxBounds.intersects(p))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,p){if(this._drawing){var y,S,k,D,B=u._parts,Y=B.length,J=this._ctx;if(Y){for(J.beginPath(),y=0;y<Y;y++){for(S=0,k=B[y].length;S<k;S++)D=B[y][S],J[S?"lineTo":"moveTo"](D.x,D.y);p&&J.closePath()}this._fillStroke(J,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var p=u._point,y=this._ctx,S=Math.max(Math.round(u._radius),1),k=(Math.max(Math.round(u._radiusY),1)||S)/S;k!==1&&(y.save(),y.scale(1,k)),y.beginPath(),y.arc(p.x,p.y/k,S,0,Math.PI*2,!1),k!==1&&y.restore(),this._fillStroke(y,u)}},_fillStroke:function(u,p){var y=p.options;y.fill&&(u.globalAlpha=y.fillOpacity,u.fillStyle=y.fillColor||y.color,u.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(u.setLineDash&&u.setLineDash(p.options&&p.options._dashArray||[]),u.globalAlpha=y.opacity,u.lineWidth=y.weight,u.strokeStyle=y.color,u.lineCap=y.lineCap,u.lineJoin=y.lineJoin,u.stroke())},_onClick:function(u){for(var p=this._map.mouseEventToLayerPoint(u),y,S,k=this._drawFirst;k;k=k.next)y=k.layer,y.options.interactive&&y._containsPoint(p)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(y))&&(S=y);this._fireEvent(S?[S]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,p)}},_handleMouseOut:function(u){var p=this._hoveredLayer;p&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([p],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,p){if(!this._mouseHoverThrottled){for(var y,S,k=this._drawFirst;k;k=k.next)y=k.layer,y.options.interactive&&y._containsPoint(p)&&(S=y);S!==this._hoveredLayer&&(this._handleMouseOut(u),S&&(ze(this._container,"leaflet-interactive"),this._fireEvent([S],u,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,p,y){this._map._fireDOMEvent(p,y||p.type,u)},_bringToFront:function(u){var p=u._order;if(p){var y=p.next,S=p.prev;if(y)y.prev=S;else return;S?S.next=y:y&&(this._drawFirst=y),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(u)}},_bringToBack:function(u){var p=u._order;if(p){var y=p.next,S=p.prev;if(S)S.next=y;else return;y?y.prev=S:S&&(this._drawLast=S),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(u)}}});function f8(u){return $.canvas?new d8(u):null}var Zu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),KN={_initContainer:function(){this._container=me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_s.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var p=u._container=Zu("shape");ze(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",u._path=Zu("path"),p.appendChild(u._path),this._updateStyle(u),this._layers[l(u)]=u},_addPath:function(u){var p=u._container;this._container.appendChild(p),u.options.interactive&&u.addInteractiveTarget(p)},_removePath:function(u){var p=u._container;Re(p),u.removeInteractiveTarget(p),delete this._layers[l(u)]},_updateStyle:function(u){var p=u._stroke,y=u._fill,S=u.options,k=u._container;k.stroked=!!S.stroke,k.filled=!!S.fill,S.stroke?(p||(p=u._stroke=Zu("stroke")),k.appendChild(p),p.weight=S.weight+"px",p.color=S.color,p.opacity=S.opacity,S.dashArray?p.dashStyle=w(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=S.lineCap.replace("butt","flat"),p.joinstyle=S.lineJoin):p&&(k.removeChild(p),u._stroke=null),S.fill?(y||(y=u._fill=Zu("fill")),k.appendChild(y),y.color=S.fillColor||S.color,y.opacity=S.fillOpacity):y&&(k.removeChild(y),u._fill=null)},_updateCircle:function(u){var p=u._point.round(),y=Math.round(u._radius),S=Math.round(u._radiusY||y);this._setPath(u,u._empty()?"M0 0":"AL "+p.x+","+p.y+" "+y+","+S+" 0,"+65535*360)},_setPath:function(u,p){u._path.v=p},_bringToFront:function(u){ct(u._container)},_bringToBack:function(u){Vn(u._container)}},r3=$.vml?Zu:Ge,Xu=_s.extend({_initContainer:function(){this._container=r3("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=r3("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Re(this._container),bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_s.prototype._update.call(this);var u=this._bounds,p=u.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,y.setAttribute("width",p.x),y.setAttribute("height",p.y)),rn(y,u.min),y.setAttribute("viewBox",[u.min.x,u.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(u){var p=u._path=r3("path");u.options.className&&ze(p,u.options.className),u.options.interactive&&ze(p,"leaflet-interactive"),this._updateStyle(u),this._layers[l(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Re(u._path),u.removeInteractiveTarget(u._path),delete this._layers[l(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var p=u._path,y=u.options;p&&(y.stroke?(p.setAttribute("stroke",y.color),p.setAttribute("stroke-opacity",y.opacity),p.setAttribute("stroke-width",y.weight),p.setAttribute("stroke-linecap",y.lineCap),p.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?p.setAttribute("stroke-dasharray",y.dashArray):p.removeAttribute("stroke-dasharray"),y.dashOffset?p.setAttribute("stroke-dashoffset",y.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),y.fill?(p.setAttribute("fill",y.fillColor||y.color),p.setAttribute("fill-opacity",y.fillOpacity),p.setAttribute("fill-rule",y.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(u,p){this._setPath(u,nn(u._parts,p))},_updateCircle:function(u){var p=u._point,y=Math.max(Math.round(u._radius),1),S=Math.max(Math.round(u._radiusY),1)||y,k="a"+y+","+S+" 0 1,0 ",D=u._empty()?"M0 0":"M"+(p.x-y)+","+p.y+k+y*2+",0 "+k+-y*2+",0 ";this._setPath(u,D)},_setPath:function(u,p){u._path.setAttribute("d",p)},_bringToFront:function(u){ct(u._path)},_bringToBack:function(u){Vn(u._path)}});$.vml&&Xu.include(KN);function p8(u){return $.svg||$.vml?new Xu(u):null}et.include({getRenderer:function(u){var p=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var p=this._paneRenderers[u];return p===void 0&&(p=this._createRenderer({pane:u}),this._paneRenderers[u]=p),p},_createRenderer:function(u){return this.options.preferCanvas&&f8(u)||p8(u)}});var m8=Ol.extend({initialize:function(u,p){Ol.prototype.initialize.call(this,this._boundsToLatLngs(u),p)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=he(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function qN(u,p){return new m8(u,p)}Xu.create=r3,Xu.pointsToPath=nn,ys.geometryToLayer=Zf,ys.coordsToLatLng=nm,ys.coordsToLatLngs=Xf,ys.latLngToCoords=rm,ys.latLngsToCoords=Qf,ys.getFeature=Nl,ys.asFeature=Jf,et.mergeOptions({boxZoom:!0});var g8=ji.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Re(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ju(),z2(),this._startPoint=this._map.mouseEventToContainerPoint(u),Be(document,{contextmenu:va,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=me("div","leaflet-zoom-box",this._container),ze(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var p=new q(this._point,this._startPoint),y=p.getSize();rn(this._box,p.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(Re(this._box),Jt(this._container,"leaflet-crosshair")),Vu(),B2(),bt(document,{contextmenu:va,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var p=new le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});et.addInitHook("addHandler","boxZoom",g8),et.mergeOptions({doubleClickZoom:!0});var v8=ji.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var p=this._map,y=p.getZoom(),S=p.options.zoomDelta,k=u.originalEvent.shiftKey?y-S:y+S;p.options.doubleClickZoom==="center"?p.setZoom(k):p.setZoomAround(u.containerPoint,k)}});et.addInitHook("addHandler","doubleClickZoom",v8),et.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var y8=ji.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new lo(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}ze(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Jt(this._map._container,"leaflet-grab"),Jt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=he(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var p=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(p),this._prunePositions(p)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,p){return u-(u-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;u.x<p.min.x&&(u.x=this._viscousLimit(u.x,p.min.x)),u.y<p.min.y&&(u.y=this._viscousLimit(u.y,p.min.y)),u.x>p.max.x&&(u.x=this._viscousLimit(u.x,p.max.x)),u.y>p.max.y&&(u.y=this._viscousLimit(u.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,p=Math.round(u/2),y=this._initialWorldOffset,S=this._draggable._newPos.x,k=(S-p+y)%u+p-y,D=(S+p+y)%u-p-y,B=Math.abs(k+y)<Math.abs(D+y)?k:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(u){var p=this._map,y=p.options,S=!y.inertia||u.noInertia||this._times.length<2;if(p.fire("dragend",u),S)p.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,B=y.easeLinearity,Y=k.multiplyBy(B/D),J=Y.distanceTo([0,0]),ae=Math.min(y.inertiaMaxSpeed,J),ve=Y.multiplyBy(ae/J),Ae=ae/(y.inertiaDeceleration*B),He=ve.multiplyBy(-Ae/2).round();!He.x&&!He.y?p.fire("moveend"):(He=p._limitOffset(He,p.options.maxBounds),z(function(){p.panBy(He,{duration:Ae,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});et.addInitHook("addHandler","dragging",y8),et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _8=ji.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),Be(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,p=document.documentElement,y=u.scrollTop||p.scrollTop,S=u.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(S,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var p=this._panKeys={},y=this.keyCodes,S,k;for(S=0,k=y.left.length;S<k;S++)p[y.left[S]]=[-1*u,0];for(S=0,k=y.right.length;S<k;S++)p[y.right[S]]=[u,0];for(S=0,k=y.down.length;S<k;S++)p[y.down[S]]=[0,u];for(S=0,k=y.up.length;S<k;S++)p[y.up[S]]=[0,-1*u]},_setZoomDelta:function(u){var p=this._zoomKeys={},y=this.keyCodes,S,k;for(S=0,k=y.zoomIn.length;S<k;S++)p[y.zoomIn[S]]=u;for(S=0,k=y.zoomOut.length;S<k;S++)p[y.zoomOut[S]]=-u},_addHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var p=u.keyCode,y=this._map,S;if(p in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(S=this._panKeys[p],u.shiftKey&&(S=F(S).multiplyBy(3)),y.options.maxBounds&&(S=y._limitOffset(F(S),y.options.maxBounds)),y.options.worldCopyJump){var k=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(S)));y.panTo(k)}else y.panBy(S)}else if(p in this._zoomKeys)y.setZoom(y.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;va(u)}}});et.addInitHook("addHandler","keyboard",_8),et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var x8=ji.extend({addHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var p=G_(u),y=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var S=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),S),va(u)},_performZoom:function(){var u=this._map,p=u.getZoom(),y=this._map.options.zoomSnap||0;u._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,D=y?Math.ceil(k/y)*y:k,B=u._limitZoom(p+(this._delta>0?D:-D))-p;this._delta=0,this._startTime=null,B&&(u.options.scrollWheelZoom==="center"?u.setZoom(p+B):u.setZoomAround(this._lastMousePos,p+B))}});et.addInitHook("addHandler","scrollWheelZoom",x8);var YN=600;et.mergeOptions({tapHold:$.touchNative&&$.safari&&$.mobile,tapTolerance:15});var b8=ji.extend({addHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var p=u.touches[0];this._startPos=this._newPos=new U(p.clientX,p.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Be(document,"touchend",In),Be(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),YN),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){bt(document,"touchend",In),bt(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),bt(document,"touchend touchcancel contextmenu",this._cancel,this),bt(document,"touchmove",this._onMove,this)},_onMove:function(u){var p=u.touches[0];this._newPos=new U(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,p){var y=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});y._simulated=!0,p.target.dispatchEvent(y)}});et.addInitHook("addHandler","tapHold",b8),et.mergeOptions({touchZoom:$.touch,bounceAtZoomLimits:!0});var w8=ji.extend({addHooks:function(){ze(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var p=this._map;if(!(!u.touches||u.touches.length!==2||p._animatingZoom||this._zooming)){var y=p.mouseEventToContainerPoint(u.touches[0]),S=p.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(y.add(S)._divideBy(2))),this._startDist=y.distanceTo(S),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),In(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var p=this._map,y=p.mouseEventToContainerPoint(u.touches[0]),S=p.mouseEventToContainerPoint(u.touches[1]),k=y.distanceTo(S)/this._startDist;if(this._zoom=p.getScaleZoom(k,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&k<1||this._zoom>p.getMaxZoom()&&k>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var D=y._add(S)._divideBy(2)._subtract(this._centerPoint);if(k===1&&D.x===0&&D.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var B=o(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(B,this,!0),In(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),bt(document,"touchmove",this._onTouchMove,this),bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});et.addInitHook("addHandler","touchZoom",w8),et.BoxZoom=g8,et.DoubleClickZoom=v8,et.Drag=y8,et.Keyboard=_8,et.ScrollWheelZoom=x8,et.TapHold=b8,et.TouchZoom=w8,n.Bounds=q,n.Browser=$,n.CRS=Se,n.Canvas=d8,n.Circle=tm,n.CircleMarker=Yf,n.Class=Z,n.Control=ui,n.DivIcon=c8,n.DivOverlay=Vi,n.DomEvent=fN,n.DomUtil=hN,n.Draggable=lo,n.Evented=ie,n.FeatureGroup=gs,n.GeoJSON=ys,n.GridLayer=Yu,n.Handler=ji,n.Icon=Dl,n.ImageOverlay=e3,n.LatLng=de,n.LatLngBounds=le,n.Layer=hi,n.LayerGroup=Ml,n.LineUtil=LN,n.Map=et,n.Marker=qf,n.Mixin=xN,n.Path=co,n.Point=U,n.PolyUtil=bN,n.Polygon=Ol,n.Polyline=vs,n.Popup=t3,n.PosAnimation=H_,n.Projection=CN,n.Rectangle=m8,n.Renderer=_s,n.SVG=Xu,n.SVGOverlay=l8,n.TileLayer=Fl,n.Tooltip=n3,n.Transformation=At,n.Util=j,n.VideoOverlay=a8,n.bind=o,n.bounds=re,n.canvas=f8,n.circle=ON,n.circleMarker=DN,n.control=Wu,n.divIcon=GN,n.extend=i,n.featureGroup=PN,n.geoJSON=o8,n.geoJson=$N,n.gridLayer=HN,n.icon=RN,n.imageOverlay=zN,n.latLng=ce,n.latLngBounds=he,n.layerGroup=IN,n.map=pN,n.marker=MN,n.point=F,n.polygon=FN,n.polyline=NN,n.popup=jN,n.rectangle=qN,n.setOptions=v,n.stamp=l,n.svg=p8,n.svgOverlay=UN,n.tileLayer=u8,n.tooltip=VN,n.transformation=Pe,n.version=r,n.videoOverlay=BN;var ZN=window.L;n.noConflict=function(){return window.L=ZN,this},window.L=n})})(sv,sv.exports);var hye=sv.exports;const tr=to(hye),dye={draw:{toolbar:{buttons:{polygon:"Çokgen Çiz",polyline:"Çizgi Çiz",circle:"Daire Çiz"},actions:{title:"Çizimi İptal Et",text:"İptal",finish:{title:"Çizimi Tamamla",text:"Tamamla"},undo:{title:"Son Noktayı Sil",text:"Son Noktayı Sil"},save:{title:"Değişiklikleri Kaydet",text:"Kaydet"},cancel:{title:"Düzenlemeyi İptal Et",text:"İptal"},clearAll:{title:"Tüm Çizimleri Sil",text:"Hepsini Sil"}}},handlers:{circle:{tooltip:{start:"Çizmek için tıklayın ve sürükleyin."},radius:"Yarıçap"},circlemarker:{tooltip:{start:"Çizmek için haritaya tıklayın."}},marker:{tooltip:{start:"Yerleştirmek için haritaya tıklayın."}},polygon:{tooltip:{start:"Çokgen çizimine başlamak için tıklayın.",cont:"Çizime devam etmek için tıklayın.",end:"Çizimi bitirmek için ilk noktaya tıklayın."}},polyline:{error:"<strong>Hata:</strong> şeklin kenarları kesişemez!",tooltip:{start:"Çizgi çizimine başlamak için tıklayın.",cont:"Çizime devam etmek için tıklayın.",end:"Çizimi bitirmek için son noktaya tıklayın."}},rectangle:{tooltip:{start:"Çizmek için tıklayın ve sürükleyin."}},simpleshape:{tooltip:{end:"Çizimi bitirmek için fareyi bırakın."}}}},edit:{handlers:{edit:{tooltip:{text:"Düğmeleri sürükleyerek şeklinizi düzenleyin.",subtext:"Değişiklikleri kaydetmek için iptal tuşuna basın."}},remove:{tooltip:{text:"Tıklayarak çizimi kaldırın."}}}}},fye=({content:t,cordID:e,userID:n,localCords:r,localUserID:i,onDelete:s})=>{const o=()=>{const l=r.filter(c=>c!==e);localStorage.setItem("POVS_MAP_CORDS",JSON.stringify(l)),s()},a=r.find(l=>l===e);return E.jsx(E.Fragment,{children:i===n&&a&&E.jsx("div",{className:"p-1 cursor-pointer flex items-center justify-center",onClick:o,children:E.jsx(be,{style:"delete-marker",size:18,name:"Trash"})})})},pye=({content:t,cordID:e,userID:n,localCords:r,localUserID:i,onDelete:s})=>{const o=()=>{const l=r.filter(c=>c!==e);localStorage.setItem("POVS_MAP_CORDS",JSON.stringify(l)),s()},a=r.find(l=>l===e);return E.jsxs("div",{className:"w-auto h-auto relative cursor-pointer",children:[E.jsx("div",{className:"absolute flex flex-col justify-center items-center -top-2.5 -right-2.5 gap-x-2",children:i===n&&a&&E.jsx("div",{className:"bg-black p-1 rounded-full cursor-pointer",onClick:o,children:E.jsx(be,{style:"delete-marker",size:18,name:"Trash"})})}),E.jsx("div",{className:"flex-shrink-0 p-3 min-w-fit",dangerouslySetInnerHTML:{__html:M$(t)}})]})};(function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(r,i,s){e.o(r,i)||Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(i,"a",i),i},e.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},e.p="/dist/",e(e.s=28)})([function(t,e,n){function r(h){return h==null?h===void 0?l:a:c&&c in Object(h)?s(h):o(h)}var i=n(4),s=n(38),o=n(39),a="[object Null]",l="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(r){return r!=null&&typeof r=="object"}t.exports=n},function(t,e){function n(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}t.exports=n},function(t,e,n){function r(m,g,v){if(v=v||{},!c(v))throw new Error("options is invalid");var _=v.bbox,x=v.id;if(m===void 0)throw new Error("geometry is required");if(g&&g.constructor!==Object)throw new Error("properties must be an Object");_&&h(_),x&&d(x);var b={type:"Feature"};return x&&(b.id=x),_&&(b.bbox=_),b.properties=g||{},b.geometry=m,b}function i(m,g,v){if(!m)throw new Error("coordinates is required");if(!Array.isArray(m))throw new Error("coordinates must be an Array");if(m.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!l(m[0])||!l(m[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:m},g,v)}function s(m,g,v){if(!m)throw new Error("coordinates is required");if(m.length<2)throw new Error("coordinates must be an array of two or more positions");if(!l(m[0][1])||!l(m[0][1]))throw new Error("coordinates must contain numbers");return r({type:"LineString",coordinates:m},g,v)}function o(m,g){if(m==null)throw new Error("radians is required");if(g&&typeof g!="string")throw new Error("units must be a string");var v=f[g||"kilometers"];if(!v)throw new Error(g+" units is invalid");return m*v}function a(m){if(m==null)throw new Error("degrees is required");return m%360*Math.PI/180}function l(m){return!isNaN(m)&&m!==null&&!Array.isArray(m)}function c(m){return!!m&&m.constructor===Object}function h(m){if(!m)throw new Error("bbox is required");if(!Array.isArray(m))throw new Error("bbox must be an Array");if(m.length!==4&&m.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");m.forEach(function(g){if(!l(g))throw new Error("bbox must only contain numbers")})}function d(m){if(!m)throw new Error("id is required");if(["string","number"].indexOf(typeof m)===-1)throw new Error("id must be a number or a string")}n.d(e,"b",function(){return r}),n.d(e,"f",function(){return i}),n.d(e,"e",function(){return s}),n.d(e,"g",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return c});var f={meters:63710088e-1,metres:63710088e-1,millimeters:6371008800,millimetres:6371008800,centimeters:637100880,centimetres:637100880,kilometers:6371.0088,kilometres:6371.0088,miles:3958.761333810546,nauticalmiles:63710088e-1/1852,inches:63710088e-1*39.37,yards:63710088e-1/1.0936,feet:20902260511392e-6,radians:1,degrees:63710088e-1/111325}},function(t,e,n){var r=n(5),i=r.Symbol;t.exports=i},function(t,e,n){var r=n(11),i=typeof self=="object"&&self&&self.Object===Object&&self,s=r||i||Function("return this")();t.exports=s},function(t,e){function n(r,i){return r===i||r!==r&&i!==i}t.exports=n},function(t,e,n){function r(o){return o!=null&&s(o.length)&&!i(o)}var i=n(10),s=n(16);t.exports=r},function(t,e,n){function r(s,o,a){o=="__proto__"&&i?i(s,o,{configurable:!0,enumerable:!0,value:a,writable:!0}):s[o]=a}var i=n(9);t.exports=r},function(t,e,n){var r=n(35),i=function(){try{var s=r(Object,"defineProperty");return s({},"",{}),s}catch{}}();t.exports=i},function(t,e,n){function r(h){if(!s(h))return!1;var d=i(h);return d==a||d==l||d==o||d==c}var i=n(0),s=n(2),o="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e,n){(function(r){var i=typeof r=="object"&&r&&r.Object===Object&&r;t.exports=i}).call(e,n(37))},function(t,e,n){function r(a,l){return o(s(a,l,i),a+"")}var i=n(13),s=n(45),o=n(46);t.exports=r},function(t,e){function n(r){return r}t.exports=n},function(t,e){function n(r,i,s){switch(s.length){case 0:return r.call(i);case 1:return r.call(i,s[0]);case 2:return r.call(i,s[0],s[1]);case 3:return r.call(i,s[0],s[1],s[2])}return r.apply(i,s)}t.exports=n},function(t,e,n){function r(l,c,h){if(!a(h))return!1;var d=typeof c;return!!(d=="number"?s(h)&&o(c,h.length):d=="string"&&c in h)&&i(h[c],l)}var i=n(6),s=n(7),o=n(17),a=n(2);t.exports=r},function(t,e){function n(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=r}var r=9007199254740991;t.exports=n},function(t,e){function n(s,o){var a=typeof s;return!!(o=o??r)&&(a=="number"||a!="symbol"&&i.test(s))&&s>-1&&s%1==0&&s<o}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function r(f,m){var g=o(f),v=!g&&s(f),_=!g&&!v&&a(f),x=!g&&!v&&!_&&c(f),b=g||v||_||x,w=b?i(f.length,String):[],T=w.length;for(var C in f)!m&&!d.call(f,C)||b&&(C=="length"||_&&(C=="offset"||C=="parent")||x&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||l(C,T))||w.push(C);return w}var i=n(51),s=n(52),o=n(19),a=n(54),l=n(17),c=n(56),h=Object.prototype,d=h.hasOwnProperty;t.exports=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(t,e){function n(i){var s=i&&i.constructor;return i===(typeof s=="function"&&s.prototype||r)}var r=Object.prototype;t.exports=n},function(t,e,n){function r(c){if(!s(c))return!1;var h=i(c);return h==l||h==a||typeof c.message=="string"&&typeof c.name=="string"&&!o(c)}var i=n(0),s=n(1),o=n(63),a="[object DOMException]",l="[object Error]";t.exports=r},function(t,e){function n(r,i){return function(s){return r(i(s))}}t.exports=n},function(t,e){function n(r,i){for(var s=-1,o=r==null?0:r.length,a=Array(o);++s<o;)a[s]=i(r[s],s,r);return a}t.exports=n},function(t,e){var n=/<%=([\s\S]+?)%>/g;t.exports=n},function(t,e,n){function r(s){return s==null?"":i(s)}var i=n(75);t.exports=r},function(t,e,n){function r(h,d,f){if(h!==null)for(var m,g,v,_,x,b,w,T,C=0,I=0,M=h.type,A=M==="FeatureCollection",O=M==="Feature",N=A?h.features.length:1,z=0;z<N;z++){w=A?h.features[z].geometry:O?h.geometry:h,T=!!w&&w.type==="GeometryCollection",x=T?w.geometries.length:1;for(var H=0;H<x;H++){var j=0,Z=0;if((_=T?w.geometries[H]:w)!==null){b=_.coordinates;var te=_.type;switch(C=0,te){case null:break;case"Point":if(d(b,I,z,j,Z)===!1)return!1;I++,j++;break;case"LineString":case"MultiPoint":for(m=0;m<b.length;m++){if(d(b[m],I,z,j,Z)===!1)return!1;I++,te==="MultiPoint"&&j++}te==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(m=0;m<b.length;m++){for(g=0;g<b[m].length-C;g++){if(d(b[m][g],I,z,j,Z)===!1)return!1;I++}te==="MultiLineString"&&j++,te==="Polygon"&&Z++}te==="Polygon"&&j++;break;case"MultiPolygon":for(m=0;m<b.length;m++){for(te==="MultiPolygon"&&(Z=0),g=0;g<b[m].length;g++){for(v=0;v<b[m][g].length-C;v++){if(d(b[m][g][v],I,z,j,Z)===!1)return!1;I++}Z++}j++}break;case"GeometryCollection":for(m=0;m<_.geometries.length;m++)if(r(_.geometries[m],d)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(h,d){var f,m,g,v,_,x,b,w,T,C,I=0,M=h.type==="FeatureCollection",A=h.type==="Feature",O=M?h.features.length:1;for(f=0;f<O;f++){for(x=M?h.features[f].geometry:A?h.geometry:h,w=M?h.features[f].properties:A?h.properties:{},T=M?h.features[f].bbox:A?h.bbox:void 0,C=M?h.features[f].id:A?h.id:void 0,b=!!x&&x.type==="GeometryCollection",_=b?x.geometries.length:1,g=0;g<_;g++)if((v=b?x.geometries[g]:x)!==null)switch(v.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(d(v,I,w,T,C)===!1)return!1;break;case"GeometryCollection":for(m=0;m<v.geometries.length;m++)if(d(v.geometries[m],I,w,T,C)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(d(null,I,w,T,C)===!1)return!1;I++}}function s(h,d,f){var m=f;return i(h,function(g,v,_,x,b){m=v===0&&f===void 0?g:d(m,g,v,_,x,b)}),m}function o(h,d){i(h,function(f,m,g,v,_){var x=f===null?null:f.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return d(Object(c.b)(f,g,{bbox:v,id:_}),m,0)===!1?!1:void 0}var b;switch(x){case"MultiPoint":b="Point";break;case"MultiLineString":b="LineString";break;case"MultiPolygon":b="Polygon"}for(var w=0;w<f.coordinates.length;w++){var T=f.coordinates[w],C={type:b,coordinates:T};if(d(Object(c.b)(C,g),m,w)===!1)return!1}})}function a(h,d){o(h,function(f,m,g){var v=0;if(f.geometry){var _=f.geometry.type;if(_!=="Point"&&_!=="MultiPoint"){var x;return r(f,function(b,w,T,C,I){if(x===void 0)return void(x=b);var M=Object(c.e)([x,b],f.properties);if(d(M,m,g,I,v)===!1)return!1;v++,x=b})!==!1&&void 0}}})}function l(h,d,f){var m=f,g=!1;return a(h,function(v,_,x,b,w){m=g===!1&&f===void 0?v:d(m,v,_,x,b,w),g=!0}),m}n.d(e,"a",function(){return s}),n.d(e,"b",function(){return l});var c=n(3)},function(t,e,n){t.exports=n(29)},function(t,e,n){function r(I){return I&&I.__esModule?I:{default:I}}n(30);var i=n(31),s=r(i),o=n(79),a=r(o),l=n(80),c=r(l),h=n(85),d=function(I){if(I&&I.__esModule)return I;var M={};if(I!=null)for(var A in I)Object.prototype.hasOwnProperty.call(I,A)&&(M[A]=I[A]);return M.default=I,M}(h),f=n(86),m=r(f),g=n(87),v=n(88),_={imports:{numberFormat:g.numberFormat},interpolate:/{{([\s\S]+?)}}/g},x=(0,s.default)(v.controlTemplate,_),b=(0,s.default)(v.resultsTemplate,_),w=(0,s.default)(v.pointPopupTemplate,_),T=(0,s.default)(v.linePopupTemplate,_),C=(0,s.default)(v.areaPopupTemplate,_);L.Control.Measure=L.Control.extend({_className:"leaflet-control-measure",options:{units:{},position:"topright",primaryLengthUnit:"feet",secondaryLengthUnit:"miles",primaryAreaUnit:"acres",activeColor:"#ABE67E",completedColor:"#C8F2BE",captureZIndex:1e4,popupOptions:{className:"leaflet-measure-resultpopup",autoPanPadding:[10,10]}},initialize:function(I){L.setOptions(this,I);var M=this.options,A=M.activeColor,O=M.completedColor;this._symbols=new m.default({activeColor:A,completedColor:O}),this.options.units=L.extend({},a.default,this.options.units)},onAdd:function(I){return this._map=I,this._latlngs=[],this._initLayout(),I.on("click",this._collapse,this),this._layer=L.layerGroup().addTo(I),this._container},onRemove:function(I){I.off("click",this._collapse,this),I.removeLayer(this._layer)},_initLayout:function(){var I=this._className,M=this._container=L.DomUtil.create("div",I+" leaflet-bar");M.innerHTML=x({model:{className:I}}),M.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(M),L.DomEvent.disableScrollPropagation(M);var A=this.$toggle=(0,h.selectOne)(".js-toggle",M);this.$interaction=(0,h.selectOne)(".js-interaction",M);var O=(0,h.selectOne)(".js-start",M),N=(0,h.selectOne)(".js-cancel",M),z=(0,h.selectOne)(".js-finish",M);this.$startPrompt=(0,h.selectOne)(".js-startprompt",M),this.$measuringPrompt=(0,h.selectOne)(".js-measuringprompt",M),this.$startHelp=(0,h.selectOne)(".js-starthelp",M),this.$results=(0,h.selectOne)(".js-results",M),this.$measureTasks=(0,h.selectOne)(".js-measuretasks",M),this._collapse(),this._updateMeasureNotStarted(),L.Browser.android||(L.DomEvent.on(M,"mouseenter",this._expand,this),L.DomEvent.on(M,"mouseleave",this._collapse,this)),L.DomEvent.on(A,"click",L.DomEvent.stop),L.Browser.touch?L.DomEvent.on(A,"click",this._expand,this):L.DomEvent.on(A,"focus",this._expand,this),L.DomEvent.on(O,"click",L.DomEvent.stop),L.DomEvent.on(O,"click",this._startMeasure,this),L.DomEvent.on(N,"click",L.DomEvent.stop),L.DomEvent.on(N,"click",this._finishMeasure,this),L.DomEvent.on(z,"click",L.DomEvent.stop),L.DomEvent.on(z,"click",this._handleMeasureDoubleClick,this)},_expand:function(){d.hide(this.$toggle),d.show(this.$interaction)},_collapse:function(){this._locked||(d.hide(this.$interaction),d.show(this.$toggle))},_updateMeasureNotStarted:function(){d.hide(this.$startHelp),d.hide(this.$results),d.hide(this.$measureTasks),d.hide(this.$measuringPrompt),d.show(this.$startPrompt)},_updateMeasureStartedNoPoints:function(){d.hide(this.$results),d.show(this.$startHelp),d.show(this.$measureTasks),d.hide(this.$startPrompt),d.show(this.$measuringPrompt)},_updateMeasureStartedWithPoints:function(){d.hide(this.$startHelp),d.show(this.$results),d.show(this.$measureTasks),d.hide(this.$startPrompt),d.show(this.$measuringPrompt)},_startMeasure:function(){this._locked=!0,this._measureVertexes=L.featureGroup().addTo(this._layer),this._captureMarker=L.marker(this._map.getCenter(),{clickable:!0,zIndexOffset:this.options.captureZIndex,opacity:0}).addTo(this._layer),this._setCaptureMarkerIcon(),this._captureMarker.on("mouseout",this._handleMapMouseOut,this).on("dblclick",this._handleMeasureDoubleClick,this).on("click",this._handleMeasureClick,this),this._map.on("mousemove",this._handleMeasureMove,this).on("mouseout",this._handleMapMouseOut,this).on("move",this._centerCaptureMarker,this).on("resize",this._setCaptureMarkerIcon,this),L.DomEvent.on(this._container,"mouseenter",this._handleMapMouseOut,this),this._updateMeasureStartedNoPoints(),this._map.fire("measurestart",null,!1)},_finishMeasure:function(){var I=L.extend({},this._resultsModel,{points:this._latlngs});this._locked=!1,L.DomEvent.off(this._container,"mouseover",this._handleMapMouseOut,this),this._clearMeasure(),this._captureMarker.off("mouseout",this._handleMapMouseOut,this).off("dblclick",this._handleMeasureDoubleClick,this).off("click",this._handleMeasureClick,this),this._map.off("mousemove",this._handleMeasureMove,this).off("mouseout",this._handleMapMouseOut,this).off("move",this._centerCaptureMarker,this).off("resize",this._setCaptureMarkerIcon,this),this._layer.removeLayer(this._measureVertexes).removeLayer(this._captureMarker),this._measureVertexes=null,this._updateMeasureNotStarted(),this._collapse(),this._map.fire("measurefinish",I,!1)},_clearMeasure:function(){this._latlngs=[],this._resultsModel=null,this._measureVertexes.clearLayers(),this._measureDrag&&this._layer.removeLayer(this._measureDrag),this._measureArea&&this._layer.removeLayer(this._measureArea),this._measureBoundary&&this._layer.removeLayer(this._measureBoundary),this._measureDrag=null,this._measureArea=null,this._measureBoundary=null},_centerCaptureMarker:function(){this._captureMarker.setLatLng(this._map.getCenter())},_setCaptureMarkerIcon:function(){this._captureMarker.setIcon(L.divIcon({iconSize:this._map.getSize().multiplyBy(2)}))},_getMeasurementDisplayStrings:function(I){function M(N,z,H,j,Z){if(z&&O[z]){var te=A(N,O[z],j,Z);return H&&O[H]&&(te=te+" ("+A(N,O[H],j,Z)+")"),te}return A(N,null,j,Z)}function A(N,z,H,j){var Z={acres:"Acres",feet:"Feet",kilometers:"Kilometers",hectares:"Hectares",meters:"Meters",miles:"Miles",sqfeet:"Sq Feet",sqmeters:"Sq Meters",sqmiles:"Sq Miles"},te=L.extend({factor:1,decimals:0},z);return[(0,g.numberFormat)(N*te.factor,te.decimals,H||".",j||","),Z[te.display]||te.display].join(" ")}var O=this.options.units;return{lengthDisplay:M(I.length,this.options.primaryLengthUnit,this.options.secondaryLengthUnit,this.options.decPoint,this.options.thousandsSep),areaDisplay:M(I.area,this.options.primaryAreaUnit,this.options.secondaryAreaUnit,this.options.decPoint,this.options.thousandsSep)}},_updateResults:function(){var I=(0,c.default)(this._latlngs),M=this._resultsModel=L.extend({},I,this._getMeasurementDisplayStrings(I),{pointCount:this._latlngs.length});this.$results.innerHTML=b({model:M})},_handleMeasureMove:function(I){this._measureDrag?this._measureDrag.setLatLng(I.latlng):this._measureDrag=L.circleMarker(I.latlng,this._symbols.getSymbol("measureDrag")).addTo(this._layer),this._measureDrag.bringToFront()},_handleMeasureDoubleClick:function(){var I=this._latlngs,M=void 0,A=void 0;if(this._finishMeasure(),I.length){I.length>2&&I.push(I[0]);var O=(0,c.default)(I);I.length===1?(M=L.circleMarker(I[0],this._symbols.getSymbol("resultPoint")),A=w({model:O})):I.length===2?(M=L.polyline(I,this._symbols.getSymbol("resultLine")),A=T({model:L.extend({},O,this._getMeasurementDisplayStrings(O))})):(M=L.polygon(I,this._symbols.getSymbol("resultArea")),A=C({model:L.extend({},O,this._getMeasurementDisplayStrings(O))}));var N=L.DomUtil.create("div","");N.innerHTML=A;var z=(0,h.selectOne)(".js-zoomto",N);z&&(L.DomEvent.on(z,"click",L.DomEvent.stop),L.DomEvent.on(z,"click",function(){M.getBounds?this._map.fitBounds(M.getBounds(),{padding:[20,20],maxZoom:17}):M.getLatLng&&this._map.panTo(M.getLatLng())},this));var H=(0,h.selectOne)(".js-deletemarkup",N);H&&(L.DomEvent.on(H,"click",L.DomEvent.stop),L.DomEvent.on(H,"click",function(){this._layer.removeLayer(M)},this)),M.addTo(this._layer),M.bindPopup(N,this.options.popupOptions),M.getBounds?M.openPopup(M.getBounds().getCenter()):M.getLatLng&&M.openPopup(M.getLatLng())}},_handleMeasureClick:function(I){var M=this._map.mouseEventToLatLng(I.originalEvent),A=this._latlngs[this._latlngs.length-1],O=this._symbols.getSymbol("measureVertex");A&&M.equals(A)||(this._latlngs.push(M),this._addMeasureArea(this._latlngs),this._addMeasureBoundary(this._latlngs),this._measureVertexes.eachLayer(function(N){N.setStyle(O),N._path&&N._path.setAttribute("class",O.className)}),this._addNewVertex(M),this._measureBoundary&&this._measureBoundary.bringToFront(),this._measureVertexes.bringToFront()),this._updateResults(),this._updateMeasureStartedWithPoints()},_handleMapMouseOut:function(){this._measureDrag&&(this._layer.removeLayer(this._measureDrag),this._measureDrag=null)},_addNewVertex:function(I){L.circleMarker(I,this._symbols.getSymbol("measureVertexActive")).addTo(this._measureVertexes)},_addMeasureArea:function(I){if(I.length<3)return void(this._measureArea&&(this._layer.removeLayer(this._measureArea),this._measureArea=null));this._measureArea?this._measureArea.setLatLngs(I):this._measureArea=L.polygon(I,this._symbols.getSymbol("measureArea")).addTo(this._layer)},_addMeasureBoundary:function(I){if(I.length<2)return void(this._measureBoundary&&(this._layer.removeLayer(this._measureBoundary),this._measureBoundary=null));this._measureBoundary?this._measureBoundary.setLatLngs(I):this._measureBoundary=L.polyline(I,this._symbols.getSymbol("measureBoundary")).addTo(this._layer)}}),L.Map.mergeOptions({measureControl:!1}),L.Map.addInitHook(function(){this.options.measureControl&&(this.measureControl=new L.Control.Measure().addTo(this))}),L.control.measure=function(I){return new L.Control.Measure(I)}},function(t,e){},function(t,e,n){function r(C,I,M){var A=m.imports._.templateSettings||m;M&&h(C,I,M)&&(I=void 0),C=g(C),I=i({},I,A,a);var O,N,z=i({},I.imports,A.imports,a),H=d(z),j=o(z,H),Z=0,te=I.interpolate||w,G="__p += '",ie=RegExp((I.escape||w).source+"|"+te.source+"|"+(te===f?b:w).source+"|"+(I.evaluate||w).source+"|$","g"),U="sourceURL"in I?"//# sourceURL="+I.sourceURL+`
`:"";C.replace(ie,function(q,re,le,he,de,ce){return le||(le=he),G+=C.slice(Z,ce).replace(T,l),re&&(O=!0,G+=`' +
__e(`+re+`) +
'`),de&&(N=!0,G+=`';
`+de+`;
__p += '`),le&&(G+=`' +
((__t = (`+le+`)) == null ? '' : __t) +
'`),Z=ce+q.length,q}),G+=`';
`;var W=I.variable;W||(G=`with (obj) {
`+G+`
}
`),G=(N?G.replace(v,""):G).replace(_,"$1").replace(x,"$1;"),G="function("+(W||"obj")+`) {
`+(W?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(O?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+G+`return __p
}`;var F=s(function(){return Function(H,U+"return "+G).apply(void 0,j)});if(F.source=G,c(F))throw F;return F}var i=n(32),s=n(62),o=n(65),a=n(66),l=n(67),c=n(22),h=n(15),d=n(68),f=n(25),m=n(71),g=n(26),v=/\b__p \+= '';/g,_=/\b(__p \+=) '' \+/g,x=/(__e\(.*?\)|\b__t\)) \+\n'';/g,b=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,w=/($^)/,T=/['\n\r\u2028\u2029\\]/g;t.exports=r},function(t,e,n){var r=n(33),i=n(44),s=n(50),o=i(function(a,l,c,h){r(l,s(l),a,h)});t.exports=o},function(t,e,n){function r(o,a,l,c){var h=!l;l||(l={});for(var d=-1,f=a.length;++d<f;){var m=a[d],g=c?c(l[m],o[m],m,l,o):void 0;g===void 0&&(g=o[m]),h?s(l,m,g):i(l,m,g)}return l}var i=n(34),s=n(8);t.exports=r},function(t,e,n){function r(l,c,h){var d=l[c];a.call(l,c)&&s(d,h)&&(h!==void 0||c in l)||i(l,c,h)}var i=n(8),s=n(6),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(o,a){var l=s(o,a);return i(l)?l:void 0}var i=n(36),s=n(43);t.exports=r},function(t,e,n){function r(v){return!(!o(v)||s(v))&&(i(v)?g:c).test(a(v))}var i=n(10),s=n(40),o=n(2),a=n(42),l=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,h=Function.prototype,d=Object.prototype,f=h.toString,m=d.hasOwnProperty,g=RegExp("^"+f.call(m).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(n=window)}t.exports=n},function(t,e,n){function r(c){var h=o.call(c,l),d=c[l];try{c[l]=void 0;var f=!0}catch{}var m=a.call(c);return f&&(h?c[l]=d:delete c[l]),m}var i=n(4),s=Object.prototype,o=s.hasOwnProperty,a=s.toString,l=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(s){return i.call(s)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(o){return!!s&&s in o}var i=n(41),s=function(){var o=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();t.exports=r},function(t,e,n){var r=n(5),i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(s){if(s!=null){try{return i.call(s)}catch{}try{return s+""}catch{}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e){function n(r,i){return r==null?void 0:r[i]}t.exports=n},function(t,e,n){function r(o){return i(function(a,l){var c=-1,h=l.length,d=h>1?l[h-1]:void 0,f=h>2?l[2]:void 0;for(d=o.length>3&&typeof d=="function"?(h--,d):void 0,f&&s(l[0],l[1],f)&&(d=h<3?void 0:d,h=1),a=Object(a);++c<h;){var m=l[c];m&&o(a,m,c,d)}return a})}var i=n(12),s=n(15);t.exports=r},function(t,e,n){function r(o,a,l){return a=s(a===void 0?o.length-1:a,0),function(){for(var c=arguments,h=-1,d=s(c.length-a,0),f=Array(d);++h<d;)f[h]=c[a+h];h=-1;for(var m=Array(a+1);++h<a;)m[h]=c[h];return m[a]=l(f),i(o,this,m)}}var i=n(14),s=Math.max;t.exports=r},function(t,e,n){var r=n(47),i=n(49),s=i(r);t.exports=s},function(t,e,n){var r=n(48),i=n(9),s=n(13),o=i?function(a,l){return i(a,"toString",{configurable:!0,enumerable:!1,value:r(l),writable:!0})}:s;t.exports=o},function(t,e){function n(r){return function(){return r}}t.exports=n},function(t,e){function n(o){var a=0,l=0;return function(){var c=s(),h=i-(c-l);if(l=c,h>0){if(++a>=r)return arguments[0]}else a=0;return o.apply(void 0,arguments)}}var r=800,i=16,s=Date.now;t.exports=n},function(t,e,n){function r(a){return o(a)?i(a,!0):s(a)}var i=n(18),s=n(60),o=n(7);t.exports=r},function(t,e){function n(r,i){for(var s=-1,o=Array(r);++s<r;)o[s]=i(s);return o}t.exports=n},function(t,e,n){var r=n(53),i=n(1),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(c){return i(c)&&o.call(c,"callee")&&!a.call(c,"callee")};t.exports=l},function(t,e,n){function r(a){return s(a)&&i(a)==o}var i=n(0),s=n(1),o="[object Arguments]";t.exports=r},function(t,e,n){(function(r){var i=n(5),s=n(55),o=typeof e=="object"&&e&&!e.nodeType&&e,a=o&&typeof r=="object"&&r&&!r.nodeType&&r,l=a&&a.exports===o,c=l?i.Buffer:void 0,h=c?c.isBuffer:void 0,d=h||s;r.exports=d}).call(e,n(20)(t))},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){var r=n(57),i=n(58),s=n(59),o=s&&s.isTypedArray,a=o?i(o):r;t.exports=a},function(t,e,n){function r(l){return o(l)&&s(l.length)&&!!a[i(l)]}var i=n(0),s=n(16),o=n(1),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=r},function(t,e){function n(r){return function(i){return r(i)}}t.exports=n},function(t,e,n){(function(r){var i=n(11),s=typeof e=="object"&&e&&!e.nodeType&&e,o=s&&typeof r=="object"&&r&&!r.nodeType&&r,a=o&&o.exports===s,l=a&&i.process,c=function(){try{return l&&l.binding&&l.binding("util")}catch{}}();r.exports=c}).call(e,n(20)(t))},function(t,e,n){function r(c){if(!i(c))return o(c);var h=s(c),d=[];for(var f in c)(f!="constructor"||!h&&l.call(c,f))&&d.push(f);return d}var i=n(2),s=n(21),o=n(61),a=Object.prototype,l=a.hasOwnProperty;t.exports=r},function(t,e){function n(r){var i=[];if(r!=null)for(var s in Object(r))i.push(s);return i}t.exports=n},function(t,e,n){var r=n(14),i=n(12),s=n(22),o=i(function(a,l){try{return r(a,void 0,l)}catch(c){return s(c)?c:new Error(c)}});t.exports=o},function(t,e,n){function r(m){if(!o(m)||i(m)!=a)return!1;var g=s(m);if(g===null)return!0;var v=d.call(g,"constructor")&&g.constructor;return typeof v=="function"&&v instanceof v&&h.call(v)==f}var i=n(0),s=n(64),o=n(1),a="[object Object]",l=Function.prototype,c=Object.prototype,h=l.toString,d=c.hasOwnProperty,f=h.call(Object);t.exports=r},function(t,e,n){var r=n(23),i=r(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){function r(s,o){return i(o,function(a){return s[a]})}var i=n(24);t.exports=r},function(t,e,n){function r(a,l,c,h){return a===void 0||i(a,s[c])&&!o.call(h,c)?l:a}var i=n(6),s=Object.prototype,o=s.hasOwnProperty;t.exports=r},function(t,e){function n(i){return"\\"+r[i]}var r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};t.exports=n},function(t,e,n){function r(a){return o(a)?i(a):s(a)}var i=n(18),s=n(69),o=n(7);t.exports=r},function(t,e,n){function r(l){if(!i(l))return s(l);var c=[];for(var h in Object(l))a.call(l,h)&&h!="constructor"&&c.push(h);return c}var i=n(21),s=n(70),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(23),i=r(Object.keys,Object);t.exports=i},function(t,e,n){var r=n(72),i=n(77),s=n(78),o=n(25),a={escape:i,evaluate:s,interpolate:o,variable:"",imports:{_:{escape:r}}};t.exports=a},function(t,e,n){function r(l){return l=s(l),l&&a.test(l)?l.replace(o,i):l}var i=n(73),s=n(26),o=/[&<>"']/g,a=RegExp(o.source);t.exports=r},function(t,e,n){var r=n(74),i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s=r(i);t.exports=s},function(t,e){function n(r){return function(i){return r==null?void 0:r[i]}}t.exports=n},function(t,e,n){function r(d){if(typeof d=="string")return d;if(o(d))return s(d,r)+"";if(a(d))return h?h.call(d):"";var f=d+"";return f=="0"&&1/d==-l?"-0":f}var i=n(4),s=n(24),o=n(19),a=n(76),l=1/0,c=i?i.prototype:void 0,h=c?c.toString:void 0;t.exports=r},function(t,e,n){function r(a){return typeof a=="symbol"||s(a)&&i(a)==o}var i=n(0),s=n(1),o="[object Symbol]";t.exports=r},function(t,e){var n=/<%-([\s\S]+?)%>/g;t.exports=n},function(t,e){var n=/<%([\s\S]+?)%>/g;t.exports=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default={acres:{factor:24711e-8,display:"acres",decimals:2},feet:{factor:3.2808,display:"feet",decimals:0},kilometers:{factor:.001,display:"kilometers",decimals:2},hectares:{factor:1e-4,display:"hectares",decimals:2},meters:{factor:1,display:"meters",decimals:0},miles:{factor:3.2808/5280,display:"miles",decimals:2},sqfeet:{factor:10.7639,display:"sqfeet",decimals:0},sqmeters:{factor:1,display:"sqmeters",decimals:0},sqmiles:{factor:386102e-12,display:"sqmiles",decimals:2}}},function(t,e,n){function r(d){return d&&d.__esModule?d:{default:d}}function i(d){return d<10?"0"+d.toString():d.toString()}function s(d,f,m){var g=Math.abs(d),v=Math.floor(g),_=Math.floor(60*(g-v)),x=Math.round(3600*(g-v-_/60)*100)/100,b=g===d?f:m;return i(v)+"&deg; "+i(_)+"' "+i(x)+'" '+b}function o(d){var f=d[d.length-1],m=d.map(function(b){return[b.lat,b.lng]}),g=L.polyline(m),v=L.polygon(m),_=1e3*(0,l.default)(g.toGeoJSON(),{units:"kilometers"}),x=(0,h.default)(v.toGeoJSON());return{lastCoord:{dd:{x:f.lng,y:f.lat},dms:{x:s(f.lng,"E","W"),y:s(f.lat,"N","S")}},length:_,area:x}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(81),l=r(a),c=n(84),h=r(c)},function(t,e,n){function r(a,l){if(l=l||{},!Object(o.d)(l))throw new Error("options is invalid");if(!a)throw new Error("geojson is required");return Object(s.b)(a,function(c,h){var d=h.geometry.coordinates;return c+Object(i.a)(d[0],d[1],l)},0)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(82),s=n(27),o=n(3);e.default=r},function(t,e,n){function r(o,a,l){if(l=l||{},!Object(s.d)(l))throw new Error("options is invalid");var c=l.units,h=Object(i.a)(o),d=Object(i.a)(a),f=Object(s.a)(d[1]-h[1]),m=Object(s.a)(d[0]-h[0]),g=Object(s.a)(h[1]),v=Object(s.a)(d[1]),_=Math.pow(Math.sin(f/2),2)+Math.pow(Math.sin(m/2),2)*Math.cos(g)*Math.cos(v);return Object(s.g)(2*Math.atan2(Math.sqrt(_),Math.sqrt(1-_)),c)}var i=n(83),s=n(3);e.a=r},function(t,e,n){function r(i){if(!i)throw new Error("coord is required");if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates;if(Array.isArray(i)&&i.length>=2&&i[0].length===void 0&&i[1].length===void 0)return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}n.d(e,"a",function(){return r}),n(3)},function(t,e,n){function r(h){return Object(l.a)(h,function(d,f){return d+i(f)},0)}function i(h){var d,f=0;switch(h.type){case"Polygon":return s(h.coordinates);case"MultiPolygon":for(d=0;d<h.coordinates.length;d++)f+=s(h.coordinates[d]);return f;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(d=0;d<h.geometries.length;d++)f+=i(h.geometries[d]);return f}}function s(h){var d=0;if(h&&h.length>0){d+=Math.abs(o(h[0]));for(var f=1;f<h.length;f++)d-=Math.abs(o(h[f]))}return d}function o(h){var d,f,m,g,v,_,x,b=0,w=h.length;if(w>2){for(x=0;x<w;x++)x===w-2?(g=w-2,v=w-1,_=0):x===w-1?(g=w-1,v=0,_=1):(g=x,v=x+1,_=x+2),d=h[g],f=h[v],m=h[_],b+=(a(m[0])-a(d[0]))*Math.sin(a(f[1]));b=b*c*c/2}return b}function a(h){return h*Math.PI/180}Object.defineProperty(e,"__esModule",{value:!0});var l=n(27),c=6378137;e.default=r},function(t,e,n){function r(a,l){return l||(l=document),l.querySelector(a)}function i(a,l){return l||(l=document),Array.prototype.slice.call(l.querySelectorAll(a))}function s(a){if(a)return a.setAttribute("style","display:none;"),a}function o(a){if(a)return a.removeAttribute("style"),a}Object.defineProperty(e,"__esModule",{value:!0}),e.selectOne=r,e.selectAll=i,e.hide=s,e.show=o},function(t,e,n){function r(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function a(l,c){for(var h=0;h<c.length;h++){var d=c[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,c,h){return c&&a(l.prototype,c),h&&a(l,h),l}}(),s={activeColor:"#ABE67E",completedColor:"#C8F2BE"},o=function(){function a(l){r(this,a),this._options=L.extend({},s,this._options,l)}return i(a,[{key:"getSymbol",value:function(l){return{measureDrag:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:.7,fillColor:this._options.activeColor,fillOpacity:.5,className:"layer-measuredrag"},measureArea:{clickable:!1,stroke:!1,fillColor:this._options.activeColor,fillOpacity:.2,className:"layer-measurearea"},measureBoundary:{clickable:!1,color:this._options.activeColor,weight:2,opacity:.9,fill:!1,className:"layer-measureboundary"},measureVertex:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:.7,className:"layer-measurevertex"},measureVertexActive:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:1,className:"layer-measurevertex active"},resultArea:{clickable:!0,color:this._options.completedColor,weight:2,opacity:.9,fillColor:this._options.completedColor,fillOpacity:.2,className:"layer-measure-resultarea"},resultLine:{clickable:!0,color:this._options.completedColor,weight:3,opacity:.9,fill:!1,className:"layer-measure-resultline"},resultPoint:{clickable:!0,radius:4,color:this._options.completedColor,weight:2,opacity:1,fillColor:this._options.completedColor,fillOpacity:.7,className:"layer-measure-resultpoint"}}[l]}}]),a}();e.default=o},function(t,e,n){function r(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:",",l=i<0?"-":"",c=Math.abs(+i||0),h=parseInt(c.toFixed(s),10)+"",d=h.length>3?h.length%3:0;return[l,d?h.substr(0,d)+a:"",h.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+a),s?""+o+Math.abs(c-h).toFixed(s).slice(2):""].join("")}Object.defineProperty(e,"__esModule",{value:!0}),e.numberFormat=r},function(t,e,n){function r(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(89);Object.defineProperty(e,"controlTemplate",{enumerable:!0,get:function(){return r(i).default}});var s=n(90);Object.defineProperty(e,"resultsTemplate",{enumerable:!0,get:function(){return r(s).default}});var o=n(91);Object.defineProperty(e,"pointPopupTemplate",{enumerable:!0,get:function(){return r(o).default}});var a=n(92);Object.defineProperty(e,"linePopupTemplate",{enumerable:!0,get:function(){return r(a).default}});var l=n(93);Object.defineProperty(e,"areaPopupTemplate",{enumerable:!0,get:function(){return r(l).default}})},function(t,e,n){t.exports='<a class="{{ model.className }}-toggle js-toggle" href=# title="Measure distances and areas">Measure</a> <div class="{{ model.className }}-interaction js-interaction"> <div class="js-startprompt startprompt"> <h3>Measure distances and areas</h3> <ul class=tasks> <a href=# class="js-start start">Create a new measurement</a> </ul> </div> <div class=js-measuringprompt> <h3>Measure distances and areas</h3> <p class=js-starthelp>Start creating a measurement by adding points to the map</p> <div class="js-results results"></div> <ul class="js-measuretasks tasks"> <li><a href=# class="js-cancel cancel">Cancel</a></li> <li><a href=# class="js-finish finish">Finish measurement</a></li> </ul> </div> </div> '},function(t,e,n){t.exports='<div class=group> <p class="lastpoint heading">Last point</p> <p>{{ model.lastCoord.dms.y }} <span class=coorddivider>/</span> {{ model.lastCoord.dms.x }}</p> <p>{{ numberFormat(model.lastCoord.dd.y, 6) }} <span class=coorddivider>/</span> {{ numberFormat(model.lastCoord.dd.x, 6) }}</p> </div> <% if (model.pointCount > 1) { %> <div class=group> <p><span class=heading>Path distance</span> {{ model.lengthDisplay }}</p> </div> <% } %> <% if (model.pointCount > 2) { %> <div class=group> <p><span class=heading>Area</span> {{ model.areaDisplay }}</p> </div> <% } %> '},function(t,e,n){t.exports='<h3>Point location</h3> <p>{{ model.lastCoord.dms.y }} <span class=coorddivider>/</span> {{ model.lastCoord.dms.x }}</p> <p>{{ numberFormat(model.lastCoord.dd.y, 6) }} <span class=coorddivider>/</span> {{ numberFormat(model.lastCoord.dd.x, 6) }}</p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto">Center on this location</a></li> <li><a href=# class="js-deletemarkup deletemarkup">Delete</a></li> </ul> '},function(t,e,n){t.exports='<h3>Linear measurement</h3> <p>{{ model.lengthDisplay }}</p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto">Center on this line</a></li> <li><a href=# class="js-deletemarkup deletemarkup">Delete</a></li> </ul> '},function(t,e,n){t.exports='<h3>Area measurement</h3> <p>{{ model.areaDisplay }}</p> <p>{{ model.lengthDisplay }} Perimeter</p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto">Center on this area</a></li> <li><a href=# class="js-deletemarkup deletemarkup">Delete</a></li> </ul> '}]);(function(t,e,n){function r(i,s){for(;(i=i.parentElement)&&!i.classList.contains(s););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,s){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,s&&s.shapeOptions&&(s.shapeOptions=L.Util.extend({},this.options.shapeOptions,s.shapeOptions)),L.setOptions(this,s);var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),s=this._poly,o=s.getLatLngs(),a=o.splice(-1,1)[0];this._poly.setLatLngs(o),this._markerGroup.removeLayer(i),s.getLatLngs().length<2&&this._map.removeLayer(s),this._vertexChanged(a,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),s=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&s||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent),o=this._map.layerPointToLatLng(s);this._currentLatLng=o,this._updateTooltip(o),this._updateGuide(s),this._mouseMarker.setLatLng(o),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,s){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,s),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var s=i.originalEvent,o=s.clientX,a=s.clientY;this._startPoint.call(this,o,a)}},_startPoint:function(i,s){this._mouseDownOrigin=L.point(i,s)},_onMouseUp:function(i){var s=i.originalEvent,o=s.clientX,a=s.clientY;this._endPoint.call(this,o,a,i),this._clickHandled=null},_endPoint:function(i,s,o){if(this._mouseDownOrigin){var a=L.point(i,s).distanceTo(this._mouseDownOrigin),l=this._calculateFinishDistance(o.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(o.latlng),this._finishShape()):l<10&&L.Browser.touch?this._finishShape():Math.abs(a)<9*(t.devicePixelRatio||1)&&this.addVertex(o.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var s,o,a=i.originalEvent;!a.touches||!a.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(s=a.touches[0].clientX,o=a.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,s,o),this._endPoint.call(this,s,o,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var s;if(this._markers.length>0){var o;if(this.type===L.Draw.Polyline.TYPE)o=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;o=this._markers[0]}var a=this._map.latLngToContainerPoint(o.getLatLng()),l=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),c=this._map.latLngToContainerPoint(l.getLatLng());s=a.distanceTo(c)}else s=1/0;return s},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var s=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(s),s},_updateGuide:function(i){var s=this._markers?this._markers.length:0;s>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[s-1].getLatLng()),i))},_updateTooltip:function(i){var s=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(s)},_drawGuide:function(i,s){var o,a,l,c=Math.floor(Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))),h=this.options.guidelineDistance,d=this.options.maxGuideLineLength,f=c>d?c-d:h;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));f<c;f+=this.options.guidelineDistance)o=f/c,a={x:Math.floor(i.x*(1-o)+o*s.x),y:Math.floor(i.y*(1-o)+o*s.y)},l=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),l.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(l,a)},_updateGuideColor:function(i){if(this._guidesContainer)for(var s=0,o=this._guidesContainer.childNodes.length;s<o;s++)this._guidesContainer.childNodes[s].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,s,o=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(s=o?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:s}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:s}),i},_updateRunningMeasure:function(i,s){var o,a,l=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(o=l-(s?2:1),a=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[o].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[o].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=a*(s?1:-1))},_getMeasurementString:function(){var i,s=this._currentLatLng,o=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?o&&s&&s.distanceTo?this._measurementRunningTotal+s.distanceTo(o)*(this.options.factor||1):this._measurementRunningTotal||0:o&&s?this._measurementRunningTotal+this._map.distance(s,o)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,s){L.Draw.Polyline.prototype.initialize.call(this,i,s),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,s;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,s=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,s=this._getMeasurementString()),{text:i,subtext:s}},_getMeasurementString:function(){var i=this._area,s="";return i||this.options.showLength?(this.options.showLength&&(s=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(s+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),s):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,s){var o;!this.options.allowIntersection&&this.options.showArea&&(o=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(o)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,s)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,s){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var s=i.latlng;this._tooltip.updatePosition(s),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(s))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,s){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,s)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!r(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,s,o,a=L.Draw.SimpleShape.prototype._getTooltipText.call(this),l=this._shape,c=this.options.showArea;return l&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),s=L.GeometryUtil.geodesicArea(i),o=c?L.GeometryUtil.readableArea(s,this.options.metric):""),{text:a.text,subtext:o}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,s){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var s=i.latlng;this._tooltip.updatePosition(s),this._mouseMarker.setLatLng(s),this._marker?(s=this._mouseMarker.getLatLng(),this._marker.setLatLng(s)):(this._marker=this._createMarker(s),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,s){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,s)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,s){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,s)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var s=this._startLatLng.distanceTo(i);else var s=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(s):(this._shape=new L.Circle(this._startLatLng,s,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var s,o=i.latlng,a=this.options.showRadius,l=this.options.metric;if(this._tooltip.updatePosition(o),this._isDrawing){this._drawShape(o),s=this._shape.getRadius().toFixed(1);var c="";a&&(c=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(s,l,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:c})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,s){this._marker=i,L.setOptions(this,s)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var s=i.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,s){var o=parseInt(i.style.marginTop,10)-s,a=parseInt(i.style.marginLeft,10)-s;i.style.marginTop=o+"px",i.style.marginLeft=a+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var s=0;s<this._verticesHandlers.length;s++)i(this._verticesHandlers[s])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,s,o){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,o&&o.drawError&&(o.drawError=L.Util.extend({},this.options.drawError,o.drawError)),this._latlngs=s,L.setOptions(this,o)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,s=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),s&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(o){L.DomUtil.removeClass(s,o)}),i.options.editing.className.split(" ").forEach(function(o){L.DomUtil.addClass(s,o)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,s=i._path;s&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(o){L.DomUtil.removeClass(s,o)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(o){L.DomUtil.addClass(s,o)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,s,o,a,l=this._defaultShape();for(i=0,o=l.length;i<o;i++)a=this._createMarker(l[i],i),a.on("click",this._onMarkerClick,this),a.on("contextmenu",this._onContextMenu,this),this._markers.push(a);var c,h;for(i=0,s=o-1;i<o;s=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(c=this._markers[s],h=this._markers[i],this._createMiddleMarker(c,h),this._updatePrevNext(c,h))},_createMarker:function(i,s){var o=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return o._origLatLng=i,o._index=s,o.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(o),o},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),s=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),s},_removeMarker:function(i){var s=i._index;this._markerGroup.removeLayer(i),this._markers.splice(s,1),this._spliceLatLngs(s,1),this._updateIndexes(s,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var s=i.target,o=this._poly,a=L.LatLngUtil.cloneLatLng(s._origLatLng);if(L.extend(s._origLatLng,s._latlng),o.options.poly){var l=o._map._editTooltip;if(!o.options.poly.allowIntersection&&o.intersects()){L.extend(s._origLatLng,a),s.setLatLng(a);var c=o.options.color;o.setStyle({color:this.options.drawError.color}),l&&l.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){o.setStyle({color:c}),l&&l.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}s._middleLeft&&s._middleLeft.setLatLng(this._getMiddleLatLng(s._prev,s)),s._middleRight&&s._middleRight.setLatLng(this._getMiddleLatLng(s,s._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var h=this._poly.getLatLngs();this._poly._convertLatLngs(h,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var s=L.Polygon&&this._poly instanceof L.Polygon?4:3,o=i.target;this._defaultShape().length<s||(this._removeMarker(o),this._updatePrevNext(o._prev,o._next),o._middleLeft&&this._markerGroup.removeLayer(o._middleLeft),o._middleRight&&this._markerGroup.removeLayer(o._middleRight),o._prev&&o._next?this._createMiddleMarker(o._prev,o._next):o._prev?o._next||(o._prev._middleRight=null):o._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var s=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:s,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),o=this._map.layerPointToLatLng(s),a=i.target;L.extend(a._origLatLng,o),a._middleLeft&&a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev,a)),a._middleRight&&a._middleRight.setLatLng(this._getMiddleLatLng(a,a._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,s){this._markerGroup.eachLayer(function(o){o._index>i&&(o._index+=s)})},_createMiddleMarker:function(i,s){var o,a,l,c=this._getMiddleLatLng(i,s),h=this._createMarker(c);h.setOpacity(.6),i._middleRight=s._middleLeft=h,a=function(){h.off("touchmove",a,this);var d=s._index;h._index=d,h.off("click",o,this).on("click",this._onMarkerClick,this),c.lat=h.getLatLng().lat,c.lng=h.getLatLng().lng,this._spliceLatLngs(d,0,c),this._markers.splice(d,0,h),h.setOpacity(1),this._updateIndexes(d,1),s._index++,this._updatePrevNext(i,h),this._updatePrevNext(h,s),this._poly.fire("editstart")},l=function(){h.off("dragstart",a,this),h.off("dragend",l,this),h.off("touchmove",a,this),this._createMiddleMarker(i,h),this._createMiddleMarker(h,s)},o=function(){a.call(this),l.call(this),this._fireEdit()},h.on("click",o,this).on("dragstart",a,this).on("dragend",l,this).on("touchmove",a,this),this._markerGroup.addLayer(h)},_updatePrevNext:function(i,s){i&&(i._next=s),s&&(s._prev=i)},_getMiddleLatLng:function(i,s){var o=this._poly._map,a=o.project(i.getLatLng()),l=o.project(s.getLatLng());return o.unproject(a._add(l)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,s){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,s)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var s=0,o=this._resizeMarkers.length;s<o;s++)this._unbindMarker(this._resizeMarkers[s]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,s){var o=new L.Marker.Touch(i,{draggable:!0,icon:s,zIndexOffset:10});return this._bindMarker(o),this._markerGroup.addLayer(o),o},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var s=i.target,o=s.getLatLng();s===this._moveMarker?this._move(o):this._resize(o),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var s=this._getCorners(),o=i.target,a=o._cornerIndex;o.setOpacity(0),this._oppositeCorner=s[(a+2)%4],this._toggleCornerMarkers(0,a)}this._shape.fire("editstart")},_onTouchMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),o=this._map.layerPointToLatLng(s);return i.target===this._moveMarker?this._move(o):this._resize(o),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),s=i.getCenter();this._moveMarker=this._createMarker(s,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var s=0,o=i.length;s<o;s++)this._resizeMarkers.push(this._createMarker(i[s],this.options.resizeIcon)),this._resizeMarkers[s]._cornerIndex=s},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var s=this._getCorners(),o=i.target,a=o._cornerIndex;this._oppositeCorner=s[(a+2)%4],this._toggleCornerMarkers(0,a)},_onMarkerDragEnd:function(i){var s,o,a=i.target;a===this._moveMarker&&(s=this._shape.getBounds(),o=s.getCenter(),a.setLatLng(o)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var s,o=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),a=this._shape.getBounds(),l=a.getCenter(),c=[],h=0,d=o.length;h<d;h++)s=[o[h].lat-l.lat,o[h].lng-l.lng],c.push([i.lat+s[0],i.lng+s[1]]);this._shape.setLatLngs(c),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var s;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),s=this._shape.getBounds(),this._moveMarker.setLatLng(s.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var s=0,o=this._resizeMarkers.length;s<o;s++)this._resizeMarkers[s].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),s=0,o=this._resizeMarkers.length;s<o;s++)this._resizeMarkers[s].setLatLng(i[s])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var s=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(s)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),s=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(s,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var s=this._shape._radius*Math.cos(Math.PI/4),o=this._map.project(i);return this._map.unproject([o.x+s,o.y-s])},_resize:function(i){var s=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=s.distanceTo(i):radius=this._map.distance(s,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,s){var o={};if(i.touches!==void 0){if(!i.touches.length)return;o=i.touches[0]}else if(i.pointerType!=="touch"||(o=i,!this._filterClick(i)))return;var a=this._map.mouseEventToContainerPoint(o),l=this._map.mouseEventToLayerPoint(o),c=this._map.layerPointToLatLng(l);this._map.fire(s,{latlng:c,layerPoint:l,containerPoint:a,pageX:o.pageX,pageY:o.pageY,originalEvent:i})},_filterClick:function(i){var s=i.timeStamp||i.originalEvent.timeStamp,o=L.DomEvent._lastClick&&s-L.DomEvent._lastClick;return o&&o>100&&o<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=s,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var s="touchcancel";this._detectIE()&&(s="pointercancel"),this._touchEvent(i,s)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=t.navigator.userAgent,s=i.indexOf("MSIE ");if(s>0)return parseInt(i.substring(s+5,i.indexOf(".",s)),10);if(i.indexOf("Trident/")>0){var o=i.indexOf("rv:");return parseInt(i.substring(o+3,i.indexOf(".",o)),10)}var a=i.indexOf("Edge/");return a>0&&parseInt(i.substring(a+5,i.indexOf(".",a)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,s=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?s.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):s.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var o=0;o<s.length;o++)L.DomEvent.on(i,s[o],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=t.navigator.userAgent,s=i.indexOf("MSIE ");if(s>0)return parseInt(i.substring(s+5,i.indexOf(".",s)),10);if(i.indexOf("Trident/")>0){var o=i.indexOf("rv:");return parseInt(i.substring(o+3,i.indexOf(".",o)),10)}var a=i.indexOf("Edge/");return a>0&&parseInt(i.substring(a+5,i.indexOf(".",a)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var s=[],o=0,a=i.length;o<a;o++)Array.isArray(i[o])?s.push(L.LatLngUtil.cloneLatLngs(i[o])):s.push(this.cloneLatLng(i[o]));return s},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(s){var o,a,l=s.length,c=0,h=Math.PI/180;if(l>2){for(var d=0;d<l;d++)o=s[d],a=s[(d+1)%l],c+=(a.lng-o.lng)*h*(2+Math.sin(o.lat*h)+Math.sin(a.lat*h));c=6378137*c*6378137/2}return Math.abs(c)},formattedNumber:function(s,o){var a=parseFloat(s).toFixed(o),l=L.drawLocal.format&&L.drawLocal.format.numeric,c=l&&l.delimiters,h=c&&c.thousands,d=c&&c.decimal;if(h||d){var f=a.split(".");a=h?f[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h):f[0],d=d||".",f.length>1&&(a=a+d+f[1])}return a},readableArea:function(s,o,h){var l,c,h=L.Util.extend({},i,h);return o?(c=["ha","m"],type=typeof o,type==="string"?c=[o]:type!=="boolean"&&(c=o),l=s>=1e6&&c.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*s,h.km)+" km²":s>=1e4&&c.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*s,h.ha)+" ha":L.GeometryUtil.formattedNumber(s,h.m)+" m²"):(s/=.836127,l=s>=3097600?L.GeometryUtil.formattedNumber(s/3097600,h.mi)+" mi²":s>=4840?L.GeometryUtil.formattedNumber(s/4840,h.ac)+" acres":L.GeometryUtil.formattedNumber(s,h.yd)+" yd²"),l},readableDistance:function(s,o,a,l,d){var h,d=L.Util.extend({},i,d);switch(o?typeof o=="string"?o:"metric":a?"feet":l?"nauticalMile":"yards"){case"metric":h=s>1e3?L.GeometryUtil.formattedNumber(s/1e3,d.km)+" km":L.GeometryUtil.formattedNumber(s,d.m)+" m";break;case"feet":s*=3.28083,h=L.GeometryUtil.formattedNumber(s,d.ft)+" ft";break;case"nauticalMile":s*=.53996,h=L.GeometryUtil.formattedNumber(s/1e3,d.nm)+" nm";break;case"yards":default:s*=1.09361,h=s>1760?L.GeometryUtil.formattedNumber(s/1760,d.mi)+" miles":L.GeometryUtil.formattedNumber(s,d.yd)+" yd"}return h},isVersion07x:function(){var s=L.version.split(".");return parseInt(s[0],10)===0&&parseInt(s[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,s,o,a){return this._checkCounterclockwise(i,o,a)!==this._checkCounterclockwise(s,o,a)&&this._checkCounterclockwise(i,s,o)!==this._checkCounterclockwise(i,s,a)},_checkCounterclockwise:function(i,s,o){return(o.y-i.y)*(s.x-i.x)>(s.y-i.y)*(o.x-i.x)}}),L.Polyline.include({intersects:function(){var i,s,o,a=this._getProjectedPoints(),l=a?a.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=l-1;i>=3;i--)if(s=a[i-1],o=a[i],this._lineSegmentsIntersectsRange(s,o,i-2))return!0;return!1},newLatLngIntersects:function(i,s){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),s)},newPointIntersects:function(i,s){var o=this._getProjectedPoints(),a=o?o.length:0,l=o?o[a-1]:null,c=a-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(l,i,c,s?1:0)},_tooFewPointsForIntersection:function(i){var s=this._getProjectedPoints(),o=s?s.length:0;return o+=i||0,!s||o<=3},_lineSegmentsIntersectsRange:function(i,s,o,a){var l,c,h=this._getProjectedPoints();a=a||0;for(var d=o;d>a;d--)if(l=h[d-1],c=h[d],L.LineUtil.segmentsIntersect(i,s,l,c))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],s=this._defaultShape(),o=0;o<s.length;o++)i.push(this._map.latLngToLayerPoint(s[o]));return i}}),L.Polygon.include({intersects:function(){var i,s,o,a,l=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=l.length,s=l[0],o=l[i-1],a=i-2,this._lineSegmentsIntersectsRange(o,s,a,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var s;this._toolbars={},L.DrawToolbar&&this.options.draw&&(s=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=s,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(s=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=s,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var s,o=L.DomUtil.create("div","leaflet-draw"),a=!1;for(var l in this._toolbars)this._toolbars.hasOwnProperty(l)&&(s=this._toolbars[l].addToolbar(i))&&(a||(L.DomUtil.hasClass(s,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(s.childNodes[0],"leaflet-draw-toolbar-top"),a=!0),o.appendChild(s));return o},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var s in this._toolbars)this._toolbars[s]instanceof L.DrawToolbar&&this._toolbars[s].setOptions(i)},_toolbarEnabled:function(i){var s=i.target;for(var o in this._toolbars)this._toolbars[o]!==s&&this._toolbars[o].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var s,o=L.DomUtil.create("div","leaflet-draw-section"),a=0,l=this._toolbarClass||"",c=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,s=0;s<c.length;s++)c[s].enabled&&this._initModeHandler(c[s].handler,this._toolbarContainer,a++,l,c[s].title);if(a)return this._lastButtonIndex=--a,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),o.appendChild(this._toolbarContainer),o.appendChild(this._actionsContainer),o},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var s=0,o=this._actionButtons.length;s<o;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,s,o,a,l){var c=i.type;this._modes[c]={},this._modes[c].handler=i,this._modes[c].button=this._createButton({type:c,title:l,className:a+"-"+c,container:s,callback:this._modes[c].handler.enable,context:this._modes[c].handler}),this._modes[c].buttonIndex=o,this._modes[c].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(i){var s=L.DomUtil.create("a",i.className||"",i.container),o=L.DomUtil.create("span","sr-only",i.container);s.href="#",s.appendChild(o),i.title&&(s.title=i.title,o.innerHTML=i.title),i.text&&(s.innerHTML=i.text,o.innerHTML=i.text);var a=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(s,"click",L.DomEvent.stopPropagation).on(s,"mousedown",L.DomEvent.stopPropagation).on(s,"dblclick",L.DomEvent.stopPropagation).on(s,"touchstart",L.DomEvent.stopPropagation).on(s,"click",L.DomEvent.preventDefault).on(s,a,i.callback,i.context),s},_disposeButton:function(i,s){var o=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,o,s)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var s,o,a,l,c=this._actionsContainer,h=this.getActions(i),d=h.length;for(o=0,a=this._actionButtons.length;o<a;o++)this._disposeButton(this._actionButtons[o].button,this._actionButtons[o].callback);for(this._actionButtons=[];c.firstChild;)c.removeChild(c.firstChild);for(var f=0;f<d;f++)"enabled"in h[f]&&!h[f].enabled||(s=L.DomUtil.create("li","",c),l=this._createButton({title:h[f].title,text:h[f].text,container:s,callback:h[f].callback,context:h[f].context}),this._actionButtons.push({button:l,callback:h[f].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,s=this._lastButtonIndex,o=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=o+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===s&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var s=this._map.latLngToLayerPoint(i),o=this._container;return this._container&&(this._visible&&(o.style.visibility="inherit"),L.DomUtil.setPosition(o,s)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var s in this.options)this.options.hasOwnProperty(s)&&i[s]&&(i[s]=L.extend({},this.options[s],i[s]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var s in this._modes)this._modes.hasOwnProperty(s)&&i.hasOwnProperty(s)&&this._modes[s].handler.setOptions(i[s])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var s=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:s,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:s}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var s=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&s.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),s},addToolbar:function(i){var s=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),s},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,s=this.options.featureGroup,o=s.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,o?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",o?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,o?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",o?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,s){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,s),this._featureGroup=s.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(s){s.edited&&(i.addLayer(s),s.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var s=L.Util.stamp(i);this._uneditedLayerProps[s]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[s]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var s=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(s)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[s].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[s].latlng),i.setRadius(this._uneditedLayerProps[s].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[s].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var s,o,a=i.layer||i.target||i;this._backupLayer(a),this.options.poly&&(o=L.Util.extend({},this.options.poly),a.options.poly=o),this.options.selectedPathOptions&&(s=L.Util.extend({},this.options.selectedPathOptions),s.maintainColor&&(s.color=a.options.color,s.fillColor=a.options.fillColor),a.options.original=L.extend({},a.options),a.options.editing=s),a instanceof L.Marker?(a.editing&&a.editing.enable(),a.dragging.enable(),a.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):a.editing.enable()},_disableLayerEdit:function(i){var s=i.layer||i.target||i;s.edited=!1,s.editing&&s.editing.disable(),delete s.options.editing,delete s.options.original,this._selectedPathOptions&&(s instanceof L.Marker?this._toggleMarkerHighlight(s):(s.setStyle(s.options.previousOptions),delete s.options.previousOptions)),s instanceof L.Marker?(s.dragging.disable(),s.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):s.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var s=i.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_onTouchMove:function(i){var s=i.originalEvent.changedTouches[0],o=this._map.mouseEventToLayerPoint(s),a=this._map.layerPointToLatLng(o);i.target.setLatLng(a)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,s){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,s),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var s=i.layer||i.target||i;s.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(s)},_removeLayer:function(i){var s=i.layer||i.target||i;this._deletableLayers.removeLayer(s),this._deletedLayers.addLayer(s),s.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);const mye=()=>{const t=JSON.parse(localStorage.getItem("POVS_MAP_CORDS"))||[],{admin:e,mapMode:n}=Qn(z=>z.utils),[r,i]=P.useState({x:0,y:0}),s=localStorage.getItem("POVS_MAP_ID"),[o,a]=P.useState(!1),[l,c]=P.useState([]),[h,d]=P.useState(!1),f=P.useRef(null),{server:m}=bl(),g=P.useRef(null),[v,_]=P.useState(null),[x,b]=P.useState(null),[w,T]=P.useState([]),[C,I]=P.useState(!1),M=z=>{const H=z==="people"?"/man.svg":"/marker.svg";return tr.icon({popupAnchor:[-3,-76],iconUrl:H,iconAnchor:[22,94],iconSize:[32,95]})},A=P.useCallback(()=>{const z=ot(at,`${m.name}/MAP_CORDS`);Oo(z,H=>{const j=H.val();if(j){const Z=Object.values(j);c(Z)}d(!0)})},[m.name]);P.useEffect(()=>{A()},[A]),P.useEffect(()=>{if(!g.current){Object.assign(tr.drawLocal,dye);const z=tr.map("map",{crs:tr.CRS.Simple,maxBounds:[[-120,-200],[90,180]]});tr.tileLayer(`./tiles/${n}/{z}-{x}_{y}.png?{foo}`,{attribution:"pvs-map",tileSize:320,maxZoom:7.49,minZoom:3,foo:"bar"}).addTo(z),z.setView([-55,55],3),g.current=z,z.on("mousedown",()=>a(!1)),z.on("mousemove",G=>{a(!0),i({x:G.latlng.lng,y:G.latlng.lat}),f.current&&(f.current.style.left=`${G.originalEvent.clientX}px`,f.current.style.top=`${G.originalEvent.clientY}px`)}),z.on("mouseup",()=>setTimeout(()=>a(!1),100));const H=()=>z.closePopup();let j;const Z=[];l.filter(G=>G.message&&G.message!=="").forEach((G,ie)=>{var q,re,le,he;const U=tr.marker([G.y,G.x],{icon:M(((q=G.type)==null?void 0:q.code)||"location"),coordIndex:ie}).addTo(z);((re=G.type)==null?void 0:re.code)==="people"&&G.userID===s&&(_(U),b(U.getLatLng()));const W=document.createElement("div");Rp.createRoot(W).render(((le=G.type)==null?void 0:le.code)==="people"?E.jsx(fye,{localUserID:s,localCords:t,userID:G.userID,cordID:G.cordID}):E.jsx(pye,{localUserID:s,localCords:t,content:G.message,userID:G.userID,cordID:G.cordID,close:H,admin:e}));const F=tr.popup({className:"custom-popup"}).setContent(W);if(U.on("mouseover",()=>{clearTimeout(j),U.bindPopup(F).openPopup()}),U.on("mouseout",()=>{j=setTimeout(()=>U.closePopup(),300)}),W.addEventListener("mouseover",()=>clearTimeout(j)),W.addEventListener("mouseout",()=>{j=setTimeout(()=>U.closePopup(),300)}),U.on("popupopen",()=>{const de=W.querySelector(".delete-marker");de==null||de.addEventListener("click",async()=>{await PV(m.name,ie),z.removeLayer(U)})}),((he=G.type)==null?void 0:he.code)==="people"&&G.name){const de=tr.tooltip({permanent:!0,direction:"top",offset:[-6.2,-60]}).setContent(G.name).setLatLng([G.y,G.x]).addTo(z);Z.push({marker:U,popup:F,tooltip:de})}else Z.push({marker:U,popup:F})}),T(Z);const te=ot(at,`${m.name}/MAP_MESSAGES`);uV(te,G=>{const ie=G.val();O(ie)})}return()=>{g.current&&(g.current.remove(),g.current=null)}},[l]);const O=({message:z,userID:H})=>{h&&l.forEach(j=>{var Z,te;if(((Z=j.type)==null?void 0:Z.code)==="people"&&j.userID===H){const G=tr.marker([j.y,j.x],{icon:M(((te=j.type)==null?void 0:te.code)||"location")}).addTo(g.current),ie=document.createElement("div");ie.className="message-popup",ie.innerHTML=z;const U=tr.popup({className:"custom-popup"}).setContent(ie),W=tr.latLng(j.y,j.x);G.setLatLng(W),G.bindPopup(U).openPopup(),setTimeout(()=>{G.closePopup(),g.current.removeLayer(G)},2e3)}})},N=()=>{o||pn("ADD_CORD",{title:"Konum işaretle",mousePosition:r,server:m})};return P.useEffect(()=>{const z=H=>{if(!v||C)return;let j=v.getLatLng();const Z=.2;switch(H.key){case"w":j=tr.latLng(j.lat+Z,j.lng);break;case"a":j=tr.latLng(j.lat,j.lng-Z);break;case"s":j=tr.latLng(j.lat-Z,j.lng);break;case"d":j=tr.latLng(j.lat,j.lng+Z);break;default:return}v.setLatLng(j);const te=v.options.coordIndex,G=ot(at,`${m.name}/MAP_CORDS/${te}`);no(G,{x:j.lng,y:j.lat})};return window.addEventListener("keydown",z),()=>{window.removeEventListener("keydown",z)}},[v,C]),E.jsxs("div",{className:"w-screen h-screen relative overflow-hidden bg-[#143D6B]",children:[E.jsx("div",{className:"absolute bottom-0 left-2/4 -translate-x-2/4 z-[1000] backdrop-blur-lg bg-white/50 dark:bg-black/40 rounded-t-lg opacity-80 py-0.5 px-1.5 text-sm",children:"Harita üzerinde dilediğiniz konuma tıklayarak bir mesaj bırakabilirsiniz"}),E.jsx(ft,{style:{radius:{button:"rounded-full"}},className:"absolute top-4 right-4 z-[1000] backdrop-blur-lg",content:{icon:{name:"Return"}},link:"/"}),E.jsx("div",{className:"w-full h-full bg-[#143D6B]",onClick:N,id:"map"})]})};function gye(){const{fetchAllStreamers:t,streamers:e,loading:n,liveStreamers:r}=Z0e(),i=hI(),{favorites:s,search:o,platform:a,startWatch:l}=Qn(w=>w.utils),{spaceStreamers:c}=Qn(w=>w.space),[h,d]=P.useState([]);P.useEffect(()=>{i(mv(!1))},[]),console.log(c),P.useEffect(()=>{t(c.twitch,c.kick,s)},[c,t,s]),P.useEffect(()=>{const w=JSON.parse(localStorage.getItem("POVS_FAVS"));w&&i(F0(w))},[i]),P.useEffect(()=>{localStorage.setItem("POVS_FAVS",JSON.stringify(s))},[s]),P.useEffect(()=>{const w=localStorage.getItem("POVS_BIG_STREAM");w!==null&&i(pv(w==="true"))},[i]),P.useEffect(()=>{if(e){const w=e.reduce((T,C)=>{const I=C.name.toLowerCase(),M=Object.keys(T).find(A=>A.includes(I));return M?T[M].push(C):T[I]=[C],T},{});d(Object.values(w))}},[e]);const f={hidden:{opacity:0,y:200},show:{opacity:1,y:0,transition:{delayChildren:.07,staggerChildren:.07}}};if(l&&r.length===0)return E.jsx("div",{className:"bg-red-500/10 flex items-center justify-center border-4 border-red-500/[.15] h-screen",children:"Çevimiçi yayıncı bulunamadı"});if(c.twitch.length!==0||c.kick.length!==0){if(n||!h.length)return E.jsx("div",{className:"w-full flex flex-wrap flex-auto gap-6 p-2 sm:px-8 sm:pt-4 sm:pb-8",children:Array.from({length:40},(w,T)=>E.jsx(Io,{streamerGroup:[],loading:!0,index:T},T))})}else return E.jsx("div",{className:"w-screen h-screen -z-10 fixed inset-0 flex items-center justify-center",children:"Yukarıdaki panel sekmesinden sayfanızı yönetebilirsiniz"});const m=h.filter(w=>a==="all"||w.some(T=>T.platform===a)),g=m.filter(w=>w.some(T=>r.some(C=>C.name.toLowerCase()===T.name.toLowerCase()&&C.platform===T.platform))),v=m.filter(w=>!w.some(T=>r.some(C=>C.name.toLowerCase()===T.name.toLowerCase()&&C.platform===T.platform))),_=w=>w.some(T=>T.name.toLowerCase().includes(o.toLowerCase())||T.title.toLowerCase().includes(o.toLowerCase())||T.characters.some(C=>C.name.toLowerCase().includes(o.toLowerCase()))),x=g.filter(_),b=v.filter(_);return E.jsxs("div",{className:"p-2 sm:px-8 sm:pt-4 sm:pb-8",children:[E.jsx($n.div,{className:"w-full flex flex-wrap flex-auto gap-6",variants:f,initial:"hidden",animate:"show",children:o===""?g.map((w,T)=>E.jsx(Io,{streamerGroup:w,liveStreamers:r,privateSpace:!0,index:T},T)):x.map((w,T)=>E.jsx(Io,{streamerGroup:w,liveStreamers:r,privateSpace:!0,index:T},T))}),E.jsx($n.div,{className:Ye("w-full flex flex-wrap flex-auto gap-6",{"!mt-6":g.length>0}),variants:f,initial:"hidden",animate:"show",children:b.map((w,T)=>E.jsx(Io,{streamerGroup:w,liveStreamers:r,privateSpace:!0,index:T},T))})]})}function vye(){return E.jsxs(Q0e,{children:[E.jsx("div",{className:"w-full h-auto px-8 pt-8 pb-4 space-y-4 flex flex-col",children:E.jsx(jM,{privateSpace:!0})}),E.jsx(yI,{privateSpace:!0}),E.jsx(gye,{})]})}const yye=uK([{path:"/",element:E.jsx(uye,{}),children:[{index:!0,element:E.jsx(s1e,{})},{path:"/watch/:id",element:E.jsx(a1e,{})},{path:"/panel",element:E.jsx(xD,{})},{path:"/map",element:E.jsx(mye,{})},{path:"/@me",element:E.jsx(vye,{})}]}]);Rp.createRoot(document.getElementById("pvs")).render(E.jsx(KK,{store:cn,children:E.jsx(NV,{children:E.jsx(OV,{children:E.jsx(yK,{router:yye})})})}));
